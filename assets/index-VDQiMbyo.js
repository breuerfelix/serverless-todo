var ad=Object.defineProperty;var cd=(e,t,r)=>t in e?ad(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var oe=(e,t,r)=>(cd(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Nr,z,Mc,st,ji,Nc,Vn,Ls,Kn,Xn,Vt={},$c=[],ud=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,js=Array.isArray;function Ke(e,t){for(var r in t)e[r]=t[r];return e}function Fc(e){var t=e.parentNode;t&&t.removeChild(e)}function ld(e,t,r){var n,i,s,o={};for(s in t)s=="key"?n=t[s]:s=="ref"?i=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?Nr.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return mr(e,o,n,i,null)}function mr(e,t,r,n,i){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Mc,__i:-1,__u:0};return i==null&&z.vnode!=null&&z.vnode(s),s}function $r(e){return e.children}function ot(e,t){this.props=e,this.context=t}function ct(e,t){if(t==null)return e.__?ct(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?ct(e):null}function Dc(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Dc(e)}}function Hi(e){(!e.__d&&(e.__d=!0)&&st.push(e)&&!vr.__r++||ji!==z.debounceRendering)&&((ji=z.debounceRendering)||Nc)(vr)}function vr(){var e,t,r,n,i,s,o,a;for(st.sort(Vn);e=st.shift();)e.__d&&(t=st.length,n=void 0,s=(i=(r=e).__v).__e,o=[],a=[],r.__P&&((n=Ke({},i)).__v=i.__v+1,z.vnode&&z.vnode(n),Hs(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[s]:null,o,s??ct(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,jc(o,n,a),n.__e!=s&&Dc(n)),st.length>t&&st.sort(Vn));vr.__r=0}function Uc(e,t,r,n,i,s,o,a,u,c,l){var d,f,p,g,m,v=n&&n.__k||$c,E=t.length;for(r.__d=u,dd(r,t,v),u=r.__d,d=0;d<E;d++)(p=r.__k[d])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Vt:v[p.__i]||Vt,p.__i=d,Hs(e,p,f,i,s,o,a,u,c,l),g=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&zs(f.ref,null,p),l.push(p.ref,p.__c||g,p)),m==null&&g!=null&&(m=g),65536&p.__u||f.__k===p.__k?(u&&!u.isConnected&&(u=ct(f)),u=Lc(p,u,e)):typeof p.type=="function"&&p.__d!==void 0?u=p.__d:g&&(u=g.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=u,r.__e=m}function dd(e,t,r){var n,i,s,o,a,u=t.length,c=r.length,l=c,d=0;for(e.__k=[],n=0;n<u;n++)o=n+d,(i=e.__k[n]=(i=t[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?mr(null,i,null,null,null):js(i)?mr($r,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?mr(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,a=fd(i,r,o,l),i.__i=a,s=null,a!==-1&&(l--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?d++:a>o?l>u-o?d+=a-o:d--:a<o?a==o-1&&(d=a-o):d=0,a!==n+d&&(i.__u|=65536))):(s=r[o])&&s.key==null&&s.__e&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=ct(s)),Zn(s,s,!1),r[o]=null,l--);if(l)for(n=0;n<c;n++)(s=r[n])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=ct(s)),Zn(s,s))}function Lc(e,t,r){var n,i;if(typeof e.type=="function"){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,t=Lc(n[i],t,r));return t}e.__e!=t&&(r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function fd(e,t,r,n){var i=e.key,s=e.type,o=r-1,a=r+1,u=t[r];if(u===null||u&&i==u.key&&s===u.type&&!(131072&u.__u))return r;if(n>(u!=null&&!(131072&u.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((u=t[o])&&!(131072&u.__u)&&i==u.key&&s===u.type)return o;o--}if(a<t.length){if((u=t[a])&&!(131072&u.__u)&&i==u.key&&s===u.type)return a;a++}}return-1}function zi(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||ud.test(t)?r:r+"px"}function lr(e,t,r,n,i){var s;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||zi(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||zi(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=Ls,e.addEventListener(t,s?Xn:Kn,s)):e.removeEventListener(t,s?Xn:Kn,s);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,r))}}function qi(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=Ls++;else if(t.t<r.u)return;return r(z.event?z.event(t):t)}}}function Hs(e,t,r,n,i,s,o,a,u,c){var l,d,f,p,g,m,v,E,O,$,q,H,ve,Te,cr,Ee=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(u=!!(32&r.__u),s=[a=t.__e=r.__e]),(l=z.__b)&&l(t);e:if(typeof Ee=="function")try{if(E=t.props,O=(l=Ee.contextType)&&n[l.__c],$=l?O?O.props.value:l.__:n,r.__c?v=(d=t.__c=r.__c).__=d.__E:("prototype"in Ee&&Ee.prototype.render?t.__c=d=new Ee(E,$):(t.__c=d=new ot(E,$),d.constructor=Ee,d.render=pd),O&&O.sub(d),d.props=E,d.state||(d.state={}),d.context=$,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),Ee.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Ke({},d.__s)),Ke(d.__s,Ee.getDerivedStateFromProps(E,d.__s))),p=d.props,g=d.state,d.__v=t,f)Ee.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(Ee.getDerivedStateFromProps==null&&E!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(E,$),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(E,d.__s,$)===!1||t.__v===r.__v)){for(t.__v!==r.__v&&(d.props=E,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(ur){ur&&(ur.__=t)}),q=0;q<d._sb.length;q++)d.__h.push(d._sb[q]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(E,d.__s,$),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,g,m)})}if(d.context=$,d.props=E,d.__P=e,d.__e=!1,H=z.__r,ve=0,"prototype"in Ee&&Ee.prototype.render){for(d.state=d.__s,d.__d=!1,H&&H(t),l=d.render(d.props,d.state,d.context),Te=0;Te<d._sb.length;Te++)d.__h.push(d._sb[Te]);d._sb=[]}else do d.__d=!1,H&&H(t),l=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++ve<25);d.state=d.__s,d.getChildContext!=null&&(n=Ke(Ke({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(p,g)),Uc(e,js(cr=l!=null&&l.type===$r&&l.key==null?l.props.children:l)?cr:[cr],t,r,n,i,s,o,a,u,c),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),v&&(d.__E=d.__=null)}catch(ur){t.__v=null,u||s!=null?(t.__e=a,t.__u|=u?160:32,s[s.indexOf(a)]=null):(t.__e=r.__e,t.__k=r.__k),z.__e(ur,t,r)}else s==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=hd(r.__e,t,r,n,i,s,o,u,c);(l=z.diffed)&&l(t)}function jc(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)zs(r[n],r[++n],r[++n]);z.__c&&z.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){z.__e(s,i.__v)}})}function hd(e,t,r,n,i,s,o,a,u){var c,l,d,f,p,g,m,v=r.props,E=t.props,O=t.type;if(O==="svg"?i="http://www.w3.org/2000/svg":O==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!O&&(O?p.localName===O:p.nodeType===3)){e=p,s[c]=null;break}}if(e==null){if(O===null)return document.createTextNode(E);e=document.createElementNS(i,O,E.is&&E),s=null,a=!1}if(O===null)v===E||a&&e.data===E||(e.data=E);else{if(s=s&&Nr.call(e.childNodes),v=r.props||Vt,!a&&s!=null)for(v={},c=0;c<e.attributes.length;c++)v[(p=e.attributes[c]).name]=p.value;for(c in v)if(p=v[c],c!="children"){if(c=="dangerouslySetInnerHTML")d=p;else if(c!=="key"&&!(c in E)){if(c=="value"&&"defaultValue"in E||c=="checked"&&"defaultChecked"in E)continue;lr(e,c,null,p,i)}}for(c in E)p=E[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?l=p:c=="value"?g=p:c=="checked"?m=p:c==="key"||a&&typeof p!="function"||v[c]===p||lr(e,c,p,v[c],i);if(l)a||d&&(l.__html===d.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(d&&(e.innerHTML=""),Uc(e,js(f)?f:[f],t,r,n,O==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&ct(r,0),a,u),s!=null)for(c=s.length;c--;)s[c]!=null&&Fc(s[c]);a||(c="value",g!==void 0&&(g!==e[c]||O==="progress"&&!g||O==="option"&&g!==v[c])&&lr(e,c,g,v[c],i),c="checked",m!==void 0&&m!==e[c]&&lr(e,c,m,v[c],i))}return e}function zs(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){z.__e(n,r)}}function Zn(e,t,r){var n,i;if(z.unmount&&z.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||zs(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){z.__e(s,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&Zn(n[i],t,r||typeof e.type!="function");r||e.__e==null||Fc(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function pd(e,t,r){return this.constructor(e,r)}function yd(e,t,r){var n,i,s,o;z.__&&z.__(e,t),i=(n=typeof r=="function")?null:t.__k,s=[],o=[],Hs(t,e=(!n&&r||t).__k=ld($r,null,[e]),i||Vt,Vt,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?Nr.call(t.childNodes):null,s,!n&&r?r:i?i.__e:t.firstChild,n,o),jc(s,e,o)}Nr=$c.slice,z={__e:function(e,t,r,n){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(a){e=a}throw e}},Mc=0,ot.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ke({},this.state),typeof e=="function"&&(e=e(Ke({},r),this.props)),e&&Ke(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),Hi(this))},ot.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Hi(this))},ot.prototype.render=$r,st=[],Nc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vn=function(e,t){return e.__v.__b-t.__v.__b},vr.__r=0,Ls=0,Kn=qi(!1),Xn=qi(!0);function gd(){let e="";for(let t=0;t<32;t++){const r=Math.random()*16|0;(t===8||t===12||t===16||t===20)&&(e+="-"),e+=(t===12?4:t===16?r&3|8:r).toString(16)}return e}function md(e,t){return e===1?t:`${t}s`}const _d=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},bd=e=>({httpHandler:e.httpHandler()});var Gi;(function(e){e.HEADER="header",e.QUERY="query"})(Gi||(Gi={}));var Wi;(function(e){e.HEADER="header",e.QUERY="query"})(Wi||(Wi={}));var Kt;(function(e){e.HTTP="http",e.HTTPS="https"})(Kt||(Kt={}));var Er;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Er||(Er={}));var Vi;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Vi||(Vi={}));const Yn="__smithy_context";var Ki;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Ki||(Ki={}));var Xi;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Xi||(Xi={}));class _e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const t=new _e({...this,headers:{...this.headers}});return t.query&&(t.query=wd(t.query)),t}}function wd(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class Xt{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function Sd(e){return t=>async r=>{var i,s;const{request:n}=r;return _e.isInstance(n)&&n.body&&e.runtime==="node"&&((s=(i=e.requestHandler)==null?void 0:i.constructor)==null?void 0:s.name)!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}const xd={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},vd=e=>({applyToStack:t=>{t.add(Sd(e),xd)}});const Ed=e=>t=>async r=>{if(!_e.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},Ad={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Cd=e=>({applyToStack:t=>{t.add(Ed(e),Ad)}}),Rd=()=>(e,t)=>async r=>{var n,i;try{const s=await e(r),{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=c,f=l??t.inputFilterSensitiveLog,p=d??t.outputFilterSensitiveLog,{$metadata:g,...m}=s.output;return(n=u==null?void 0:u.info)==null||n.call(u,{clientName:o,commandName:a,input:f(r.input),output:p(m),metadata:g}),s}catch(s){const{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l}=c,d=l??t.inputFilterSensitiveLog;throw(i=u==null?void 0:u.error)==null||i.call(u,{clientName:o,commandName:a,input:d(r.input),error:s,metadata:s.$metadata}),s}},Td={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Od=e=>({applyToStack:t=>{t.add(Rd(),Td)}});var Zi={};const Yi="X-Amzn-Trace-Id",Pd="AWS_LAMBDA_FUNCTION_NAME",Bd="_X_AMZN_TRACE_ID",kd=e=>t=>async r=>{const{request:n}=r;if(!_e.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(Yi))return t(r);const i=Zi[Pd],s=Zi[Bd],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(n.headers[Yi]=s),t({...r,request:n})},Id={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Md=e=>({applyToStack:t=>{t.add(kd(e),Id)}});class qs{trace(){}debug(){}info(){}warn(){}error(){}}const tt=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},He=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Ar=()=>{let e=[],t=[],r=!1;const n=new Set,i=d=>d.sort((f,p)=>Qi[p.step]-Qi[f.step]||Ji[p.priority||"normal"]-Ji[f.priority||"normal"]),s=d=>{let f=!1;const p=g=>{const m=tt(g.name,g.aliases);if(m.includes(d)){f=!0;for(const v of m)n.delete(v);return!1}return!0};return e=e.filter(p),t=t.filter(p),f},o=d=>{let f=!1;const p=g=>{if(g.middleware===d){f=!0;for(const m of tt(g.name,g.aliases))n.delete(m);return!1}return!0};return e=e.filter(p),t=t.filter(p),f},a=d=>{var f;return e.forEach(p=>{d.add(p.middleware,{...p})}),t.forEach(p=>{d.addRelativeTo(p.middleware,{...p})}),(f=d.identifyOnResolve)==null||f.call(d,l.identifyOnResolve()),d},u=d=>{const f=[];return d.before.forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...u(p))}),f.push(d),d.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...u(p))}),f},c=(d=!1)=>{const f=[],p=[],g={};return e.forEach(v=>{const E={...v,before:[],after:[]};for(const O of tt(E.name,E.aliases))g[O]=E;f.push(E)}),t.forEach(v=>{const E={...v,before:[],after:[]};for(const O of tt(E.name,E.aliases))g[O]=E;p.push(E)}),p.forEach(v=>{if(v.toMiddleware){const E=g[v.toMiddleware];if(E===void 0){if(d)return;throw new Error(`${v.toMiddleware} is not found when adding ${He(v.name,v.aliases)} middleware ${v.relation} ${v.toMiddleware}`)}v.relation==="after"&&E.after.push(v),v.relation==="before"&&E.before.push(v)}}),i(f).map(u).reduce((v,E)=>(v.push(...E),v),[])},l={add:(d,f={})=>{const{name:p,override:g,aliases:m}=f,v={step:"initialize",priority:"normal",middleware:d,...f},E=tt(p,m);if(E.length>0){if(E.some(O=>n.has(O))){if(!g)throw new Error(`Duplicate middleware name '${He(p,m)}'`);for(const O of E){const $=e.findIndex(H=>{var ve;return H.name===O||((ve=H.aliases)==null?void 0:ve.some(Te=>Te===O))});if($===-1)continue;const q=e[$];if(q.step!==v.step||v.priority!==q.priority)throw new Error(`"${He(q.name,q.aliases)}" middleware with ${q.priority} priority in ${q.step} step cannot be overridden by "${He(p,m)}" middleware with ${v.priority} priority in ${v.step} step.`);e.splice($,1)}}for(const O of E)n.add(O)}e.push(v)},addRelativeTo:(d,f)=>{const{name:p,override:g,aliases:m}=f,v={middleware:d,...f},E=tt(p,m);if(E.length>0){if(E.some(O=>n.has(O))){if(!g)throw new Error(`Duplicate middleware name '${He(p,m)}'`);for(const O of E){const $=t.findIndex(H=>{var ve;return H.name===O||((ve=H.aliases)==null?void 0:ve.some(Te=>Te===O))});if($===-1)continue;const q=t[$];if(q.toMiddleware!==v.toMiddleware||q.relation!==v.relation)throw new Error(`"${He(q.name,q.aliases)}" middleware ${q.relation} "${q.toMiddleware}" middleware cannot be overridden by "${He(p,m)}" middleware ${v.relation} "${v.toMiddleware}" middleware.`);t.splice($,1)}}for(const O of E)n.add(O)}t.push(v)},clone:()=>a(Ar()),use:d=>{d.applyToStack(l)},remove:d=>typeof d=="string"?s(d):o(d),removeByTag:d=>{let f=!1;const p=g=>{const{tags:m,name:v,aliases:E}=g;if(m&&m.includes(d)){const O=tt(v,E);for(const $ of O)n.delete($);return f=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),f},concat:d=>{var p;const f=a(Ar());return f.use(d),f.identifyOnResolve(r||f.identifyOnResolve()||(((p=d.identifyOnResolve)==null?void 0:p.call(d))??!1)),f},applyToStack:a,identify:()=>c(!0).map(d=>{const f=d.step??d.relation+" "+d.toMiddleware;return He(d.name,d.aliases)+" - "+f}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,f)=>{for(const p of c().map(g=>g.middleware).reverse())d=p(d,f);return r&&console.log(l.identify()),d}};return l},Qi={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ji={high:3,normal:2,low:1};class Nd{constructor(t){this.middlewareStack=Ar(),this.config=t}send(t,r,n){const i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const Ye={},_t=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){const n=String.fromCharCode(e+t);Ye[n]=e,_t[e]=n}for(let e=0,t=97,r=122;e+t<=r;e++){const n=String.fromCharCode(e+t),i=e+26;Ye[n]=i,_t[i]=n}for(let e=0;e<10;e++){Ye[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;Ye[t]=r,_t[r]=t}Ye["+"]=62;_t[62]="+";Ye["/"]=63;_t[63]="/";const pt=6,jt=8,$d=63,Gs=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let i=0;i<e.length;i+=4){let s=0,o=0;for(let c=i,l=i+3;c<=l;c++)if(e[c]!=="="){if(!(e[c]in Ye))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);s|=Ye[e[c]]<<(l-c)*pt,o+=pt}else s>>=pt;const a=i/4*3;s>>=o%jt;const u=Math.floor(o/jt);for(let c=0;c<u;c++){const l=(u-c-1)*jt;n.setUint8(a+c,(s&255<<l)>>l)}}return new Uint8Array(r)},ut=e=>new TextEncoder().encode(e),yt=e=>typeof e=="string"?ut(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Ws=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function Vs(e){let t;typeof e=="string"?t=ut(e):t=e;const r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<t.length;s+=3){let o=0,a=0;for(let c=s,l=Math.min(s+3,t.length);c<l;c++)o|=t[c]<<(l-c-1)*jt,a+=jt;const u=Math.ceil(a/pt);o<<=u*pt-a;for(let c=1;c<=u;c++){const l=(u-c)*pt;i+=_t[(o&$d<<l)>>l]}i+="==".slice(0,4-u)}return i}function Fd(e,t="utf-8"){return t==="base64"?Vs(e):Ws(e)}function Dd(e,t){return t==="base64"?at.mutate(Gs(e)):at.mutate(ut(e))}class at extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return Dd(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,at.prototype),t}transformToString(t="utf-8"){return Fd(this,t)}}const Ud=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=t,a=r!==void 0&&n!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,u=a?o(i,e):void 0,c=e.getReader();return new ReadableStream({async pull(l){const{value:d,done:f}=await c.read();if(f){if(l.enqueue(`0\r
`),a){const p=r(await u);l.enqueue(`${s}:${p}\r
`),l.enqueue(`\r
`)}l.close()}else l.enqueue(`${(n(d)||0).toString(16)}\r
${d}\r
`)}})},Xe=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ld),Ld=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function jd(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=Xe(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)t.push(`${r}=${Xe(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${Xe(n)}`),t.push(i)}}return t.join("&")}function Hd(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const zd={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")};class Ks{static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new Ks(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,i=this.config.keepAlive===!0;if(r!=null&&r.aborted){const m=new Error("Request aborted");return m.name="AbortError",Promise.reject(m)}let s=t.path;const o=jd(t.query||{});o&&(s+=`?${o}`),t.fragment&&(s+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){const m=t.username??"",v=t.password??"";a=`${m}:${v}@`}const{port:u,method:c}=t,l=`${t.protocol}//${a}${t.hostname}${u?`:${u}`:""}${s}`,d=c==="GET"||c==="HEAD"?void 0:t.body,f={body:d,headers:new Headers(t.headers),method:c};d&&(f.duplex="half"),typeof AbortController<"u"&&(f.signal=r),zd.supported&&(f.keepalive=i);const p=new Request(l,f),g=[fetch(p).then(m=>{const v=m.headers,E={};for(const $ of v.entries())E[$[0]]=$[1];return m.body!=null?{response:new Xt({headers:E,reason:m.statusText,statusCode:m.status,body:m.body})}:m.blob().then($=>({response:new Xt({headers:E,reason:m.statusText,statusCode:m.status,body:$})}))}),Hd(n)];return r&&g.push(new Promise((m,v)=>{r.onabort=()=>{const E=new Error("Request aborted");E.name="AbortError",v(E)}})),Promise.race(g)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const Hc=e=>typeof Blob=="function"&&e instanceof Blob?qd(e):Gd(e);async function qd(e){const t=await Wd(e),r=Gs(t);return new Uint8Array(r)}async function Gd(e){const t=[],r=e.getReader();let n=!1,i=0;for(;!n;){const{done:a,value:u}=await r.read();u&&(t.push(u),i+=u.length),n=a}const s=new Uint8Array(i);let o=0;for(const a of t)s.set(a,o),o+=a.length;return s}function Wd(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;t(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const zc={},Qn={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),zc[e]=t,Qn[t]=e}function qc(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in Qn)t[r/2]=Qn[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function ge(e){let t="";for(let r=0;r<e.byteLength;r++)t+=zc[e[r]];return t}const eo="The stream has already been transformed.",Vd=e=>{var i,s;if(!to(e)&&!ro(e)){const o=((s=(i=e==null?void 0:e.__proto__)==null?void 0:i.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1;const r=async()=>{if(t)throw new Error(eo);return t=!0,await Hc(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return Vs(a);if(o==="hex")return ge(a);if(o===void 0||o==="utf8"||o==="utf-8")return Ws(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(eo);if(t=!0,to(e))return n(e);if(ro(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},to=e=>typeof Blob=="function"&&e instanceof Blob,ro=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,Gc=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return at.mutate(e);if(!e)return at.mutate(new Uint8Array);const r=t.streamCollector(e);return at.mutate(await r)};class Fr{constructor(){this.middlewareStack=Ar()}static classBuilder(){return new Kd}resolveMiddlewareWithContext(t,r,n,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:c,additionalContext:l,CommandCtor:d}){for(const v of i.bind(this)(d,t,r,n))this.middlewareStack.use(v);const f=t.concat(this.middlewareStack),{logger:p}=r,g={logger:p,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[Yn]:{...c},...l},{requestHandler:m}=r;return f.resolve(v=>m.handle(v.request,n||{}),g)}}class Kd{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){const t=this;let r;return r=class extends Fr{static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=n??{},t._init(this)}resolveMiddleware(n,i,s){return this.resolveMiddlewareWithContext(n,i,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const Le="***SensitiveInformation***",Jn=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Xd=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Vc.warn(Wc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Zd=Math.ceil(2**127*(2-2**-23)),no=e=>{const t=Xd(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>Zd)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},es=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},so=e=>Xs(e,32),io=e=>Xs(e,16),oo=e=>Xs(e,8),Xs=(e,t)=>{const r=es(e);if(r!==void 0&&Yd(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Yd=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Ht=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Qd=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},zt=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Vc.warn(Wc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Jd=e=>no(typeof e=="string"?ar(e):e),ef=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ar=e=>{const t=e.match(ef);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},tf=e=>es(typeof e=="string"?ar(e):e),Kr=e=>so(typeof e=="string"?ar(e):e),Cr=e=>io(typeof e=="string"?ar(e):e),rf=e=>oo(typeof e=="string"?ar(e):e),Wc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Vc={warn:console.warn},nf=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Zs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _r(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),s=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),u=i<10?`0${i}`:`${i}`,c=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,d=a<10?`0${a}`:`${a}`;return`${nf[n]}, ${u} ${Zs[r]} ${t} ${c}:${l}:${d} GMT`}const sf=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Kc=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=sf.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,i,s,o,a,u,c,l]=t,d=Cr(Zt(n)),f=Ze(i,"month",1,12),p=Ze(s,"day",1,31),g=br(d,f,p,{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c});return l.toUpperCase()!="Z"&&g.setTime(g.getTime()-gf(l)),g},of=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),af=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),cf=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ts=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=of.exec(e);if(t){const[r,n,i,s,o,a,u,c]=t;return br(Cr(Zt(s)),Xr(i),Ze(n,"day",1,31),{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c})}if(t=af.exec(e),t){const[r,n,i,s,o,a,u,c]=t;return df(br(uf(s),Xr(i),Ze(n,"day",1,31),{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c}))}if(t=cf.exec(e),t){const[r,n,i,s,o,a,u,c]=t;return br(Cr(Zt(c)),Xr(n),Ze(i.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:a,fractionalMilliseconds:u})}throw new TypeError("Invalid RFC-7231 date-time value")},br=(e,t,r,n)=>{const i=t-1;return hf(e,i,r),new Date(Date.UTC(e,i,r,Ze(n.hours,"hour",0,23),Ze(n.minutes,"minute",0,59),Ze(n.seconds,"seconds",0,60),yf(n.fractionalMilliseconds)))},uf=e=>{const t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Cr(Zt(e));return r<t?r+100:r},lf=50*365*24*60*60*1e3,df=e=>e.getTime()-new Date().getTime()>lf?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Xr=e=>{const t=Zs.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},ff=[31,28,31,30,31,30,31,31,30,31,30,31],hf=(e,t,r)=>{let n=ff[t];if(t===1&&pf(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Zs[t]} in ${e}: ${r}`)},pf=e=>e%4===0&&(e%100!==0||e%400===0),Ze=(e,t,r,n)=>{const i=rf(Zt(e));if(i<r||i>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return i},yf=e=>e==null?0:Jd("0."+e)*1e3,gf=e=>{const t=e[0];let r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const n=Number(e.substring(1,3)),i=Number(e.substring(4,6));return r*(n*60+i)*60*1e3},Zt=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};class Ys extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Ys.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const $e=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},mf=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const i=bf(e),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:i});throw $e(o,t)},_f=e=>({output:t,parsedBody:r,errorCode:n})=>{mf({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},bf=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),wf=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Sf=e=>{const t=[];for(const r in Er){const n=Er[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},xf=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},vf=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},Ef=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},Af=e=>({...Sf(e),...vf(e)}),Cf=e=>({...xf(e),...Ef(e)});function ao(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const Xc=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Xc(e[r]));return e},rs=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};rs.prototype=Object.create(String.prototype,{constructor:{value:rs,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(rs,String);function J(e,t,r){let n,i,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return i=t,s=r,Rf(n,i,s);s=t}for(const o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}Tf(n,null,s,o)}return n}const Rf=(e,t,r)=>J(e,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[t,s()]:n[i]=[t,s],n),{})),Tf=(e,t,r,n)=>{let[i,s]=r[n];if(typeof s=="function"){let o;const a=i===void 0&&(o=s())!=null,u=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?e[n]=o:u&&(e[n]=s())}else{const o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(e[n]=s)}},Of=(e,t,r,n,i,s)=>{if(t!=null&&t[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,s?o.split("/").map(a=>ao(a)).join("/"):ao(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},Pf=e=>e.toISOString().replace(".000Z","Z"),Bf="content-length";function kf(){return(e,t)=>async r=>{var i;const{request:n}=r;if(_e.isInstance(n)&&!(Bf in n.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((i=t==null?void 0:t.logger)==null?void 0:i.warn)=="function"&&!(t.logger instanceof qs)?t.logger.warn(s):console.warn(s)}return e({...r})}}const If={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Mf=e=>({applyToStack:t=>{t.add(kf(),If)}}),Nf=e=>(t,r)=>async n=>{const i=await e.region(),s=e.region;r.__s3RegionRedirect&&(e.region=async()=>(e.region=s,r.__s3RegionRedirect));const o=await t(n);if(r.__s3RegionRedirect){const a=await e.region();if(i!==a)throw new Error("Region was not restored following S3 region redirect.")}return o},$f={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Ff(e){return(t,r)=>async n=>{var i,s;try{return await t(n)}catch(o){if(e.followRegionRedirects&&((i=o==null?void 0:o.$metadata)==null?void 0:i.httpStatusCode)===301){try{const a=o.$response.headers["x-amz-bucket-region"];(s=r.logger)==null||s.debug(`Redirecting from ${await e.region()} to ${a}`),r.__s3RegionRedirect=a}catch(a){throw new Error("Region redirect failed: "+a)}return t(n)}else throw o}}}const Df={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Uf=e=>({applyToStack:t=>{t.add(Ff(e),Df),t.addRelativeTo(Nf(e),$f)}}),Lf=e=>(t,r)=>async n=>{var o;const i=await t(n),{response:s}=i;if(Xt.isInstance(s)&&s.headers.expires){s.headers.expiresstring=s.headers.expires;try{ts(s.headers.expires)}catch(a){(o=r.logger)==null||o.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${s.headers.expires}): ${a}`),delete s.headers.expires}}return i},jf={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},Hf=e=>({applyToStack:t=>{t.addRelativeTo(Lf(),jf)}});class Dr{constructor(t={}){this.data=t,this.lastPurgeTime=Date.now()}get(t){const r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){const t=Date.now();if(!(this.lastPurgeTime+Dr.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const i=await n.identity;i.expiration&&i.expiration.getTime()<t&&delete this.data[r]}}}}Dr.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;class Zr{constructor(t,r=!1,n=Date.now()){this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}class Ur{constructor(t,r=new Dr){this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){const n=r.Bucket,{cache:i}=this,s=i.get(n);return s?s.identity.then(o=>{var c,l;return(((c=o.expiration)==null?void 0:c.getTime())??0)<Date.now()?i.set(n,new Zr(this.getIdentity(n))).identity:((((l=o.expiration)==null?void 0:l.getTime())??0)<Date.now()+Ur.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(n).then(d=>{i.set(n,new Zr(Promise.resolve(d)))})),o)}):i.set(n,new Zr(this.getIdentity(n))).identity}async getIdentity(t){var i,s;await this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});const r=await this.createSessionFn(t);if(!((i=r.Credentials)!=null&&i.AccessKeyId)||!((s=r.Credentials)!=null&&s.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}}Ur.REFRESH_WINDOW_MS=6e4;const zf=e=>e[Yn]||(e[Yn]={}),ke=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},qf="X-Amz-Algorithm",Gf="X-Amz-Credential",Zc="X-Amz-Date",Wf="X-Amz-SignedHeaders",Vf="X-Amz-Expires",Yc="X-Amz-Signature",Qc="X-Amz-Security-Token",Jc="authorization",eu=Zc.toLowerCase(),Kf="date",Xf=[Jc,eu,Kf],Zf=Yc.toLowerCase(),ns="x-amz-content-sha256",Yf=Qc.toLowerCase(),Qf={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Jf=/^proxy-/,eh=/^sec-/,Yr="AWS4-HMAC-SHA256",th="AWS4-HMAC-SHA256-PAYLOAD",rh="UNSIGNED-PAYLOAD",nh=50,tu="aws4_request",sh=60*60*24*7,dr={},Qr=[],Jr=(e,t,r)=>`${e}/${t}/${r}/${tu}`,ih=async(e,t,r,n,i)=>{const s=await co(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${i}:${ge(s)}:${t.sessionToken}`;if(o in dr)return dr[o];for(Qr.push(o);Qr.length>nh;)delete dr[Qr.shift()];let a=`AWS4${t.secretAccessKey}`;for(const u of[r,n,i,tu])a=await co(e,a,u);return dr[o]=a},co=(e,t,r)=>{const n=new e(t);return n.update(yt(r)),n.digest()},uo=({headers:e},t,r)=>{const n={};for(const i of Object.keys(e).sort()){if(e[i]==null)continue;const s=i.toLowerCase();(s in Qf||t!=null&&t.has(s)||Jf.test(s)||eh.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[i].trim().replace(/\s+/g," "))}return n},oh=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e).sort()){if(n.toLowerCase()===Zf)continue;t.push(n);const i=e[n];typeof i=="string"?r[n]=`${Xe(n)}=${Xe(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((s,o)=>s.concat([`${Xe(n)}=${Xe(o)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},ru=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",en=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===ns)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||ru(t)){const n=new r;return n.update(yt(t)),ge(await n.digest())}return rh};class ah{format(t){const r=[];for(const s of Object.keys(t)){const o=ut(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(t.value,3),o;case"string":const a=ut(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(uh.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!ch.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(qc(t.value.replace(/\-/g,"")),1),d}}}var lo;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(lo||(lo={}));const ch=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let uh=class nu{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&fo(r),new nu(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&fo(t),parseInt(ge(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function fo(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}const lh=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},su=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?dh(t):void 0}),dh=e=>Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),fh=(e,t={})=>{var i;const{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():su(e);for(const s of Object.keys(r)){const o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!((i=t.unhoistableHeaders)!=null&&i.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},ho=e=>{e=typeof e.clone=="function"?e.clone():su(e);for(const t of Object.keys(e.headers))Xf.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},hh=e=>ph(e).toISOString().replace(/\.\d{3}Z$/,"Z"),ph=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class ss{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerFormatter=new ah,this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=ke(n),this.credentialProvider=ke(r)}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:u,signingService:c}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const d=u??await this.regionProvider(),{longDate:f,shortDate:p}=fr(n);if(i>sh)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const g=Jr(p,d,c??this.service),m=fh(ho(t),{unhoistableHeaders:o});l.sessionToken&&(m.query[Qc]=l.sessionToken),m.query[qf]=Yr,m.query[Gf]=`${l.accessKeyId}/${g}`,m.query[Zc]=f,m.query[Vf]=i.toString(10);const v=uo(m,s,a);return m.query[Wf]=po(v),m.query[Yc]=await this.getSignature(f,g,this.getSigningKey(l,d,p,c),this.createCanonicalRequest(m,v,await en(t,this.sha256))),m}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){const a=s??await this.regionProvider(),{shortDate:u,longDate:c}=fr(n),l=Jr(u,a,o??this.service),d=await en({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);const p=ge(await f.digest()),g=[th,c,l,i,p,d].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:a}=fr(r),u=new this.sha256(await this.getSigningKey(s,o,a,i));return u.update(yt(t)),ge(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const u=s??await this.regionProvider(),c=ho(t),{longDate:l,shortDate:d}=fr(r),f=Jr(d,u,o??this.service);c.headers[eu]=l,a.sessionToken&&(c.headers[Yf]=a.sessionToken);const p=await en(c,this.sha256);!lh(ns,c.headers)&&this.applyChecksum&&(c.headers[ns]=p);const g=uo(c,i,n),m=await this.getSignature(l,f,this.getSigningKey(a,u,d,o),this.createCanonicalRequest(c,g,p));return c.headers[Jc]=`${Yr} Credential=${a.accessKeyId}/${f}, SignedHeaders=${po(g)}, Signature=${m}`,c}createCanonicalRequest(t,r,n){const i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${oh(t)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n){const i=new this.sha256;i.update(yt(n));const s=await i.digest();return`${Yr}
${t}
${r}
${ge(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));const n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return Xe(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,i){const s=await this.createStringToSign(t,r,i),o=new this.sha256(await n);return o.update(yt(s)),ge(await o.digest())}getSigningKey(t,r,n,i){return ih(this.sha256,t,n,r,i||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const fr=e=>{const t=hh(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},po=e=>Object.keys(e).sort().join(";");var yo;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(yo||(yo={}));const yh="Directory",gh="S3Express",mh="sigv4-s3express",is="X-Amz-S3session-Token",os=is.toLowerCase();class _h extends ss{async signWithCredentials(t,r,n){const i=go(r);t.headers[os]=r.sessionToken;const s=this;return mo(s,i),s.signRequest(t,n??{})}async presignWithCredentials(t,r,n){const i=go(r);return delete t.headers[os],t.headers[is]=r.sessionToken,t.query=t.query??{},t.query[is]=r.sessionToken,mo(this,i),this.presign(t,n)}}function go(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function mo(e,t){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,i=()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t));e.credentialProvider=i}const bh=e=>(t,r)=>async n=>{var i,s,o,a,u;if(r.endpointV2){const c=r.endpointV2,l=((o=(s=(i=c.properties)==null?void 0:i.authSchemes)==null?void 0:s[0])==null?void 0:o.name)===mh;if((((a=c.properties)==null?void 0:a.backend)===gh||((u=c.properties)==null?void 0:u.bucketType)===yh)&&(r.isS3ExpressBucket=!0),l){const f=n.input.Bucket;if(f){const p=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:f});r.s3ExpressIdentity=p,_e.isInstance(n.request)&&p.sessionToken&&(n.request.headers[os]=p.sessionToken)}}}return t(n)},wh={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},Sh=e=>({applyToStack:t=>{t.add(bh(e),wh)}}),xh=(e,{session:t})=>{const[r,n]=t;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new Ur(async i=>r().send(new n({Bucket:i,SessionMode:"ReadWrite"}))),bucketEndpoint:e.bucketEndpoint??!1}},vh=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function Eh(e){return(t,r)=>async n=>{var i,s,o,a;if(e.bucketEndpoint){const u=r.endpointV2;if(u){const c=n.input.Bucket;if(typeof c=="string")try{const l=new URL(c);u.url=l}catch(l){const d=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${c} could not be parsed as URL.`;throw((s=(i=r.logger)==null?void 0:i.constructor)==null?void 0:s.name)==="NoOpLogger"?console.warn(d):(a=(o=r.logger)==null?void 0:o.warn)==null||a.call(o,d),l}}}return t(n)}}const Ah={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function Ch({bucketEndpoint:e}){return t=>async r=>{const{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!vh(n)&&n.indexOf("/")>=0){const i=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw i.name="InvalidBucketName",i}return t({...r})}}const Rh={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Th=e=>({applyToStack:t=>{t.add(Ch(e),Rh),t.addRelativeTo(Eh(e),Ah)}}),iu=(e,t,r)=>{let n,i,s,o=!1;const a=async()=>{i||(i=e());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return t===void 0?async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),n):async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},Oh=3e5,Ph=e=>{const t=e.credentials?Bh(e.credentials):e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e})),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e;let s;return e.signer?s=ke(e.signer):e.regionInfoProvider?s=()=>ke(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:u,signingService:c}=o;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;const l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},d=e.signerConstructor||ss;return new d(l)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ke(e.region)(),properties:{}},o);const a=(o==null?void 0:o.name)==="sigv4a",u=o.signingRegion,c=o.signingName;let l;a?l=e.signingRegion||u:(e.signingRegion=e.signingRegion||u,l=e.signingRegion),e.signingName=e.signingName||c||e.serviceId;const d={...e,credentials:t,region:l,service:e.signingName,sha256:i,uriEscapePath:r},f=e.signerConstructor||ss;return new f(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}},Bh=e=>typeof e=="function"?iu(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<Oh,t=>t.expiration!==void 0):ke(e),ou=e=>new Date(Date.now()+e),kh=(e,t)=>Math.abs(ou(t).getTime()-e)>=3e5,_o=(e,t)=>{const r=Date.parse(e);return kh(r,t)?r-Date.now():t},Ih=e=>(t,r)=>async function(n){var g,m,v,E,O,$,q;if(!_e.isInstance(n.request))return t(n);let i,s;const o=(v=(m=(g=r.endpointV2)==null?void 0:g.properties)==null?void 0:m.authSchemes)==null?void 0:v[0],a=($=(O=(E=r.endpointV2)==null?void 0:E.properties)==null?void 0:O.authSchemes)==null?void 0:$[1];if((o==null?void 0:o.name)==="sigv4a"&&a){s=await e.signer(i=o);const H=s;(()=>{var Te;if(typeof(H==null?void 0:H.getSigv4aSigner)=="function"){if(((Te=H==null?void 0:H.signerOptions)==null?void 0:Te.runtime)!=="node")return!1;try{return H.getSigv4aSigner(),!0}catch{}}return!1})()||(s=await e.signer(i=a))}else s=await e.signer(i=o);let c;const l=(i==null?void 0:i.name)==="sigv4a"?(q=i==null?void 0:i.signingRegionSet)==null?void 0:q.join(","):void 0,d={signingDate:ou(e.systemClockOffset),signingRegion:l||r.signing_region,signingService:r.signing_service};if(r.s3ExpressIdentity){if(c=await s.signWithCredentials(n.request,r.s3ExpressIdentity,d),c.headers["X-Amz-Security-Token"]||c.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else c=await s.sign(n.request,d);const f=await t({...n,request:c}).catch(H=>{const ve=H.ServerTime??bo(H.$response);throw ve&&(e.systemClockOffset=_o(ve,e.systemClockOffset)),H}),p=bo(f.response);return p&&(e.systemClockOffset=_o(p,e.systemClockOffset)),f},bo=e=>{var t,r;return Xt.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},Mh={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Nh=e=>({applyToStack:t=>{t.addRelativeTo(Ih(e),Mh)}});function $h(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const Fh=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),au=e=>Fh.test(e)||e.startsWith("[")&&e.endsWith("]"),Dh=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Qs=(e,t=!1)=>{if(!t)return Dh.test(e);const r=e.split(".");for(const n of r)if(!Qs(n))return!1;return!0},Rr={},Yt="endpoints";function Qe(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Qe(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Qe).join(", ")})`:JSON.stringify(e,null,2)}class we extends Error{constructor(t){super(t),this.name="EndpointError"}}const Uh=(e,t)=>e===t,Lh=e=>{const t=e.split("."),r=[];for(const n of t){const i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new we(`Path: '${e}' does not end with ']'`);const s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new we(`Invalid array index: '${s}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},cu=(e,t)=>Lh(t).reduce((r,n)=>{if(typeof r!="object")throw new we(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),jh=e=>e!=null,Hh=e=>!e,tn={[Kt.HTTP]:80,[Kt.HTTPS]:443},zh=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:f,port:p,protocol:g="",path:m="",query:v={}}=e,E=new URL(`${g}//${f}${p?`:${p}`:""}${m}`);return E.search=Object.entries(v).map(([O,$])=>`${O}=${$}`).join("&"),E}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=t;if(a)return null;const u=o.slice(0,-1);if(!Object.values(Kt).includes(u))return null;const c=au(i),l=r.includes(`${n}:${tn[u]}`)||typeof e=="string"&&e.includes(`${n}:${tn[u]}`),d=`${n}${l?`:${tn[u]}`:""}`;return{scheme:u,authority:d,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:c}},qh=(e,t)=>e===t,Gh=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),Wh=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Vh={booleanEquals:Uh,getAttr:cu,isSet:jh,isValidHostLabel:Qs,not:Hh,parseURL:zh,stringEquals:qh,substring:Gh,uriEncode:Wh},uu=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let i=0;for(;i<e.length;){const s=e.indexOf("{",i);if(s===-1){r.push(e.slice(i));break}r.push(e.slice(i,s));const o=e.indexOf("}",s);if(o===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(s+1,o)),i=o+2);const a=e.substring(s+1,o);if(a.includes("#")){const[u,c]=a.split("#");r.push(cu(n[u],c))}else r.push(n[a]);i=o+1}return r.join("")},Kh=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Lr=(e,t,r)=>{if(typeof e=="string")return uu(e,r);if(e.fn)return lu(e,r);if(e.ref)return Kh(e,r);throw new we(`'${t}': ${String(e)} is not a string, function or reference.`)},lu=({fn:e,argv:t},r)=>{const n=t.map(s=>["boolean","number"].includes(typeof s)?s:Lr(s,"arg",r)),i=e.split(".");return i[0]in Rr&&i[1]!=null?Rr[i[0]][i[1]](...n):Vh[e](...n)},Xh=({assign:e,...t},r)=>{var i,s;if(e&&e in r.referenceRecord)throw new we(`'${e}' is already defined in Reference Record.`);const n=lu(t,r);return(s=(i=r.logger)==null?void 0:i.debug)==null||s.call(i,`${Yt} evaluateCondition: ${Qe(t)} = ${Qe(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Js=(e=[],t)=>{var n,i;const r={};for(const s of e){const{result:o,toAssign:a}=Xh(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(i=(n=t.logger)==null?void 0:n.debug)==null||i.call(n,`${Yt} assign: ${a.name} := ${Qe(a.value)}`))}return{result:!0,referenceRecord:r}},Zh=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{const o=Lr(s,"Header value entry",t);if(typeof o!="string")throw new we(`Header '${n}' value '${o}' is not a string`);return o})}),{}),du=(e,t)=>{if(Array.isArray(e))return e.map(r=>du(r,t));switch(typeof e){case"string":return uu(e,t);case"object":if(e===null)throw new we(`Unexpected endpoint property: ${e}`);return fu(e,t);case"boolean":return e;default:throw new we(`Unexpected endpoint property type: ${typeof e}`)}},fu=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:du(i,t)}),{}),Yh=(e,t)=>{const r=Lr(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new we(`Endpoint URL must be a string, got ${typeof r}`)},Qh=(e,t)=>{var l,d;const{conditions:r,endpoint:n}=e,{result:i,referenceRecord:s}=Js(r,t);if(!i)return;const o={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:u,headers:c}=n;return(d=(l=t.logger)==null?void 0:l.debug)==null||d.call(l,`${Yt} Resolving endpoint from template: ${Qe(n)}`),{...c!=null&&{headers:Zh(c,o)},...u!=null&&{properties:fu(u,o)},url:Yh(a,o)}},Jh=(e,t)=>{const{conditions:r,error:n}=e,{result:i,referenceRecord:s}=Js(r,t);if(i)throw new we(Lr(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},ep=(e,t)=>{const{conditions:r,rules:n}=e,{result:i,referenceRecord:s}=Js(r,t);if(i)return hu(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},hu=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=Qh(r,t);if(n)return n}else if(r.type==="error")Jh(r,t);else if(r.type==="tree"){const n=ep(r,t);if(n)return n}else throw new we(`Unknown endpoint rule: ${r}`);throw new we("Rules evaluation failed")},tp=(e,t)=>{var c,l,d,f,p;const{endpointParams:r,logger:n}=t,{parameters:i,rules:s}=e;(l=(c=t.logger)==null?void 0:c.debug)==null||l.call(c,`${Yt} Initial EndpointParams: ${Qe(r)}`);const o=Object.entries(i).filter(([,g])=>g.default!=null).map(([g,m])=>[g,m.default]);if(o.length>0)for(const[g,m]of o)r[g]=r[g]??m;const a=Object.entries(i).filter(([,g])=>g.required).map(([g])=>g);for(const g of a)if(r[g]==null)throw new we(`Missing required parameter: '${g}'`);const u=hu(s,{endpointParams:r,logger:n,referenceRecord:{}});if((d=t.endpointParams)!=null&&d.Endpoint)try{const g=new URL(t.endpointParams.Endpoint),{protocol:m,port:v}=g;u.url.protocol=m,u.url.port=v}catch{}return(p=(f=t.logger)==null?void 0:f.debug)==null||p.call(f,`${Yt} Resolved endpoint: ${Qe(u)}`),u},pu=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!pu(r))return!1;return!0}return!(!Qs(e)||e.length<3||e.length>63||e!==e.toLowerCase()||au(e))},rp=e=>{const t=e.split(":");if(t.length<6)return null;const[r,n,i,s,o,...a]=t;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},np=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],sp="1.1",ip={partitions:np,version:sp};let op=ip;const ap=e=>{const{partitions:t}=op;for(const n of t){const{regions:i,outputs:s}=n;for(const[o,a]of Object.entries(i))if(o===e)return{...s,...a}}for(const n of t){const{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(e))return{...s}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},yu={isVirtualHostableS3Bucket:pu,parseArn:rp,partition:ap};Rr.aws=yu;const wo="user-agent",rn="x-amz-user-agent",So=" ",nn="/",cp=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,up=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,xo="-",lp=e=>(t,r)=>async n=>{var d,f;const{request:i}=n;if(!_e.isInstance(i))return t(n);const{headers:s}=i,o=((d=r==null?void 0:r.userAgent)==null?void 0:d.map(sn))||[],a=(await e.defaultUserAgentProvider()).map(sn),u=((f=e==null?void 0:e.customUserAgent)==null?void 0:f.map(sn))||[],c=[].concat([...a,...o,...u]).join(So),l=[...a.filter(p=>p.startsWith("aws-sdk-")),...u].join(So);return e.runtime!=="browser"?(l&&(s[rn]=s[rn]?`${s[wo]} ${l}`:l),s[wo]=c):s[rn]=c,t({...n,request:i})},sn=e=>{var o;const t=e[0].split(nn).map(a=>a.replace(cp,xo)).join(nn),r=(o=e[1])==null?void 0:o.replace(up,xo),n=t.indexOf(nn),i=t.substring(0,n);let s=t.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(a=>a&&a.length>0).reduce((a,u,c)=>{switch(c){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")},dp={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},fp=e=>({applyToStack:t=>{t.add(lp(e),dp)}}),hp=!1,pp=!1,gu=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),vo=e=>gu(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,yp=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return vo(t);const n=await t();return vo(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return gu(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},gp=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),Eo="content-length";function mp(e){return t=>async r=>{const n=r.request;if(_e.isInstance(n)){const{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(Eo)===-1)try{const o=e(i);n.headers={...n.headers,[Eo]:String(o)}}catch{}}return t({...r,request:n})}}const _p={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},bp=e=>({applyToStack:t=>{t.add(mp(e.bodyLengthChecker),_p)}}),wp=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Ap(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Ep(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Sp=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,xp=/(\d+\.){3}\d+/,vp=/\.\./,Ep=e=>Sp.test(e)&&!xp.test(e)&&!vp.test(e),Ap=e=>{const[t,r,n,,,i]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,o=!!(s&&r&&n&&i);if(s&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},Cp=(e,t,r)=>{const n=async()=>{const i=r[e]??r[t];return typeof i=="function"?i():i};return e==="credentialScope"||t==="CredentialScope"?async()=>{const i=typeof r.credentials=="function"?await r.credentials():r.credentials;return(i==null?void 0:i.credentialScope)??(i==null?void 0:i.CredentialScope)}:e==="endpoint"||t==="endpoint"?async()=>{const i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){const{protocol:s,hostname:o,port:a,path:u}=i;return`${s}//${o}${a?":"+a:""}${u}`}}return i}:n},Rp=async e=>{};function Tp(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}const Tr=e=>{if(typeof e=="string")return Tr(new URL(e));const{hostname:t,pathname:r,port:n,protocol:i,search:s}=e;let o;return s&&(o=Tp(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},mu=e=>typeof e=="object"?"url"in e?Tr(e.url):e:Tr(e),Op=async(e,t,r,n)=>{if(!r.endpoint){const o=await Rp(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(mu(o)))}const i=await Pp(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},Pp=async(e,t,r)=>{var s;const n={},i=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(const[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await Cp(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await wp(n),n},Bp=({config:e,instructions:t})=>(r,n)=>async i=>{var a,u,c;const s=await Op(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;const o=(u=n.authSchemes)==null?void 0:u[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const l=zf(n),d=(c=l==null?void 0:l.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...i})},kp=(e,t)=>r=>async n=>{const{response:i}=await r(n);try{const s=await t(i,e);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){const o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+o,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}},Ip=(e,t)=>(r,n)=>async i=>{var a;const s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const o=await t(i.input,{...e,endpoint:s});return r({...i,request:o})},Mp={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ei={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ti(e,t,r){return{applyToStack:n=>{n.add(kp(e,r),Mp),n.add(Ip(e,t),ei)}}}const _u={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ei.name},ri=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Bp({config:e,instructions:t}),_u)}}),Np=e=>{const t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>mu(await ke(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:ke(e.useDualstackEndpoint??!1),useFipsEndpoint:ke(e.useFipsEndpoint??!1)}};var gt;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(gt||(gt={}));const Or=3,$p=gt.STANDARD,Fp=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Dp=["TimeoutError","RequestTimeout","RequestTimeoutException"],Up=[500,502,503,504],Lp=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],jp=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},bu=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Fp.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},wu=e=>{var t;return jp(e)||Dp.includes(e.name)||Lp.includes((e==null?void 0:e.code)||"")||Up.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},Hp=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!wu(e)}return!1};class zp{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),bu(t)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}const as=100,Su=20*1e3,qp=500,Ao=500,Gp=5,Wp=10,Vp=1,Kp="amz-sdk-invocation-id",Xp="amz-sdk-request",Zp=()=>{let e=as;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Su,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},Co=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Su,e),getRetryCost:()=>r});class xu{constructor(t){this.maxAttempts=t,this.mode=gt.STANDARD,this.capacity=Ao,this.retryBackoffStrategy=Zp(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Co({retryDelay:as,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?qp:as);const s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,Co({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ao,this.capacity+(t.getRetryCost()??Vp))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Or}`),Or}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Wp:Gp}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class Yp{constructor(t,r){this.maxAttemptsProvider=t,this.mode=gt.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new zp,this.standardRetryStrategy=new xu(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}let hr;const Qp=new Uint8Array(16);function Jp(){if(!hr&&(hr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!hr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hr(Qp)}const ie=[];for(let e=0;e<256;++e)ie.push((e+256).toString(16).slice(1));function ey(e,t=0){return ie[e[t+0]]+ie[e[t+1]]+ie[e[t+2]]+ie[e[t+3]]+"-"+ie[e[t+4]]+ie[e[t+5]]+"-"+ie[e[t+6]]+ie[e[t+7]]+"-"+ie[e[t+8]]+ie[e[t+9]]+"-"+ie[e[t+10]]+ie[e[t+11]]+ie[e[t+12]]+ie[e[t+13]]+ie[e[t+14]]+ie[e[t+15]]}const ty=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ro={randomUUID:ty};function ry(e,t,r){if(Ro.randomUUID&&!t&&!e)return Ro.randomUUID();e=e||{};const n=e.random||(e.rng||Jp)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ey(n)}const ny=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),sy=e=>{const{retryStrategy:t}=e,r=ke(e.maxAttempts??Or);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await ke(e.retryMode)()===gt.ADAPTIVE?new Yp(r):new xu(r))}},iy=e=>(e==null?void 0:e.body)instanceof ReadableStream,oy=e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy();const s=await e.maxAttempts();if(ay(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),u=new Error,c=0,l=0;const{request:d}=n,f=_e.isInstance(d);for(f&&(d.headers[Kp]=ry());;)try{f&&(d.headers[Xp]=`attempt=${c+1}; max=${s}`);const{response:p,output:g}=await t(n);return i.recordSuccess(a),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:p,output:g}}catch(p){const g=cy(p);if(u=ny(p),f&&iy(d))throw(o=r.logger instanceof qs?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),u;try{a=await i.refreshRetryTokenForRetry(a,g)}catch{throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=l,u}c=a.getRetryCount();const m=a.getRetryDelay();l+=m,await new Promise(v=>setTimeout(v,m))}}else return i=i,i!=null&&i.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},ay=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",cy=e=>{const t={error:e,errorType:uy(e)},r=dy(e.$response);return r&&(t.retryAfterHint=r),t},uy=e=>bu(e)?"THROTTLING":wu(e)?"TRANSIENT":Hp(e)?"SERVER_ERROR":"CLIENT_ERROR",vu={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ly=e=>({applyToStack:t=>{t.add(oy(e),vu)}}),dy=e=>{if(!Xt.isInstance(e))return;const t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},fy=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),ni={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Ce extends Ys{constructor(t){super(t),Object.setPrototypeOf(this,Ce.prototype)}}class si extends Ce{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,si.prototype)}}class ii extends Ce{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,ii.prototype)}}class oi extends Ce{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,oi.prototype)}}class ai extends Ce{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,ai.prototype)}}class ci extends Ce{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,ci.prototype)}}var To;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(To||(To={}));var Oo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Oo||(Oo={}));var Po;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Po||(Po={}));var Bo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Bo||(Bo={}));class ui extends Ce{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,ui.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class li extends Ce{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,li.prototype)}}class di extends Ce{constructor(t){super({name:"NotFound",$fault:"client",...t}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,di.prototype)}}const hy=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Le},...e.SessionToken&&{SessionToken:Le}}),py=e=>({...e,...e.Credentials&&{Credentials:hy(e.Credentials)}}),yy=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Le}}),gy=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Le}});_u.name;ei.name;vu.name;function fi(e,t){return new my(e,t)}class my{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(const s of this.resolvePathStack)s(this.path);return new _e({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,i){return this.resolvePathStack.push(s=>{this.path=Of(s,this.input,t,r,n,i)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}const _y=(e,t)=>Gc(e,t).then(r=>t.utf8Encoder(r));function by(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function je(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var hi={},jr={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",i=new RegExp("^"+n+"$"),s=function(a,u){const c=[];let l=u.exec(a);for(;l;){const d=[];d.startIndex=u.lastIndex-l[0].length;const f=l.length;for(let p=0;p<f;p++)d.push(l[p]);c.push(d),l=u.exec(a)}return c},o=function(a){const u=i.exec(a);return!(u===null||typeof u>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,u,c){if(u){const l=Object.keys(u),d=l.length;for(let f=0;f<d;f++)c==="strict"?a[l[f]]=[u[l[f]]]:a[l[f]]=u[l[f]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=o,e.getAllMatches=s,e.nameRegexp=n})(jr);const pi=jr,wy={allowBooleanAttributes:!1,unpairedTags:[]};hi.validate=function(e,t){t=Object.assign({},wy,t);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=Io(e,s),s.err)return s}else if(e[s]==="<"){let o=s;if(s++,e[s]==="!"){s=Mo(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let u="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)u+=e[s];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),s--),!Ty(u)){let d;return u.trim().length===0?d="Invalid space after '<'.":d="Tag '"+u+"' is an invalid name.",Z("InvalidTag",d,ye(e,s))}const c=vy(e,s);if(c===!1)return Z("InvalidAttr","Attributes for '"+u+"' have open quote.",ye(e,s));let l=c.value;if(s=c.index,l[l.length-1]==="/"){const d=s-l.length;l=l.substring(0,l.length-1);const f=No(l,t);if(f===!0)n=!0;else return Z(f.err.code,f.err.msg,ye(e,d+f.err.line))}else if(a)if(c.tagClosed){if(l.trim().length>0)return Z("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",ye(e,o));{const d=r.pop();if(u!==d.tagName){let f=ye(e,d.tagStartPos);return Z("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+u+"'.",ye(e,o))}r.length==0&&(i=!0)}}else return Z("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",ye(e,s));else{const d=No(l,t);if(d!==!0)return Z(d.err.code,d.err.msg,ye(e,s-l.length+d.err.line));if(i===!0)return Z("InvalidXml","Multiple possible root nodes found.",ye(e,s));t.unpairedTags.indexOf(u)!==-1||r.push({tagName:u,tagStartPos:o}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=Mo(e,s);continue}else if(e[s+1]==="?"){if(s=Io(e,++s),s.err)return s}else break;else if(e[s]==="&"){const d=Cy(e,s);if(d==-1)return Z("InvalidChar","char '&' is not expected.",ye(e,s));s=d}else if(i===!0&&!ko(e[s]))return Z("InvalidXml","Extra text at the end",ye(e,s));e[s]==="<"&&s--}}else{if(ko(e[s]))continue;return Z("InvalidChar","char '"+e[s]+"' is not expected.",ye(e,s))}if(n){if(r.length==1)return Z("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ye(e,r[0].tagStartPos));if(r.length>0)return Z("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Z("InvalidXml","Start tag expected.",1);return!0};function ko(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Io(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return Z("InvalidXml","XML declaration allowed only at the start of the document.",ye(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Mo(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const Sy='"',xy="'";function vy(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===Sy||e[t]===xy)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const Ey=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function No(e,t){const r=pi.getAllMatches(e,Ey),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Z("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",wt(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return Z("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",wt(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return Z("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",wt(r[i]));const s=r[i][2];if(!Ry(s))return Z("InvalidAttr","Attribute '"+s+"' is an invalid name.",wt(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return Z("InvalidAttr","Attribute '"+s+"' is repeated.",wt(r[i]))}return!0}function Ay(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Cy(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Ay(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Z(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Ry(e){return pi.isName(e)}function Ty(e){return pi.isName(e)}function ye(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function wt(e){return e.startIndex+e[1].length}var yi={};const Eu={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},Oy=function(e){return Object.assign({},Eu,e)};yi.buildOptions=Oy;yi.defaultOptions=Eu;class Py{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}var By=Py;const ky=jr;function Iy(e,t){const r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,i=!1,s=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(i&&$y(e,t))t+=7,[entityName,val,t]=My(e,t+1),val.indexOf("&")===-1&&(r[Ly(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&Fy(e,t))t+=8;else if(i&&Dy(e,t))t+=8;else if(i&&Uy(e,t))t+=9;else if(Ny)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?i=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function My(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=e[t++];let i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function Ny(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function $y(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Fy(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Dy(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Uy(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Ly(e){if(ky.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var jy=Iy;const Hy=/^[-+]?0x[a-fA-F0-9]+$/,zy=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const qy={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Gy(e,t={}){if(t=Object.assign({},qy,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Hy.test(r))return Number.parseInt(r,16);{const n=zy.exec(r);if(n){const i=n[1],s=n[2];let o=Wy(n[3]);const a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!i&&r[1]!==".")return e;{const u=Number(r),c=""+u;return c.search(/[eE]/)!==-1||a?t.eNotation?u:e:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?u:e:s?o===c||i+o===c?u:e:r===c||r===i+c?u:e}}else return e}}function Wy(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var Vy=Gy;const gi=jr,St=By,Ky=jy,Xy=Vy;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,gi.nameRegexp);let Zy=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=Yy,this.parseXml=rg,this.parseTextData=Qy,this.resolveNameSpace=Jy,this.buildAttributesMap=tg,this.isItStopNode=og,this.replaceEntitiesValue=sg,this.readStopNodeData=cg,this.saveTextToParentTag=ig,this.addChild=ng}};function Yy(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Qy(e,t,r,n,i,s,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,r,i,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?us(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?us(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Jy(e){if(this.options.removeNSPrefix){const t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}const eg=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function tg(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){const n=gi.getAllMatches(e,eg),i=n.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(n[o][1]);let u=n[o][4],c=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);const l=this.options.attributeValueProcessor(a,u,t);l==null?s[c]=u:typeof l!=typeof u||l!==u?s[c]=l:s[c]=us(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const rg=function(e){e=e.replace(/\r\n?/g,`
`);const t=new St("!xml");let r=t,n="",i="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){const a=it(e,">",s,"Closing Tag is not closed.");let u=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){const d=u.indexOf(":");d!==-1&&(u=u.substr(d+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,i));const c=i.substring(i.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let l=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(l=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=i.lastIndexOf("."),i=i.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=cs(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const u=new St(a.tagName);u.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(u[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,u,i)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){const a=it(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const u=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}s=a}else if(e.substr(s+1,2)==="!D"){const a=Ky(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){const a=it(e,"]]>",s,"CDATA is not closed.")-2,u=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]);else{let c=this.parseTextData(u,r.tagname,i,!0,!1,!0);c==null&&(c=""),r.add(this.options.textNodeName,c)}s=a+2}else{let a=cs(e,s,this.options.removeNSPrefix),u=a.tagName,c=a.tagExp,l=a.attrExpPresent,d=a.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),u!==t.tagname&&(i+=i?"."+u:u),this.isItStopNode(this.options.stopNodes,i,u)){let p="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)s=a.closeIndex;else{const m=this.readStopNodeData(e,u,d+1);if(!m)throw new Error(`Unexpected end of ${u}`);s=m.i,p=m.tagContent}const g=new St(u);u!==c&&l&&(g[":@"]=this.buildAttributesMap(c,i,u)),p&&(p=this.parseTextData(p,u,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),g.add(this.options.textNodeName,p),this.addChild(r,g,i)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const p=new St(u);u!==c&&l&&(p[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,p,i),i=i.substr(0,i.lastIndexOf("."))}else{const p=new St(u);this.tagsNodeStack.push(r),u!==c&&l&&(p[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,p,i),r=p}n="",s=d}}else n+=e[s];return t.child};function ng(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}const sg=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function ig(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function og(e,t,r){const n="*."+r;for(const i in e){const s=e[i];if(n===s||t===s)return!0}return!1}function ag(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let o=e[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function it(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}function cs(e,t,r,n=">"){const i=ag(e,t+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let u=s,c=!0;if(a!==-1&&(u=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){const l=u.indexOf(":");l!==-1&&(u=u.substr(l+1),c=u!==i.data.substr(l+1))}return{tagName:u,tagExp:s,closeIndex:o,attrExpPresent:c}}function cg(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){const s=it(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,i===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=it(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=it(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=it(e,"]]>",r,"StopNode is not closed.")-2;else{const s=cs(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function us(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:Xy(e,r)}else return gi.isExist(e)?e:""}var ug=Zy,Au={};function lg(e,t){return Cu(e,t)}function Cu(e,t,r){let n;const i={};for(let s=0;s<e.length;s++){const o=e[s],a=dg(o);let u="";if(r===void 0?u=a:u=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let c=Cu(o[a],t,u);const l=hg(c,t);o[":@"]?fg(c,o[":@"],u,t):Object.keys(c).length===1&&c[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?c=c[t.textNodeName]:Object.keys(c).length===0&&(t.alwaysCreateTextNode?c[t.textNodeName]="":c=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(c)):t.isArray(a,u,l)?i[a]=[c]:i[a]=c}}}return typeof n=="string"?n.length>0&&(i[t.textNodeName]=n):n!==void 0&&(i[t.textNodeName]=n),i}function dg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function fg(e,t,r,n){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const a=i[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function hg(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}Au.prettify=lg;const{buildOptions:pg}=yi,yg=ug,{prettify:gg}=Au,mg=hi;let _g=class{constructor(t){this.externalEntities={},this.options=pg(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=mg.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new yg(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(t);return this.options.preserveOrder||i===void 0?i:gg(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};var bg=_g;const wg=`
`;function Sg(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=wg),Ru(e,t,"",r)}function Ru(e,t,r,n){let i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o],u=xg(a);let c="";if(r.length===0?c=u:c=`${r}.${u}`,u===t.textNodeName){let g=a[u];vg(c,t)||(g=t.tagValueProcessor(u,g),g=Tu(g,t)),s&&(i+=n),i+=g,s=!1;continue}else if(u===t.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[u][0][t.textNodeName]}]]>`,s=!1;continue}else if(u===t.commentPropName){i+=n+`<!--${a[u][0][t.textNodeName]}-->`,s=!0;continue}else if(u[0]==="?"){const g=$o(a[":@"],t),m=u==="?xml"?"":n;let v=a[u][0][t.textNodeName];v=v.length!==0?" "+v:"",i+=m+`<${u}${v}${g}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);const d=$o(a[":@"],t),f=n+`<${u}${d}`,p=Ru(a[u],t,c,l);t.unpairedTags.indexOf(u)!==-1?t.suppressUnpairedNode?i+=f+">":i+=f+"/>":(!p||p.length===0)&&t.suppressEmptyNode?i+=f+"/>":p&&p.endsWith(">")?i+=f+`>${p}${n}</${u}>`:(i+=f+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?i+=n+t.indentBy+p+n:i+=p,i+=`</${u}>`),s=!0}return i}function xg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function $o(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);i=Tu(i,t),i===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function vg(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Tu(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}var Eg=Sg;const Ag=Eg,Cg={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Je(e){this.options=Object.assign({},Cg,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Og),this.processTextOrObjNode=Rg,this.options.format?(this.indentate=Tg,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Je.prototype.build=function(e){return this.options.preserveOrder?Ag(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Je.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if(typeof e[i]!="object"){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const s=e[i].length;let o="";for(let a=0;a<s;a++){const u=e[i][a];typeof u>"u"||(u===null?i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof u=="object"?this.options.oneListGroup?o+=this.j2x(u,t+1).val:o+=this.processTextOrObjNode(u,i,t):o+=this.buildTextValNode(u,i,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",t)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const s=Object.keys(e[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+e[i][s[a]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};Je.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Rg(e,t,r){const n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Je.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",i=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+i:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}};Je.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Je.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}};Je.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Tg(e){return this.options.indentBy.repeat(e)}function Og(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}var Pg=Je;const Bg=hi,kg=bg,Ig=Pg;var Mg={XMLParser:kg,XMLValidator:Bg,XMLBuilder:Ig};const Ou=(e,t)=>_y(e,t).then(r=>{if(r.length){const n=new Mg.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(u,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r,!0)}catch(u){throw u&&typeof u=="object"&&Object.defineProperty(u,"$responseBodyText",{value:r}),u}const s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),Xc(a)}return{}}),Ng=async(e,t)=>{const r=await Ou(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},$g=(e,t)=>{var r;if(((r=t==null?void 0:t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};class mi extends Ce{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,mi.prototype)}}var Fo;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(Fo||(Fo={}));const Fg=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Le},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Le}}),Dg=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Le},...e.SSEKMSKeyId&&{SSEKMSKeyId:Le},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Le}}),Ug=async(e,t)=>{const r=fi(e,t),n=J({},Ue,{[Q0]:e[O0]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const i=J({[K0]:[,""]});return r.m("GET").h(n).q(i).b(void 0),r.build()},Lg=async(e,t)=>{const r=fi(e,t),n=J({},Ue,{[$0]:e[p0],[F0]:[()=>Ue(e[Do]),()=>_r(e[Do]).toString()],[D0]:e[y0],[U0]:[()=>Ue(e[Uo]),()=>_r(e[Uo]).toString()],[j0]:e[w0],[qr]:e[Hr],[sl]:e[ju],[Gr]:e[zr],[tl]:e[Lu],[Yu]:e[Nu],[Y0]:e[i0]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);const i=J({[al]:[,"GetObject"],[H0]:[,e[S0]],[z0]:[,e[x0]],[q0]:[,e[v0]],[G0]:[,e[E0]],[W0]:[,e[A0]],[V0]:[()=>e.ResponseExpires!==void 0,()=>_r(e[C0]).toString()],[X0]:[,e[Ai]],[L0]:[()=>e.PartNumber!==void 0,()=>e[b0].toString()]});return r.m("GET").h(n).q(i).b(void 0),r.build()},jg=async(e,t)=>{const r=fi(e,t),n=J({},Ue,{[Ku]:e[Mu]||"application/octet-stream",[Z0]:e[r0],[qu]:e[Pu],[Gu]:e[Bu],[Wu]:e[ku],[Vu]:e[Iu],[hs]:[()=>Ue(e[ls]),()=>e[ls].toString()],[I0]:e[o0],[im]:e[s0],[Ci]:e[bi],[Ri]:e[wi],[Ti]:e[Si],[Oi]:e[xi],[ps]:[()=>Ue(e[ds]),()=>_r(e[ds]).toString()],[J0]:e[l0],[em]:e[d0],[tm]:e[f0],[rm]:e[h0],[Pi]:e[vi],[rl]:e[Gt],[ol]:e[zu],[qr]:e[Hr],[sl]:e[ju],[Gr]:e[zr],[Bi]:e[Ei],[nl]:e[Hu],[Qt]:[()=>Ue(e[Pr]),()=>e[Pr].toString()],[tl]:e[Lu],[om]:e[P0],[Ju]:e[Du],[ys]:[()=>Ue(e[fs]),()=>Pf(e[fs]).toString()],[Qu]:e[Fu],[Yu]:e[Nu],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,u)=>(a[`x-amz-meta-${u.toLowerCase()}`]=e.Metadata[u],a),{})});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);const i=J({[al]:[,"PutObject"]});let s,o;return e.Body!==void 0&&(o=e.Body,s=o),r.m("PUT").h(n).q(i).b(s),r.build()},Hg=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _i(e,t);const r=J({$metadata:Re(e)}),n=Ht(Qd(await Ou(e.body,t)),"body");return n[cn]!=null&&(r[cn]=t0(n[cn])),r},zg=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _i(e,t);const r=J({$metadata:Re(e),[c0]:[()=>e.headers[jo]!==void 0,()=>Jn(e.headers[jo])],[n0]:[,e.headers[k0]],[qt]:[,e.headers[Zu]],[T0]:[,e.headers[nm]],[g0]:[()=>e.headers[Lo]!==void 0,()=>Ht(ts(e.headers[Lo]))],[ls]:[()=>e.headers[hs]!==void 0,()=>tf(e.headers[hs])],[$u]:[,e.headers[Xu]],[bi]:[,e.headers[Ci]],[wi]:[,e.headers[Ri]],[Si]:[,e.headers[Ti]],[xi]:[,e.headers[Oi]],[m0]:[()=>e.headers[Ho]!==void 0,()=>Kr(e.headers[Ho])],[Ai]:[,e.headers[il]],[Pu]:[,e.headers[qu]],[Bu]:[,e.headers[Gu]],[ku]:[,e.headers[Wu]],[Iu]:[,e.headers[Vu]],[a0]:[,e.headers[M0]],[Mu]:[,e.headers[Ku]],[ds]:[()=>e.headers[ps]!==void 0,()=>Ht(ts(e.headers[ps]))],[u0]:[,e.headers[N0]],[zu]:[,e.headers[ol]],[vi]:[,e.headers[Pi]],[Hr]:[,e.headers[qr]],[zr]:[,e.headers[Gr]],[Ei]:[,e.headers[Bi]],[Pr]:[()=>e.headers[Qt]!==void 0,()=>Jn(e.headers[Qt])],[Gt]:[,e.headers[rl]],[Uu]:[,e.headers[el]],[R0]:[,e.headers[sm]],[_0]:[()=>e.headers[zo]!==void 0,()=>Kr(e.headers[zo])],[B0]:[()=>e.headers[qo]!==void 0,()=>Kr(e.headers[qo])],[Du]:[,e.headers[Ju]],[fs]:[()=>e.headers[ys]!==void 0,()=>Ht(Kc(e.headers[ys]))],[Fu]:[,e.headers[Qu]],Metadata:[,Object.keys(e.headers).filter(i=>i.startsWith("x-amz-meta-")).reduce((i,s)=>(i[s.substring(11)]=e.headers[s],i),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},qg=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _i(e,t);const r=J({$metadata:Re(e),[qt]:[,e.headers[Zu]],[$u]:[,e.headers[Xu]],[bi]:[,e.headers[Ci]],[wi]:[,e.headers[Ri]],[Si]:[,e.headers[Ti]],[xi]:[,e.headers[Oi]],[vi]:[,e.headers[Pi]],[Ai]:[,e.headers[il]],[Hr]:[,e.headers[qr]],[zr]:[,e.headers[Gr]],[Ei]:[,e.headers[Bi]],[Hu]:[,e.headers[nl]],[Pr]:[()=>e.headers[Qt]!==void 0,()=>Jn(e.headers[Qt])],[Uu]:[,e.headers[el]]});return await Gc(e.body,t),r},_i=async(e,t)=>{const r={...e,body:await Ng(e.body,t)},n=$g(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Yg(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await e0(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await Wg(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Vg(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Xg(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Kg(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Zg(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Qg(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Jg(r);default:const i=r.body;return Gg({output:e,parsedBody:i,errorCode:n})}},Gg=_f(Ce),Wg=async(e,t)=>{const r=J({});e.body;const n=new oi({$metadata:Re(e),...r});return $e(n,e.body)},Vg=async(e,t)=>{const r=J({});e.body;const n=new ai({$metadata:Re(e),...r});return $e(n,e.body)},Kg=async(e,t)=>{const r=J({}),n=e.body;n[an]!=null&&(r[an]=zt(n[an])),n[Gt]!=null&&(r[Gt]=zt(n[Gt]));const i=new ui({$metadata:Re(e),...r});return $e(i,e.body)},Xg=async(e,t)=>{const r=J({});e.body;const n=new ci({$metadata:Re(e),...r});return $e(n,e.body)},Zg=async(e,t)=>{const r=J({});e.body;const n=new li({$metadata:Re(e),...r});return $e(n,e.body)},Yg=async(e,t)=>{const r=J({});e.body;const n=new si({$metadata:Re(e),...r});return $e(n,e.body)},Qg=async(e,t)=>{const r=J({});e.body;const n=new di({$metadata:Re(e),...r});return $e(n,e.body)},Jg=async(e,t)=>{const r=J({});e.body;const n=new mi({$metadata:Re(e),...r});return $e(n,e.body)},e0=async(e,t)=>{const r=J({});e.body;const n=new ii({$metadata:Re(e),...r});return $e(n,e.body)},t0=(e,t)=>{const r={};return e[on]!=null&&(r[on]=zt(e[on])),e[un]!=null&&(r[un]=zt(e[un])),e[ln]!=null&&(r[ln]=zt(e[ln])),e[qt]!=null&&(r[qt]=Ht(Kc(e[qt]))),r},Re=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ue=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),r0="ACL",on="AccessKeyId",n0="AcceptRanges",an="AccessTier",Pr="BucketKeyEnabled",cn="Credentials",s0="ChecksumAlgorithm",Pu="CacheControl",bi="ChecksumCRC32",wi="ChecksumCRC32C",Bu="ContentDisposition",ku="ContentEncoding",Iu="ContentLanguage",ls="ContentLength",i0="ChecksumMode",o0="ContentMD5",a0="ContentRange",Si="ChecksumSHA1",xi="ChecksumSHA256",Mu="ContentType",c0="DeleteMarker",ds="Expires",Nu="ExpectedBucketOwner",u0="ExpiresString",$u="ETag",qt="Expiration",l0="GrantFullControl",d0="GrantRead",f0="GrantReadACP",h0="GrantWriteACP",p0="IfMatch",Do="IfModifiedSince",y0="IfNoneMatch",Uo="IfUnmodifiedSince",g0="LastModified",m0="MissingMeta",Fu="ObjectLockLegalHoldStatus",Du="ObjectLockMode",fs="ObjectLockRetainUntilDate",_0="PartsCount",b0="PartNumber",w0="Range",Uu="RequestCharged",S0="ResponseCacheControl",x0="ResponseContentDisposition",v0="ResponseContentEncoding",E0="ResponseContentLanguage",A0="ResponseContentType",C0="ResponseExpires",Lu="RequestPayer",R0="ReplicationStatus",T0="Restore",un="SecretAccessKey",Gt="StorageClass",O0="SessionMode",vi="ServerSideEncryption",Hr="SSECustomerAlgorithm",ju="SSECustomerKey",zr="SSECustomerKeyMD5",Hu="SSEKMSEncryptionContext",Ei="SSEKMSKeyId",ln="SessionToken",P0="Tagging",B0="TagCount",Ai="VersionId",zu="WebsiteRedirectLocation",k0="accept-ranges",qu="cache-control",Gu="content-disposition",Wu="content-encoding",Vu="content-language",hs="content-length",I0="content-md5",M0="content-range",Ku="content-type",ps="expires",Xu="etag",N0="expiresstring",$0="if-match",F0="if-modified-since",D0="if-none-match",U0="if-unmodified-since",Lo="last-modified",L0="partNumber",j0="range",H0="response-cache-control",z0="response-content-disposition",q0="response-content-encoding",G0="response-content-language",W0="response-content-type",V0="response-expires",K0="session",X0="versionId",Z0="x-amz-acl",Ci="x-amz-checksum-crc32",Ri="x-amz-checksum-crc32c",Y0="x-amz-checksum-mode",Ti="x-amz-checksum-sha1",Oi="x-amz-checksum-sha256",Q0="x-amz-create-session-mode",jo="x-amz-delete-marker",Zu="x-amz-expiration",Yu="x-amz-expected-bucket-owner",J0="x-amz-grant-full-control",em="x-amz-grant-read",tm="x-amz-grant-read-acp",rm="x-amz-grant-write-acp",Ho="x-amz-missing-meta",zo="x-amz-mp-parts-count",Qu="x-amz-object-lock-legal-hold",Ju="x-amz-object-lock-mode",ys="x-amz-object-lock-retain-until-date",nm="x-amz-restore",el="x-amz-request-charged",tl="x-amz-request-payer",sm="x-amz-replication-status",rl="x-amz-storage-class",im="x-amz-sdk-checksum-algorithm",Pi="x-amz-server-side-encryption",Bi="x-amz-server-side-encryption-aws-kms-key-id",Qt="x-amz-server-side-encryption-bucket-key-enabled",nl="x-amz-server-side-encryption-context",qr="x-amz-server-side-encryption-customer-algorithm",sl="x-amz-server-side-encryption-customer-key",Gr="x-amz-server-side-encryption-customer-key-md5",om="x-amz-tagging",qo="x-amz-tagging-count",il="x-amz-version-id",ol="x-amz-website-redirect-location",al="x-id";class am extends Fr.classBuilder().ep({...ni,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[ti(n,this.serialize,this.deserialize),ri(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(void 0,py).ser(Ug).de(Hg).build(){}const cm="@aws-sdk/client-s3",um="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",lm="3.591.0",dm={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},fm="./dist-cjs/index.js",hm="./dist-types/index.d.ts",pm="./dist-es/index.js",ym=!1,gm={"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.590.0","@aws-sdk/client-sts":"3.590.0","@aws-sdk/core":"3.588.0","@aws-sdk/credential-provider-node":"3.590.0","@aws-sdk/middleware-bucket-endpoint":"3.587.0","@aws-sdk/middleware-expect-continue":"3.577.0","@aws-sdk/middleware-flexible-checksums":"3.587.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-location-constraint":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-sdk-s3":"3.587.0","@aws-sdk/middleware-signing":"3.587.0","@aws-sdk/middleware-ssec":"3.577.0","@aws-sdk/middleware-user-agent":"3.587.0","@aws-sdk/region-config-resolver":"3.587.0","@aws-sdk/signature-v4-multi-region":"3.587.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.587.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.587.0","@aws-sdk/xml-builder":"3.575.0","@smithy/config-resolver":"^3.0.1","@smithy/core":"^2.1.1","@smithy/eventstream-serde-browser":"^3.0.0","@smithy/eventstream-serde-config-resolver":"^3.0.0","@smithy/eventstream-serde-node":"^3.0.0","@smithy/fetch-http-handler":"^3.0.1","@smithy/hash-blob-browser":"^3.0.0","@smithy/hash-node":"^3.0.0","@smithy/hash-stream-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/md5-js":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.1","@smithy/middleware-retry":"^3.0.3","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.1.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.1.1","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.3","@smithy/util-defaults-mode-node":"^3.0.3","@smithy/util-endpoints":"^2.0.1","@smithy/util-retry":"^3.0.0","@smithy/util-stream":"^3.0.1","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.0.0",tslib:"^2.6.2"},mm={"@aws-sdk/signature-v4-crt":"3.587.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},_m={node:">=16.0.0"},bm={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},wm=["dist-*/**"],Sm={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},xm="Apache-2.0",vm={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},Em="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",Am={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},Cm={name:cm,description:um,version:lm,scripts:dm,main:fm,types:hm,module:pm,sideEffects:ym,dependencies:gm,devDependencies:mm,engines:_m,typesVersions:bm,files:wm,author:Sm,license:xm,browser:vm,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:Em,repository:Am};var cl={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gs=function(e,t){return gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gs(e,t)};function Rm(e,t){gs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ms=function(){return ms=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ms.apply(this,arguments)};function Tm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Om(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Pm(e,t){return function(r,n){t(r,n,e)}}function Bm(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function km(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Im(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Mm(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Nm(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function _s(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ul(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function $m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ul(arguments[t]));return e}function Fm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Jt(e){return this instanceof Jt?(this.v=e,this):new Jt(e)}function Dm(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{u(n[f](p))}catch(g){d(s[0][3],g)}}function u(f){f.value instanceof Jt?Promise.resolve(f.value.v).then(c,l):d(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Um(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Jt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Lm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof _s=="function"?_s(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function jm(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Hm(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function zm(e){return e&&e.__esModule?e:{default:e}}function qm(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Gm(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Wm=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ms},__asyncDelegator:Um,__asyncGenerator:Dm,__asyncValues:Lm,__await:Jt,__awaiter:km,__classPrivateFieldGet:qm,__classPrivateFieldSet:Gm,__createBinding:Mm,__decorate:Om,__exportStar:Nm,__extends:Rm,__generator:Im,__importDefault:zm,__importStar:Hm,__makeTemplateObject:jm,__metadata:Bm,__param:Pm,__read:ul,__rest:Tm,__spread:$m,__spreadArrays:Fm,__values:_s},Symbol.toStringTag,{value:"Module"})),Vm=je(Wm);var xt={},vt={},Et={},Go;function ll(){if(Go)return Et;Go=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return Et.isEmptyData=e,Et}var dn={},Wo;function dl(){return Wo||(Wo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_1=e.SHA_1_HMAC_ALGO=e.SHA_1_HASH=void 0,e.SHA_1_HASH={name:"SHA-1"},e.SHA_1_HMAC_ALGO={name:"HMAC",hash:e.SHA_1_HASH},e.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])}(dn)),dn}const Km=e=>{const t=[];for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){const s=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},Xm=e=>{let t="";for(let r=0,n=e.length;r<n;r++){const i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const s=e[++r];t+=String.fromCharCode((i&31)<<6|s&63)}else if(240<=i&&i<365){const o="%"+[i,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function Zm(e){return new TextEncoder().encode(e)}function Ym(e){return new TextDecoder("utf-8").decode(e)}const Qm=e=>typeof TextEncoder=="function"?Zm(e):Km(e),Jm=e=>typeof TextDecoder=="function"?Ym(e):Xm(e),e_=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Qm,toUtf8:Jm},Symbol.toStringTag,{value:"Module"})),Wr=je(e_),t_={};function r_(){return typeof window<"u"?window:typeof self<"u"?self:t_}const n_=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:r_},Symbol.toStringTag,{value:"Module"})),bt=je(n_);var Vo;function fl(){if(Vo)return vt;Vo=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.Sha1=void 0;var e=ll(),t=dl(),r=Wr,n=bt,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_1_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-1"))},a}();vt.Sha1=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_1_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return vt}var At={},Ko;function hl(){if(Ko)return At;Ko=1,Object.defineProperty(At,"__esModule",{value:!0}),At.Sha1=void 0;var e=Wr,t=ll(),r=dl(),n=bt,i=function(){function o(a){this.toHash=new Uint8Array(0),a!==void 0&&(this.key=new Promise(function(u,c){(0,n.locateWindow)().crypto.subtle.importKey("raw",s(a),r.SHA_1_HMAC_ALGO,!1,["sign"]).then(u,c)}),this.key.catch(function(){}))}return o.prototype.update=function(a){if(!(0,t.isEmptyData)(a)){var u=s(a),c=new Uint8Array(this.toHash.byteLength+u.byteLength);c.set(this.toHash,0),c.set(u,this.toHash.byteLength),this.toHash=c}},o.prototype.digest=function(){var a=this;return this.key?this.key.then(function(u){return(0,n.locateWindow)().crypto.subtle.sign(r.SHA_1_HMAC_ALGO,u,a.toHash).then(function(c){return new Uint8Array(c)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(r.SHA_1_HASH,a.toHash)}).then(function(u){return Promise.resolve(new Uint8Array(u))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();At.Sha1=i;function s(o){return typeof o=="string"?(0,e.fromUtf8)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}return At}var fn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bs=function(e,t){return bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bs(e,t)};function s_(e,t){bs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ws=function(){return ws=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ws.apply(this,arguments)};function i_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o_(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function a_(e,t){return function(r,n){t(r,n,e)}}function c_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function u_(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function l_(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function d_(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function f_(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ss(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function h_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pl(arguments[t]));return e}function p_(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function er(e){return this instanceof er?(this.v=e,this):new er(e)}function y_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{u(n[f](p))}catch(g){d(s[0][3],g)}}function u(f){f.value instanceof er?Promise.resolve(f.value.v).then(c,l):d(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function g_(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:er(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function m_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ss=="function"?Ss(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function __(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function w_(e){return e&&e.__esModule?e:{default:e}}function S_(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x_(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const v_=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ws},__asyncDelegator:g_,__asyncGenerator:y_,__asyncValues:m_,__await:er,__awaiter:u_,__classPrivateFieldGet:S_,__classPrivateFieldSet:x_,__createBinding:d_,__decorate:o_,__exportStar:f_,__extends:s_,__generator:l_,__importDefault:w_,__importStar:b_,__makeTemplateObject:__,__metadata:c_,__param:a_,__read:pl,__rest:i_,__spread:h_,__spreadArrays:p_,__values:Ss},Symbol.toStringTag,{value:"Module"})),yl=je(v_);var Oe={},Xo;function E_(){if(Xo)return Oe;Xo=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.supportsZeroByteGCM=Oe.supportsSubtleCrypto=Oe.supportsSecureRandom=Oe.supportsWebCrypto=void 0;var e=yl,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return i(a)}return!1}Oe.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}Oe.supportsSecureRandom=n;function i(o){return o&&t.every(function(a){return typeof o[a]=="function"})}Oe.supportsSubtleCrypto=i;function s(o){return e.__awaiter(this,void 0,void 0,function(){var a,u;return e.__generator(this,function(c){switch(c.label){case 0:if(!i(o))return[2,!1];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=c.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return u=c.sent(),[2,u.byteLength===16];case 4:return c.sent(),[2,!1];case 5:return[2]}})})}return Oe.supportsZeroByteGCM=s,Oe}var Zo;function gl(){return Zo||(Zo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=yl;t.__exportStar(E_(),e)}(fn)),fn}var hn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xs=function(e,t){return xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xs(e,t)};function A_(e,t){xs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var vs=function(){return vs=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vs.apply(this,arguments)};function C_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function R_(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function T_(e,t){return function(r,n){t(r,n,e)}}function O_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function P_(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function B_(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function k_(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function I_(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Es(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ml(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function M_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ml(arguments[t]));return e}function N_(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function tr(e){return this instanceof tr?(this.v=e,this):new tr(e)}function $_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{u(n[f](p))}catch(g){d(s[0][3],g)}}function u(f){f.value instanceof tr?Promise.resolve(f.value.v).then(c,l):d(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function F_(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:tr(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function D_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Es=="function"?Es(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function U_(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function L_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function j_(e){return e&&e.__esModule?e:{default:e}}function H_(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function z_(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const q_=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return vs},__asyncDelegator:F_,__asyncGenerator:$_,__asyncValues:D_,__await:tr,__awaiter:P_,__classPrivateFieldGet:H_,__classPrivateFieldSet:z_,__createBinding:k_,__decorate:R_,__exportStar:I_,__extends:A_,__generator:B_,__importDefault:j_,__importStar:L_,__makeTemplateObject:U_,__metadata:O_,__param:T_,__read:ml,__rest:C_,__spread:M_,__spreadArrays:N_,__values:Es},Symbol.toStringTag,{value:"Module"})),G_=je(q_);var pn={},Yo;function W_(){return Yo||(Yo=1,Object.defineProperty(pn,"__esModule",{value:!0})),pn}var yn={},Qo;function V_(){return Qo||(Qo=1,Object.defineProperty(yn,"__esModule",{value:!0})),yn}var gn={},Jo;function K_(){return Jo||(Jo=1,Object.defineProperty(gn,"__esModule",{value:!0})),gn}var mn={},ea;function X_(){return ea||(ea=1,Object.defineProperty(mn,"__esModule",{value:!0})),mn}var Ct={},ta;function Z_(){if(ta)return Ct;ta=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(t(n)&&n.msCrypto.subtle!==void 0){var i=n.msCrypto,s=i.getRandomValues,o=i.subtle;return e.map(function(a){return o[a]}).concat(s).every(function(a){return typeof a=="function"})}return!1}return Ct.isMsWindow=r,Ct}var ra;function _l(){return ra||(ra=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=G_;t.__exportStar(W_(),e),t.__exportStar(V_(),e),t.__exportStar(K_(),e),t.__exportStar(X_(),e),t.__exportStar(Z_(),e)}(hn)),hn}var _n={},Rt={},na;function Y_(){if(na)return Rt;na=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.convertToBuffer=void 0;var e=Wr,t=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:e.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?t(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return Rt.convertToBuffer=r,Rt}var Tt={},sa;function Q_(){if(sa)return Tt;sa=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return Tt.isEmptyData=e,Tt}var Ot={},ia;function J_(){if(ia)return Ot;ia=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.numToUint8=void 0;function e(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}return Ot.numToUint8=e,Ot}var Pt={},oa;function eb(){if(oa)return Pt;oa=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.uint32ArrayFrom=void 0;function e(t){if(!Uint32Array.from){for(var r=new Uint32Array(t.length),n=0;n<t.length;)r[n]=t[n],n+=1;return r}return Uint32Array.from(t)}return Pt.uint32ArrayFrom=e,Pt}var aa;function et(){return aa||(aa=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Y_();Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=Q_();Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=J_();Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=eb();Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})}(_n)),_n}var ca;function tb(){if(ca)return xt;ca=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.Sha1=void 0;var e=fl(),t=hl(),r=gl(),n=_l(),i=bt,s=et(),o=function(){function a(u){if((0,r.supportsWebCrypto)((0,i.locateWindow)()))this.hash=new t.Sha1(u);else if((0,n.isMsWindow)((0,i.locateWindow)()))this.hash=new e.Sha1(u);else throw new Error("SHA1 not supported")}return a.prototype.update=function(u,c){this.hash.update((0,s.convertToBuffer)(u))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}();return xt.Sha1=o,xt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha1=e.Ie11Sha1=void 0;var t=Vm;t.__exportStar(tb(),e);var r=fl();Object.defineProperty(e,"Ie11Sha1",{enumerable:!0,get:function(){return r.Sha1}});var n=hl();Object.defineProperty(e,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})})(cl);var bl={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var As=function(e,t){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},As(e,t)};function rb(e,t){As(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Cs=function(){return Cs=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Cs.apply(this,arguments)};function nb(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function sb(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function ib(e,t){return function(r,n){t(r,n,e)}}function ob(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ab(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function cb(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ub(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function lb(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Rs(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function db(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wl(arguments[t]));return e}function fb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function rr(e){return this instanceof rr?(this.v=e,this):new rr(e)}function hb(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{u(n[f](p))}catch(g){d(s[0][3],g)}}function u(f){f.value instanceof rr?Promise.resolve(f.value.v).then(c,l):d(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function pb(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:rr(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function yb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Rs=="function"?Rs(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function gb(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function mb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _b(e){return e&&e.__esModule?e:{default:e}}function bb(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function wb(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Sb=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Cs},__asyncDelegator:pb,__asyncGenerator:hb,__asyncValues:yb,__await:rr,__awaiter:ab,__classPrivateFieldGet:bb,__classPrivateFieldSet:wb,__createBinding:ub,__decorate:sb,__exportStar:lb,__extends:rb,__generator:cb,__importDefault:_b,__importStar:mb,__makeTemplateObject:gb,__metadata:ob,__param:ib,__read:wl,__rest:nb,__spread:db,__spreadArrays:fb,__values:Rs},Symbol.toStringTag,{value:"Module"})),xb=je(Sb);var Bt={},kt={},It={},ua;function vb(){if(ua)return It;ua=1,Object.defineProperty(It,"__esModule",{value:!0}),It.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return It.isEmptyData=e,It}var bn={},la;function Sl(){return la||(la=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(bn)),bn}var da;function xl(){if(da)return kt;da=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.Sha256=void 0;var e=vb(),t=Sl(),r=Wr,n=bt,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_256_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();kt.Sha256=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_256_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return kt}var Mt={},fa;function vl(){if(fa)return Mt;fa=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.Sha256=void 0;var e=et(),t=Sl(),r=bt,n=function(){function i(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return i.prototype.update=function(s){if(!(0,e.isEmptyData)(s)){var o=(0,e.convertToBuffer)(s),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},i.prototype.digest=function(){var s=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(t.SHA_256_HMAC_ALGO,o,s.toHash).then(function(a){return new Uint8Array(a)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(t.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(t.SHA_256_HASH,s.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},i.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,e.convertToBuffer)(s.secret),t.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},i}();return Mt.Sha256=n,Mt}var wn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ts=function(e,t){return Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ts(e,t)};function Eb(e,t){Ts(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Os=function(){return Os=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Os.apply(this,arguments)};function Ab(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Cb(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Rb(e,t){return function(r,n){t(r,n,e)}}function Tb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ob(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Pb(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Bb(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function kb(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ps(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function El(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Ib(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(El(arguments[t]));return e}function Mb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function nr(e){return this instanceof nr?(this.v=e,this):new nr(e)}function Nb(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{u(n[f](p))}catch(g){d(s[0][3],g)}}function u(f){f.value instanceof nr?Promise.resolve(f.value.v).then(c,l):d(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $b(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:nr(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Fb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ps=="function"?Ps(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Db(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Ub(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Lb(e){return e&&e.__esModule?e:{default:e}}function jb(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Hb(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const zb=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Os},__asyncDelegator:$b,__asyncGenerator:Nb,__asyncValues:Fb,__await:nr,__awaiter:Ob,__classPrivateFieldGet:jb,__classPrivateFieldSet:Hb,__createBinding:Bb,__decorate:Cb,__exportStar:kb,__extends:Eb,__generator:Pb,__importDefault:Lb,__importStar:Ub,__makeTemplateObject:Db,__metadata:Tb,__param:Rb,__read:El,__rest:Ab,__spread:Ib,__spreadArrays:Mb,__values:Ps},Symbol.toStringTag,{value:"Module"})),Al=je(zb);var Nt={},be={},ha;function Cl(){return ha||(ha=1,Object.defineProperty(be,"__esModule",{value:!0}),be.MAX_HASHABLE_LENGTH=be.INIT=be.KEY=be.DIGEST_LENGTH=be.BLOCK_SIZE=void 0,be.BLOCK_SIZE=64,be.DIGEST_LENGTH=32,be.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),be.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],be.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),be}var $t={},pa;function qb(){if(pa)return $t;pa=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.RawSha256=void 0;var e=Cl(),t=function(){function r(){this.state=Int32Array.from(e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[i++],s--,this.bufferLength===e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%e.BLOCK_SIZE>=e.BLOCK_SIZE-8){for(var o=this.bufferLength;o<e.BLOCK_SIZE;o++)i.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<e.BLOCK_SIZE-8;o++)i.setUint8(o,0);i.setUint32(e.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),i.setUint32(e.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(e.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,i=n.buffer,s=n.state,o=s[0],a=s[1],u=s[2],c=s[3],l=s[4],d=s[5],f=s[6],p=s[7],g=0;g<e.BLOCK_SIZE;g++){if(g<16)this.temp[g]=(i[g*4]&255)<<24|(i[g*4+1]&255)<<16|(i[g*4+2]&255)<<8|i[g*4+3]&255;else{var m=this.temp[g-2],v=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[g-15];var E=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[g]=(v+this.temp[g-7]|0)+(E+this.temp[g-16]|0)}var O=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&d^~l&f)|0)+(p+(e.KEY[g]+this.temp[g]|0)|0)|0,$=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0;p=f,f=d,d=l,l=c+O|0,c=u,u=a,a=o,o=O+$|0}s[0]+=o,s[1]+=a,s[2]+=u,s[3]+=c,s[4]+=l,s[5]+=d,s[6]+=f,s[7]+=p},r}();return $t.RawSha256=t,$t}var ya;function Gb(){if(ya)return Nt;ya=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Sha256=void 0;var e=Al,t=Cl(),r=qb(),n=et(),i=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(u){this.error=u}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=s(this.secret),u=new Uint8Array(t.BLOCK_SIZE);u.set(a);for(var c=0;c<t.BLOCK_SIZE;c++)a[c]^=54,u[c]^=92;this.hash.update(a),this.outer.update(u);for(var c=0;c<a.byteLength;c++)a[c]=0}},o}();Nt.Sha256=i;function s(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>t.BLOCK_SIZE){var u=new r.RawSha256;u.update(a),a=u.digest()}var c=new Uint8Array(t.BLOCK_SIZE);return c.set(a),c}return Nt}var ga;function Wb(){return ga||(ga=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Al;t.__exportStar(Gb(),e)}(wn)),wn}var ma;function Vb(){if(ma)return Bt;ma=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.Sha256=void 0;var e=xl(),t=vl(),r=Wb(),n=gl(),i=_l(),s=bt,o=et(),a=function(){function u(c){(0,n.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new t.Sha256(c):(0,i.isMsWindow)((0,s.locateWindow)())?this.hash=new e.Sha256(c):this.hash=new r.Sha256(c)}return u.prototype.update=function(c,l){this.hash.update((0,o.convertToBuffer)(c))},u.prototype.digest=function(){return this.hash.digest()},u.prototype.reset=function(){this.hash.reset()},u}();return Bt.Sha256=a,Bt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=xb;t.__exportStar(Vb(),e);var r=xl();Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=vl();Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(bl);const Kb={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Rl={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},W={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},fe={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},We={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class w{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=w.getVersionPrecision(t),s=w.getVersionPrecision(r);let o=Math.max(i,s),a=0;const u=w.map([t,r],c=>{const l=o-w.getVersionPrecision(c),d=c+new Array(l+1).join(".0");return w.map(d.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const s=t[n];if(r(s,n))return s}}static assign(t,...r){const n=t;let i,s;if(Object.assign)return Object.assign(t,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{n[u]=o[u]})}return t}static getBrowserAlias(t){return Kb[t]}static getBrowserTypeByAlias(t){return Rl[t]||""}}const D=/version\/(\d+(\.?_?\d+)+)/i,Xb=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=w.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=w.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=w.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=w.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=w.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=w.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=w.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=w.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=w.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=w.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=w.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=w.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=w.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=w.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=w.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=w.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=w.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=w.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=w.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=w.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=w.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=w.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=w.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=w.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=w.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=w.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=w.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:w.getFirstMatch(i,e),version:w.getSecondMatch(i,e)}}}],Zb=[{test:[/Roku\/DVP/],describe(e){const t=w.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:fe.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=w.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:fe.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=w.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=w.getWindowsVersionName(t);return{name:fe.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:fe.iOS},r=w.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=w.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=w.getMacOSVersionName(t),n={name:fe.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=w.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:fe.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=w.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=w.getAndroidVersionName(t),n={name:fe.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=w.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:fe.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=w.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||w.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||w.getFirstMatch(/\bbb(\d+)/i,e);return{name:fe.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=w.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:fe.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=w.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:fe.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:fe.Linux}}},{test:[/CrOS/],describe(){return{name:fe.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=w.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:fe.PlayStation4,version:t}}}],Yb=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=w.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:W.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:W.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:W.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:W.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:W.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:W.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:W.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=w.getFirstMatch(/(ipod|iphone)/i,e);return{type:W.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:W.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:W.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:W.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:W.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:W.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:W.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:W.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:W.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:W.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:W.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:W.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:W.tv}}}],Qb=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:We.Blink};const r=w.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:We.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:We.Trident},r=w.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:We.Presto},r=w.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:We.Gecko},r=w.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:We.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:We.WebKit},r=w.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class _a{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=w.find(Xb,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=w.find(Zb,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=w.find(Yb,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=w.find(Qb,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return w.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let s=0;if(Object.keys(t).forEach(a=>{const u=t[a];typeof u=="string"?(i[a]=u,s+=1):typeof u=="object"&&(r[a]=u,n+=1)}),n>0){const a=Object.keys(r),u=w.find(a,l=>this.isOS(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}const c=w.find(a,l=>this.isPlatform(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}}if(s>0){const a=Object.keys(i),u=w.find(a,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const s=w.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(w.compareVersions(s,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Tl{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new _a(t,r)}static parse(t){return new _a(t).getResult()}static get BROWSER_MAP(){return Rl}static get ENGINE_MAP(){return We}static get OS_MAP(){return fe}static get PLATFORMS_MAP(){return W}}const Jb=({serviceId:e,clientVersion:t})=>async()=>{var i,s,o,a,u;const r=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?Tl.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${((s=r==null?void 0:r.os)==null?void 0:s.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((u=r==null?void 0:r.browser)==null?void 0:u.version)??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n};var Sn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bs=function(e,t){return Bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Bs(e,t)};function ew(e,t){Bs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ks=function(){return ks=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ks.apply(this,arguments)};function tw(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function rw(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function nw(e,t){return function(r,n){t(r,n,e)}}function sw(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function iw(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function ow(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function aw(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function cw(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Is(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ol(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function uw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ol(arguments[t]));return e}function lw(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function sr(e){return this instanceof sr?(this.v=e,this):new sr(e)}function dw(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{u(n[f](p))}catch(g){d(s[0][3],g)}}function u(f){f.value instanceof sr?Promise.resolve(f.value.v).then(c,l):d(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fw(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:sr(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function hw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Is=="function"?Is(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function pw(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function yw(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function gw(e){return e&&e.__esModule?e:{default:e}}function mw(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _w(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const bw=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ks},__asyncDelegator:fw,__asyncGenerator:dw,__asyncValues:hw,__await:sr,__awaiter:iw,__classPrivateFieldGet:mw,__classPrivateFieldSet:_w,__createBinding:aw,__decorate:rw,__exportStar:cw,__extends:ew,__generator:ow,__importDefault:gw,__importStar:yw,__makeTemplateObject:pw,__metadata:sw,__param:nw,__read:Ol,__rest:tw,__spread:uw,__spreadArrays:lw,__values:Is},Symbol.toStringTag,{value:"Module"})),Pl=je(bw);var Ft={},ba;function ww(){if(ba)return Ft;ba=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.AwsCrc32=void 0;var e=Pl,t=et(),r=Bl(),n=function(){function i(){this.crc32=new r.Crc32}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32.digest())]})})},i.prototype.reset=function(){this.crc32=new r.Crc32},i}();return Ft.AwsCrc32=n,Ft}var wa;function Bl(){return wa||(wa=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=Pl,r=et();function n(u){return new i().update(u).digest()}e.crc32=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var l,d;try{for(var f=t.__values(c),p=f.next();!p.done;p=f.next()){var g=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^g)&255]}}catch(m){l={error:m}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(l)throw l.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32=i;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(s),a=ww();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(Sn)),Sn}var ki=Bl();class Wt{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&Sa(r),new Wt(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&Sa(t),parseInt(ge(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Sa(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class Sw{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){const r=[];for(const s of Object.keys(t)){const o=this.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(t.value,3),o;case"string":const a=this.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(Wt.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!Pw.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(qc(t.value.replace(/\-/g,"")),1),d}}parse(t){const r={};let n=0;for(;n<t.byteLength;){const i=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[s]={type:va,value:!0};break;case 1:r[s]={type:va,value:!1};break;case 2:r[s]={type:xw,value:t.getInt8(n++)};break;case 3:r[s]={type:vw,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:Ew,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:Aw,value:new Wt(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:const o=t.getUint16(n,!1);n+=2,r[s]={type:Cw,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:const a=t.getUint16(n,!1);n+=2,r[s]={type:Rw,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:Tw,value:new Date(new Wt(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const u=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:Ow,value:`${ge(u.subarray(0,4))}-${ge(u.subarray(4,6))}-${ge(u.subarray(6,8))}-${ge(u.subarray(8,10))}-${ge(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var xa;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(xa||(xa={}));const va="boolean",xw="byte",vw="short",Ew="integer",Aw="long",Cw="binary",Rw="string",Tw="timestamp",Ow="uuid",Pw=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,kl=4,Ve=kl*2,nt=4,Bw=Ve+nt*2;function kw({byteLength:e,byteOffset:t,buffer:r}){if(e<Bw)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,t,e),i=n.getUint32(0,!1);if(e!==i)throw new Error("Reported message length does not match received message length");const s=n.getUint32(kl,!1),o=n.getUint32(Ve,!1),a=n.getUint32(e-nt,!1),u=new ki.Crc32().update(new Uint8Array(r,t,Ve));if(o!==u.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,t+Ve,e-(Ve+nt))),a!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+Ve+nt,s),body:new Uint8Array(r,t+Ve+nt+s,i-s-(Ve+nt+nt))}}class Iw{constructor(t,r){this.headerMarshaller=new Sw(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){const n=this.headerMarshaller.format(t),i=n.byteLength+r.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new ki.Crc32;return o.setUint32(0,i,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(t){const{headers:r,body:n}=kw(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}}class Mw{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class Nw{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class $w{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const r=await this.options.deserializer(t);r!==void 0&&(yield r)}}}class Fw{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}function Dw(e){let t=0,r=0,n=null,i=null;const s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:u,done:c}=await a.next();if(c){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}const l=u.length;let d=0;for(;d<l;){if(!n){const p=l-d;i||(i=new Uint8Array(4));const g=Math.min(4-r,p);if(i.set(u.slice(d,d+g),r),r+=g,d+=g,r<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}const f=Math.min(t-r,l-d);n.set(u.slice(d,d+f),r),r+=f,d+=f,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function Uw(e,t){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const i=new Error(r.headers[":error-message"].value||"UnknownError");throw i.name=r.headers[":error-code"].value,i}else if(n==="exception"){const i=r.headers[":exception-type"].value,s={[i]:r},o=await e(s);if(o.$unknown){const a=new Error(t(r.body));throw a.name=i,a}throw o[i]}else if(n==="event"){const i={[r.headers[":event-type"].value]:r},s=await e(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let Lw=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Iw(t,r),this.utfEncoder=t}deserialize(t,r){const n=Dw(t);return new $w({messageStream:new Mw({inputStream:n,decoder:this.eventStreamCodec}),deserializer:Uw(r,this.utfEncoder)})}serialize(t,r){return new Nw({messageStream:new Fw({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const jw=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}}),Hw=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:i}=await t.next();if(n)return r.close();r.enqueue(i)}})};class zw{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Lw({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){const n=qw(t)?jw(t):t;return this.universalMarshaller.deserialize(n,r)}serialize(t,r){const n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?Hw(n):n}}const qw=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,Gw=e=>new zw(e);function Ww(e,t,r=1024*1024){return new Promise((n,i)=>{const s=new FileReader;s.addEventListener("error",i),s.addEventListener("abort",i);const o=e.size;let a=0;function u(){if(a>=o){n();return}s.readAsArrayBuffer(e.slice(a,Math.min(o,a+r)))}s.addEventListener("load",c=>{const l=c.target.result;t(new Uint8Array(l)),a+=l.byteLength,u()}),u()})}const Vw=async function(t,r){const n=new t;return await Ww(r,i=>{n.update(i)}),n.digest()},Kw=e=>()=>Promise.reject(e),ze=64,Xw=16,Zw=[1732584193,4023233417,2562383102,271733878];class Yw{constructor(){this.reset()}update(t){if(Qw(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=Jw(t);let n=0,{byteLength:i}=r;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===ze&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:i}=this,s=i*8;if(r.setUint8(this.bufferLength++,128),n%ze>=ze-8){for(let o=this.bufferLength;o<ze;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<ze-8;o++)r.setUint8(o,0);r.setUint32(ze-8,s>>>0,!0),r.setUint32(ze-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(Xw));for(let r=0;r<4;r++)t.setUint32(r*4,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:r}=this;let n=r[0],i=r[1],s=r[2],o=r[3];n=ae(n,i,s,o,t.getUint32(0,!0),7,3614090360),o=ae(o,n,i,s,t.getUint32(4,!0),12,3905402710),s=ae(s,o,n,i,t.getUint32(8,!0),17,606105819),i=ae(i,s,o,n,t.getUint32(12,!0),22,3250441966),n=ae(n,i,s,o,t.getUint32(16,!0),7,4118548399),o=ae(o,n,i,s,t.getUint32(20,!0),12,1200080426),s=ae(s,o,n,i,t.getUint32(24,!0),17,2821735955),i=ae(i,s,o,n,t.getUint32(28,!0),22,4249261313),n=ae(n,i,s,o,t.getUint32(32,!0),7,1770035416),o=ae(o,n,i,s,t.getUint32(36,!0),12,2336552879),s=ae(s,o,n,i,t.getUint32(40,!0),17,4294925233),i=ae(i,s,o,n,t.getUint32(44,!0),22,2304563134),n=ae(n,i,s,o,t.getUint32(48,!0),7,1804603682),o=ae(o,n,i,s,t.getUint32(52,!0),12,4254626195),s=ae(s,o,n,i,t.getUint32(56,!0),17,2792965006),i=ae(i,s,o,n,t.getUint32(60,!0),22,1236535329),n=ce(n,i,s,o,t.getUint32(4,!0),5,4129170786),o=ce(o,n,i,s,t.getUint32(24,!0),9,3225465664),s=ce(s,o,n,i,t.getUint32(44,!0),14,643717713),i=ce(i,s,o,n,t.getUint32(0,!0),20,3921069994),n=ce(n,i,s,o,t.getUint32(20,!0),5,3593408605),o=ce(o,n,i,s,t.getUint32(40,!0),9,38016083),s=ce(s,o,n,i,t.getUint32(60,!0),14,3634488961),i=ce(i,s,o,n,t.getUint32(16,!0),20,3889429448),n=ce(n,i,s,o,t.getUint32(36,!0),5,568446438),o=ce(o,n,i,s,t.getUint32(56,!0),9,3275163606),s=ce(s,o,n,i,t.getUint32(12,!0),14,4107603335),i=ce(i,s,o,n,t.getUint32(32,!0),20,1163531501),n=ce(n,i,s,o,t.getUint32(52,!0),5,2850285829),o=ce(o,n,i,s,t.getUint32(8,!0),9,4243563512),s=ce(s,o,n,i,t.getUint32(28,!0),14,1735328473),i=ce(i,s,o,n,t.getUint32(48,!0),20,2368359562),n=ue(n,i,s,o,t.getUint32(20,!0),4,4294588738),o=ue(o,n,i,s,t.getUint32(32,!0),11,2272392833),s=ue(s,o,n,i,t.getUint32(44,!0),16,1839030562),i=ue(i,s,o,n,t.getUint32(56,!0),23,4259657740),n=ue(n,i,s,o,t.getUint32(4,!0),4,2763975236),o=ue(o,n,i,s,t.getUint32(16,!0),11,1272893353),s=ue(s,o,n,i,t.getUint32(28,!0),16,4139469664),i=ue(i,s,o,n,t.getUint32(40,!0),23,3200236656),n=ue(n,i,s,o,t.getUint32(52,!0),4,681279174),o=ue(o,n,i,s,t.getUint32(0,!0),11,3936430074),s=ue(s,o,n,i,t.getUint32(12,!0),16,3572445317),i=ue(i,s,o,n,t.getUint32(24,!0),23,76029189),n=ue(n,i,s,o,t.getUint32(36,!0),4,3654602809),o=ue(o,n,i,s,t.getUint32(48,!0),11,3873151461),s=ue(s,o,n,i,t.getUint32(60,!0),16,530742520),i=ue(i,s,o,n,t.getUint32(8,!0),23,3299628645),n=le(n,i,s,o,t.getUint32(0,!0),6,4096336452),o=le(o,n,i,s,t.getUint32(28,!0),10,1126891415),s=le(s,o,n,i,t.getUint32(56,!0),15,2878612391),i=le(i,s,o,n,t.getUint32(20,!0),21,4237533241),n=le(n,i,s,o,t.getUint32(48,!0),6,1700485571),o=le(o,n,i,s,t.getUint32(12,!0),10,2399980690),s=le(s,o,n,i,t.getUint32(40,!0),15,4293915773),i=le(i,s,o,n,t.getUint32(4,!0),21,2240044497),n=le(n,i,s,o,t.getUint32(32,!0),6,1873313359),o=le(o,n,i,s,t.getUint32(60,!0),10,4264355552),s=le(s,o,n,i,t.getUint32(24,!0),15,2734768916),i=le(i,s,o,n,t.getUint32(52,!0),21,1309151649),n=le(n,i,s,o,t.getUint32(16,!0),6,4149444226),o=le(o,n,i,s,t.getUint32(44,!0),10,3174756917),s=le(s,o,n,i,t.getUint32(8,!0),15,718787259),i=le(i,s,o,n,t.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=i+r[1]&4294967295,r[2]=s+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(Zw),this.buffer=new DataView(new ArrayBuffer(ze)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Vr(e,t,r,n,i,s){return t=(t+e&4294967295)+(n+s&4294967295)&4294967295,(t<<i|t>>>32-i)+r&4294967295}function ae(e,t,r,n,i,s,o){return Vr(t&r|~t&n,e,t,i,s,o)}function ce(e,t,r,n,i,s,o){return Vr(t&n|r&~n,e,t,i,s,o)}function ue(e,t,r,n,i,s,o){return Vr(t^r^n,e,t,i,s,o)}function le(e,t,r,n,i,s,o){return Vr(r^(t|~n),e,t,i,s,o)}function Qw(e){return typeof e=="string"?e.length===0:e.byteLength===0}function Jw(e){return typeof e=="string"?ut(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const Ea=typeof TextEncoder=="function"?new TextEncoder:null,e1=e=>{if(typeof e=="string"){if(Ea)return Ea.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},t1={CrtSignerV4:null};class r1{constructor(t){this.sigv4Signer=new _h(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(t,r,n)}return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=null;try{if(t=t1.CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const Ii="required",h="type",y="conditions",_="fn",b="argv",P="ref",G="assign",A="url",C="properties",Il="backend",Ie="authSchemes",Se="disableDoubleEncoding",xe="signingName",Fe="signingRegion",R="headers",Mi="signingRegionSet",n1=!1,Pe=!0,Ae="isSet",se="booleanEquals",T="error",Br="aws.partition",j="stringEquals",V="getAttr",de="name",Me="substring",Aa="bucketSuffix",Ml="parseURL",Ca="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",x="endpoint",S="tree",Nl="aws.isVirtualHostableS3Bucket",wr="{url#scheme}://{Bucket}.{url#authority}{url#path}",Ne="not",Sr="{url#scheme}://{url#authority}{url#path}",$l="hardwareType",Fl="regionPrefix",Ra="bucketAliasSuffix",Ms="outpostId",lt="isValidHostLabel",Ni="sigv4a",ir="s3-outposts",mt="s3",Dl="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Ul="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Ta="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Ll="aws.parseArn",jl="bucketArn",Hl="arnType",kr="",$i="s3-object-lambda",zl="accesspoint",Fi="accessPointName",Oa="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Pa="mrapPartition",Ba="outpostType",ka="arnPrefix",ql="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Ia="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Ma="https://s3.{partitionResult#dnsSuffix}",dt={[Ii]:!1,[h]:"String"},ft={[Ii]:!0,default:!1,[h]:"Boolean"},Dt={[Ii]:!1,[h]:"Boolean"},Be={[_]:se,[b]:[{[P]:"Accelerate"},!0]},L={[_]:se,[b]:[{[P]:"UseFIPS"},!0]},U={[_]:se,[b]:[{[P]:"UseDualStack"},!0]},X={[_]:Ae,[b]:[{[P]:"Endpoint"}]},Gl={[_]:Br,[b]:[{[P]:"Region"}],[G]:"partitionResult"},Na={[_]:j,[b]:[{[_]:V,[b]:[{[P]:"partitionResult"},de]},"aws-cn"]},Ir={[_]:Ae,[b]:[{[P]:"Bucket"}]},pe={[P]:"Bucket"},he={[_]:Ml,[b]:[{[P]:"Endpoint"}],[G]:"url"},xr={[_]:se,[b]:[{[_]:V,[b]:[{[P]:"url"},"isIp"]},!0]},Wl={[P]:"url"},Vl={[_]:"uriEncode",[b]:[pe],[G]:"uri_encoded_bucket"},De={[Il]:"S3Express",[Ie]:[{[Se]:!0,[de]:"sigv4",[xe]:"s3express",[Fe]:"{Region}"}]},B={},Kl={[_]:Nl,[b]:[pe,!1]},xn={[T]:"S3Express bucket name is not a valid virtual hostable name.",[h]:T},Mr={[Il]:"S3Express",[Ie]:[{[Se]:!0,[de]:"sigv4-s3express",[xe]:"s3express",[Fe]:"{Region}"}]},$a={[_]:Ae,[b]:[{[P]:"UseS3ExpressControlEndpoint"}]},Fa={[_]:se,[b]:[{[P]:"UseS3ExpressControlEndpoint"},!0]},k={[_]:Ne,[b]:[X]},Da={[T]:"Unrecognized S3Express bucket name format.",[h]:T},Ua={[_]:Ne,[b]:[Ir]},La={[P]:$l},ja={[y]:[k],[T]:"Expected a endpoint to be specified but no endpoint was found",[h]:T},pr={[Ie]:[{[Se]:!0,[de]:Ni,[xe]:ir,[Mi]:["*"]},{[Se]:!0,[de]:"sigv4",[xe]:ir,[Fe]:"{Region}"}]},vn={[_]:se,[b]:[{[P]:"ForcePathStyle"},!1]},s1={[P]:"ForcePathStyle"},K={[_]:se,[b]:[{[P]:"Accelerate"},!1]},Q={[_]:j,[b]:[{[P]:"Region"},"aws-global"]},ee={[Ie]:[{[Se]:!0,[de]:"sigv4",[xe]:mt,[Fe]:"us-east-1"}]},N={[_]:Ne,[b]:[Q]},te={[_]:se,[b]:[{[P]:"UseGlobalEndpoint"},!0]},Ha={[A]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:{[Ie]:[{[Se]:!0,[de]:"sigv4",[xe]:mt,[Fe]:"{Region}"}]},[R]:{}},Y={[Ie]:[{[Se]:!0,[de]:"sigv4",[xe]:mt,[Fe]:"{Region}"}]},re={[_]:se,[b]:[{[P]:"UseGlobalEndpoint"},!1]},M={[_]:se,[b]:[{[P]:"UseDualStack"},!1]},za={[A]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[C]:Y,[R]:{}},I={[_]:se,[b]:[{[P]:"UseFIPS"},!1]},qa={[A]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[C]:Y,[R]:{}},Ga={[A]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:Y,[R]:{}},En={[_]:se,[b]:[{[_]:V,[b]:[Wl,"isIp"]},!1]},An={[A]:Dl,[C]:Y,[R]:{}},Ns={[A]:wr,[C]:Y,[R]:{}},Wa={[x]:Ns,[h]:x},Cn={[A]:Ul,[C]:Y,[R]:{}},Va={[A]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[C]:Y,[R]:{}},yr={[T]:"Invalid region: region was not a valid DNS name.",[h]:T},me={[P]:jl},Xl={[P]:Hl},Rn={[_]:V,[b]:[me,"service"]},Di={[P]:Fi},Ka={[y]:[U],[T]:"S3 Object Lambda does not support Dual-stack",[h]:T},Xa={[y]:[Be],[T]:"S3 Object Lambda does not support S3 Accelerate",[h]:T},Za={[y]:[{[_]:Ae,[b]:[{[P]:"DisableAccessPoints"}]},{[_]:se,[b]:[{[P]:"DisableAccessPoints"},!0]}],[T]:"Access points are not supported for this operation",[h]:T},Tn={[y]:[{[_]:Ae,[b]:[{[P]:"UseArnRegion"}]},{[_]:se,[b]:[{[P]:"UseArnRegion"},!1]},{[_]:Ne,[b]:[{[_]:j,[b]:[{[_]:V,[b]:[me,"region"]},"{Region}"]}]}],[T]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:T},Zl={[_]:V,[b]:[{[P]:"bucketPartition"},de]},Yl={[_]:V,[b]:[me,"accountId"]},On={[Ie]:[{[Se]:!0,[de]:"sigv4",[xe]:$i,[Fe]:"{bucketArn#region}"}]},Ya={[T]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:T},Pn={[T]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:T},Bn={[T]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:T},kn={[T]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:T},Qa={[T]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:T},Ja={[T]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:T},Ut={[Ie]:[{[Se]:!0,[de]:"sigv4",[xe]:mt,[Fe]:"{bucketArn#region}"}]},ec={[Ie]:[{[Se]:!0,[de]:Ni,[xe]:ir,[Mi]:["*"]},{[Se]:!0,[de]:"sigv4",[xe]:ir,[Fe]:"{bucketArn#region}"}]},tc={[_]:Ll,[b]:[pe]},rc={[A]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:Y,[R]:{}},nc={[A]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:Y,[R]:{}},sc={[A]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:Y,[R]:{}},In={[A]:ql,[C]:Y,[R]:{}},ic={[A]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:Y,[R]:{}},oc={[P]:"UseObjectLambdaEndpoint"},Mn={[Ie]:[{[Se]:!0,[de]:"sigv4",[xe]:$i,[Fe]:"{Region}"}]},ac={[A]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:Y,[R]:{}},cc={[A]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[C]:Y,[R]:{}},uc={[A]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:Y,[R]:{}},Nn={[A]:Sr,[C]:Y,[R]:{}},lc={[A]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[C]:Y,[R]:{}},$n=[{[P]:"Region"}],i1=[{[P]:"Endpoint"}],o1=[pe],Fn=[U],gr=[Be],rt=[X,he],dc=[{[_]:Ae,[b]:[{[P]:"DisableS3ExpressSessionAuth"}]},{[_]:se,[b]:[{[P]:"DisableS3ExpressSessionAuth"},!0]}],fc=[xr],Dn=[Vl],Un=[Kl],ht=[L],hc=[{[_]:Me,[b]:[pe,6,14,!0],[G]:"s3expressAvailabilityZoneId"},{[_]:Me,[b]:[pe,14,16,!0],[G]:"s3expressAvailabilityZoneDelim"},{[_]:j,[b]:[{[P]:"s3expressAvailabilityZoneDelim"},"--"]}],pc=[{[y]:[L],[x]:{[A]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[C]:De,[R]:{}},[h]:x},{[x]:{[A]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[C]:De,[R]:{}},[h]:x}],yc=[{[_]:Me,[b]:[pe,6,15,!0],[G]:"s3expressAvailabilityZoneId"},{[_]:Me,[b]:[pe,15,17,!0],[G]:"s3expressAvailabilityZoneDelim"},{[_]:j,[b]:[{[P]:"s3expressAvailabilityZoneDelim"},"--"]}],gc=[{[y]:[L],[x]:{[A]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[C]:Mr,[R]:{}},[h]:x},{[x]:{[A]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[C]:Mr,[R]:{}},[h]:x}],a1=[Ir],mc=[{[_]:lt,[b]:[{[P]:Ms},!1]}],_c=[{[_]:j,[b]:[{[P]:Fl},"beta"]}],c1=["*"],qe=[Gl],bc=[{[_]:lt,[b]:[{[P]:"Region"},!1]}],Ge=[{[_]:j,[b]:[{[P]:"Region"},"us-east-1"]}],Ln=[{[_]:j,[b]:[Xl,zl]}],wc=[{[_]:V,[b]:[me,"resourceId[1]"],[G]:Fi},{[_]:Ne,[b]:[{[_]:j,[b]:[Di,kr]}]}],u1=[me,"resourceId[1]"],jn=[{[_]:Ne,[b]:[{[_]:j,[b]:[{[_]:V,[b]:[me,"region"]},kr]}]}],Sc=[{[_]:Ne,[b]:[{[_]:Ae,[b]:[{[_]:V,[b]:[me,"resourceId[2]"]}]}]}],l1=[me,"resourceId[2]"],Hn=[{[_]:Br,[b]:[{[_]:V,[b]:[me,"region"]}],[G]:"bucketPartition"}],xc=[{[_]:j,[b]:[Zl,{[_]:V,[b]:[{[P]:"partitionResult"},de]}]}],zn=[{[_]:lt,[b]:[{[_]:V,[b]:[me,"region"]},!0]}],qn=[{[_]:lt,[b]:[Yl,!1]}],vc=[{[_]:lt,[b]:[Di,!1]}],Ec=[{[_]:lt,[b]:[{[P]:"Region"},!0]}],d1={version:"1.0",parameters:{Bucket:dt,Region:dt,UseFIPS:ft,UseDualStack:ft,Endpoint:dt,ForcePathStyle:ft,Accelerate:ft,UseGlobalEndpoint:ft,UseObjectLambdaEndpoint:Dt,Key:dt,Prefix:dt,CopySource:dt,DisableAccessPoints:Dt,DisableMultiRegionAccessPoints:ft,UseArnRegion:Dt,UseS3ExpressControlEndpoint:Dt,DisableS3ExpressSessionAuth:Dt},rules:[{[y]:[{[_]:Ae,[b]:$n}],rules:[{[y]:[Be,L],error:"Accelerate cannot be used with FIPS",[h]:T},{[y]:[U,X],error:"Cannot set dual-stack in combination with a custom endpoint.",[h]:T},{[y]:[X,L],error:"A custom endpoint cannot be combined with FIPS",[h]:T},{[y]:[X,Be],error:"A custom endpoint cannot be combined with S3 Accelerate",[h]:T},{[y]:[L,Gl,Na],error:"Partition does not support FIPS",[h]:T},{[y]:[Ir,{[_]:Me,[b]:[pe,0,6,Pe],[G]:Aa},{[_]:j,[b]:[{[P]:Aa},"--x-s3"]}],rules:[{[y]:Fn,error:"S3Express does not support Dual-stack.",[h]:T},{[y]:gr,error:"S3Express does not support S3 Accelerate.",[h]:T},{[y]:rt,rules:[{[y]:dc,rules:[{[y]:fc,rules:[{[y]:Dn,rules:[{endpoint:{[A]:Ca,[C]:De,[R]:B},[h]:x}],[h]:S}],[h]:S},{[y]:Un,rules:[{endpoint:{[A]:wr,[C]:De,[R]:B},[h]:x}],[h]:S},xn],[h]:S},{[y]:fc,rules:[{[y]:Dn,rules:[{endpoint:{[A]:Ca,[C]:Mr,[R]:B},[h]:x}],[h]:S}],[h]:S},{[y]:Un,rules:[{endpoint:{[A]:wr,[C]:Mr,[R]:B},[h]:x}],[h]:S},xn],[h]:S},{[y]:[$a,Fa],rules:[{[y]:[Vl,k],rules:[{[y]:ht,endpoint:{[A]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[C]:De,[R]:B},[h]:x},{endpoint:{[A]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[C]:De,[R]:B},[h]:x}],[h]:S}],[h]:S},{[y]:Un,rules:[{[y]:dc,rules:[{[y]:hc,rules:pc,[h]:S},{[y]:yc,rules:pc,[h]:S},Da],[h]:S},{[y]:hc,rules:gc,[h]:S},{[y]:yc,rules:gc,[h]:S},Da],[h]:S},xn],[h]:S},{[y]:[Ua,$a,Fa],rules:[{[y]:rt,endpoint:{[A]:Sr,[C]:De,[R]:B},[h]:x},{[y]:ht,endpoint:{[A]:"https://s3express-control-fips.{Region}.amazonaws.com",[C]:De,[R]:B},[h]:x},{endpoint:{[A]:"https://s3express-control.{Region}.amazonaws.com",[C]:De,[R]:B},[h]:x}],[h]:S},{[y]:[Ir,{[_]:Me,[b]:[pe,49,50,Pe],[G]:$l},{[_]:Me,[b]:[pe,8,12,Pe],[G]:Fl},{[_]:Me,[b]:[pe,0,7,Pe],[G]:Ra},{[_]:Me,[b]:[pe,32,49,Pe],[G]:Ms},{[_]:Br,[b]:$n,[G]:"regionPartition"},{[_]:j,[b]:[{[P]:Ra},"--op-s3"]}],rules:[{[y]:mc,rules:[{[y]:[{[_]:j,[b]:[La,"e"]}],rules:[{[y]:_c,rules:[ja,{[y]:rt,endpoint:{[A]:"https://{Bucket}.ec2.{url#authority}",[C]:pr,[R]:B},[h]:x}],[h]:S},{endpoint:{[A]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[C]:pr,[R]:B},[h]:x}],[h]:S},{[y]:[{[_]:j,[b]:[La,"o"]}],rules:[{[y]:_c,rules:[ja,{[y]:rt,endpoint:{[A]:"https://{Bucket}.op-{outpostId}.{url#authority}",[C]:pr,[R]:B},[h]:x}],[h]:S},{endpoint:{[A]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[C]:pr,[R]:B},[h]:x}],[h]:S},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:T}],[h]:S},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:T}],[h]:S},{[y]:a1,rules:[{[y]:[X,{[_]:Ne,[b]:[{[_]:Ae,[b]:[{[_]:Ml,[b]:i1}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:T},{[y]:[vn,Kl],rules:[{[y]:qe,rules:[{[y]:bc,rules:[{[y]:[Be,Na],error:"S3 Accelerate cannot be used in this region",[h]:T},{[y]:[U,L,K,k,Q],endpoint:{[A]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:ee,[R]:B},[h]:x},{[y]:[U,L,K,k,N,te],rules:[{endpoint:Ha,[h]:x}],[h]:S},{[y]:[U,L,K,k,N,re],endpoint:Ha,[h]:x},{[y]:[M,L,K,k,Q],endpoint:{[A]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[C]:ee,[R]:B},[h]:x},{[y]:[M,L,K,k,N,te],rules:[{endpoint:za,[h]:x}],[h]:S},{[y]:[M,L,K,k,N,re],endpoint:za,[h]:x},{[y]:[U,I,Be,k,Q],endpoint:{[A]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:ee,[R]:B},[h]:x},{[y]:[U,I,Be,k,N,te],rules:[{endpoint:qa,[h]:x}],[h]:S},{[y]:[U,I,Be,k,N,re],endpoint:qa,[h]:x},{[y]:[U,I,K,k,Q],endpoint:{[A]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:ee,[R]:B},[h]:x},{[y]:[U,I,K,k,N,te],rules:[{endpoint:Ga,[h]:x}],[h]:S},{[y]:[U,I,K,k,N,re],endpoint:Ga,[h]:x},{[y]:[M,I,K,X,he,xr,Q],endpoint:{[A]:Dl,[C]:ee,[R]:B},[h]:x},{[y]:[M,I,K,X,he,En,Q],endpoint:{[A]:wr,[C]:ee,[R]:B},[h]:x},{[y]:[M,I,K,X,he,xr,N,te],rules:[{[y]:Ge,endpoint:An,[h]:x},{endpoint:An,[h]:x}],[h]:S},{[y]:[M,I,K,X,he,En,N,te],rules:[{[y]:Ge,endpoint:Ns,[h]:x},Wa],[h]:S},{[y]:[M,I,K,X,he,xr,N,re],endpoint:An,[h]:x},{[y]:[M,I,K,X,he,En,N,re],endpoint:Ns,[h]:x},{[y]:[M,I,Be,k,Q],endpoint:{[A]:Ul,[C]:ee,[R]:B},[h]:x},{[y]:[M,I,Be,k,N,te],rules:[{[y]:Ge,endpoint:Cn,[h]:x},{endpoint:Cn,[h]:x}],[h]:S},{[y]:[M,I,Be,k,N,re],endpoint:Cn,[h]:x},{[y]:[M,I,K,k,Q],endpoint:{[A]:Ta,[C]:ee,[R]:B},[h]:x},{[y]:[M,I,K,k,N,te],rules:[{[y]:Ge,endpoint:{[A]:Ta,[C]:Y,[R]:B},[h]:x},{endpoint:Va,[h]:x}],[h]:S},{[y]:[M,I,K,k,N,re],endpoint:Va,[h]:x}],[h]:S},yr],[h]:S}],[h]:S},{[y]:[X,he,{[_]:j,[b]:[{[_]:V,[b]:[Wl,"scheme"]},"http"]},{[_]:Nl,[b]:[pe,Pe]},vn,I,M,K],rules:[{[y]:qe,rules:[{[y]:bc,rules:[Wa],[h]:S},yr],[h]:S}],[h]:S},{[y]:[vn,{[_]:Ll,[b]:o1,[G]:jl}],rules:[{[y]:[{[_]:V,[b]:[me,"resourceId[0]"],[G]:Hl},{[_]:Ne,[b]:[{[_]:j,[b]:[Xl,kr]}]}],rules:[{[y]:[{[_]:j,[b]:[Rn,$i]}],rules:[{[y]:Ln,rules:[{[y]:wc,rules:[Ka,Xa,{[y]:jn,rules:[Za,{[y]:Sc,rules:[Tn,{[y]:Hn,rules:[{[y]:qe,rules:[{[y]:xc,rules:[{[y]:zn,rules:[{[y]:[{[_]:j,[b]:[Yl,kr]}],error:"Invalid ARN: Missing account id",[h]:T},{[y]:qn,rules:[{[y]:vc,rules:[{[y]:rt,endpoint:{[A]:Oa,[C]:On,[R]:B},[h]:x},{[y]:ht,endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:On,[R]:B},[h]:x},{endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:On,[R]:B},[h]:x}],[h]:S},Ya],[h]:S},Pn],[h]:S},Bn],[h]:S},kn],[h]:S}],[h]:S}],[h]:S},Qa],[h]:S},{error:"Invalid ARN: bucket ARN is missing a region",[h]:T}],[h]:S},Ja],[h]:S},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:T}],[h]:S},{[y]:Ln,rules:[{[y]:wc,rules:[{[y]:jn,rules:[{[y]:Ln,rules:[{[y]:jn,rules:[Za,{[y]:Sc,rules:[Tn,{[y]:Hn,rules:[{[y]:qe,rules:[{[y]:[{[_]:j,[b]:[Zl,"{partitionResult#name}"]}],rules:[{[y]:zn,rules:[{[y]:[{[_]:j,[b]:[Rn,mt]}],rules:[{[y]:qn,rules:[{[y]:vc,rules:[{[y]:gr,error:"Access Points do not support S3 Accelerate",[h]:T},{[y]:[L,U],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Ut,[R]:B},[h]:x},{[y]:[L,M],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Ut,[R]:B},[h]:x},{[y]:[I,U],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Ut,[R]:B},[h]:x},{[y]:[I,M,X,he],endpoint:{[A]:Oa,[C]:Ut,[R]:B},[h]:x},{[y]:[I,M],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Ut,[R]:B},[h]:x}],[h]:S},Ya],[h]:S},Pn],[h]:S},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:T}],[h]:S},Bn],[h]:S},kn],[h]:S}],[h]:S}],[h]:S},Qa],[h]:S}],[h]:S}],[h]:S},{[y]:[{[_]:lt,[b]:[Di,Pe]}],rules:[{[y]:Fn,error:"S3 MRAP does not support dual-stack",[h]:T},{[y]:ht,error:"S3 MRAP does not support FIPS",[h]:T},{[y]:gr,error:"S3 MRAP does not support S3 Accelerate",[h]:T},{[y]:[{[_]:se,[b]:[{[P]:"DisableMultiRegionAccessPoints"},Pe]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:T},{[y]:[{[_]:Br,[b]:$n,[G]:Pa}],rules:[{[y]:[{[_]:j,[b]:[{[_]:V,[b]:[{[P]:Pa},de]},{[_]:V,[b]:[me,"partition"]}]}],rules:[{endpoint:{[A]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[C]:{[Ie]:[{[Se]:Pe,name:Ni,[xe]:mt,[Mi]:c1}]},[R]:B},[h]:x}],[h]:S},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:T}],[h]:S}],[h]:S},{error:"Invalid Access Point Name",[h]:T}],[h]:S},Ja],[h]:S},{[y]:[{[_]:j,[b]:[Rn,ir]}],rules:[{[y]:Fn,error:"S3 Outposts does not support Dual-stack",[h]:T},{[y]:ht,error:"S3 Outposts does not support FIPS",[h]:T},{[y]:gr,error:"S3 Outposts does not support S3 Accelerate",[h]:T},{[y]:[{[_]:Ae,[b]:[{[_]:V,[b]:[me,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:T},{[y]:[{[_]:V,[b]:u1,[G]:Ms}],rules:[{[y]:mc,rules:[Tn,{[y]:Hn,rules:[{[y]:qe,rules:[{[y]:xc,rules:[{[y]:zn,rules:[{[y]:qn,rules:[{[y]:[{[_]:V,[b]:l1,[G]:Ba}],rules:[{[y]:[{[_]:V,[b]:[me,"resourceId[3]"],[G]:Fi}],rules:[{[y]:[{[_]:j,[b]:[{[P]:Ba},zl]}],rules:[{[y]:rt,endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[C]:ec,[R]:B},[h]:x},{endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:ec,[R]:B},[h]:x}],[h]:S},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:T}],[h]:S},{error:"Invalid ARN: expected an access point name",[h]:T}],[h]:S},{error:"Invalid ARN: Expected a 4-component resource",[h]:T}],[h]:S},Pn],[h]:S},Bn],[h]:S},kn],[h]:S}],[h]:S}],[h]:S},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:T}],[h]:S},{error:"Invalid ARN: The Outpost Id was not set",[h]:T}],[h]:S},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:T}],[h]:S},{error:"Invalid ARN: No ARN type specified",[h]:T}],[h]:S},{[y]:[{[_]:Me,[b]:[pe,0,4,n1],[G]:ka},{[_]:j,[b]:[{[P]:ka},"arn:"]},{[_]:Ne,[b]:[{[_]:Ae,[b]:[tc]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:T},{[y]:[{[_]:se,[b]:[s1,Pe]},tc],error:"Path-style addressing cannot be used with ARN buckets",[h]:T},{[y]:Dn,rules:[{[y]:qe,rules:[{[y]:[K],rules:[{[y]:[U,k,L,Q],endpoint:{[A]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:ee,[R]:B},[h]:x},{[y]:[U,k,L,N,te],rules:[{endpoint:rc,[h]:x}],[h]:S},{[y]:[U,k,L,N,re],endpoint:rc,[h]:x},{[y]:[M,k,L,Q],endpoint:{[A]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:ee,[R]:B},[h]:x},{[y]:[M,k,L,N,te],rules:[{endpoint:nc,[h]:x}],[h]:S},{[y]:[M,k,L,N,re],endpoint:nc,[h]:x},{[y]:[U,k,I,Q],endpoint:{[A]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:ee,[R]:B},[h]:x},{[y]:[U,k,I,N,te],rules:[{endpoint:sc,[h]:x}],[h]:S},{[y]:[U,k,I,N,re],endpoint:sc,[h]:x},{[y]:[M,X,he,I,Q],endpoint:{[A]:ql,[C]:ee,[R]:B},[h]:x},{[y]:[M,X,he,I,N,te],rules:[{[y]:Ge,endpoint:In,[h]:x},{endpoint:In,[h]:x}],[h]:S},{[y]:[M,X,he,I,N,re],endpoint:In,[h]:x},{[y]:[M,k,I,Q],endpoint:{[A]:Ia,[C]:ee,[R]:B},[h]:x},{[y]:[M,k,I,N,te],rules:[{[y]:Ge,endpoint:{[A]:Ia,[C]:Y,[R]:B},[h]:x},{endpoint:ic,[h]:x}],[h]:S},{[y]:[M,k,I,N,re],endpoint:ic,[h]:x}],[h]:S},{error:"Path-style addressing cannot be used with S3 Accelerate",[h]:T}],[h]:S}],[h]:S}],[h]:S},{[y]:[{[_]:Ae,[b]:[oc]},{[_]:se,[b]:[oc,Pe]}],rules:[{[y]:qe,rules:[{[y]:Ec,rules:[Ka,Xa,{[y]:rt,endpoint:{[A]:Sr,[C]:Mn,[R]:B},[h]:x},{[y]:ht,endpoint:{[A]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[C]:Mn,[R]:B},[h]:x},{endpoint:{[A]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[C]:Mn,[R]:B},[h]:x}],[h]:S},yr],[h]:S}],[h]:S},{[y]:[Ua],rules:[{[y]:qe,rules:[{[y]:Ec,rules:[{[y]:[L,U,k,Q],endpoint:{[A]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:ee,[R]:B},[h]:x},{[y]:[L,U,k,N,te],rules:[{endpoint:ac,[h]:x}],[h]:S},{[y]:[L,U,k,N,re],endpoint:ac,[h]:x},{[y]:[L,M,k,Q],endpoint:{[A]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[C]:ee,[R]:B},[h]:x},{[y]:[L,M,k,N,te],rules:[{endpoint:cc,[h]:x}],[h]:S},{[y]:[L,M,k,N,re],endpoint:cc,[h]:x},{[y]:[I,U,k,Q],endpoint:{[A]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:ee,[R]:B},[h]:x},{[y]:[I,U,k,N,te],rules:[{endpoint:uc,[h]:x}],[h]:S},{[y]:[I,U,k,N,re],endpoint:uc,[h]:x},{[y]:[I,M,X,he,Q],endpoint:{[A]:Sr,[C]:ee,[R]:B},[h]:x},{[y]:[I,M,X,he,N,te],rules:[{[y]:Ge,endpoint:Nn,[h]:x},{endpoint:Nn,[h]:x}],[h]:S},{[y]:[I,M,X,he,N,re],endpoint:Nn,[h]:x},{[y]:[I,M,k,Q],endpoint:{[A]:Ma,[C]:ee,[R]:B},[h]:x},{[y]:[I,M,k,N,te],rules:[{[y]:Ge,endpoint:{[A]:Ma,[C]:Y,[R]:B},[h]:x},{endpoint:lc,[h]:x}],[h]:S},{[y]:[I,M,k,N,re],endpoint:lc,[h]:x}],[h]:S},yr],[h]:S}],[h]:S}],[h]:S},{error:"A region must be set when sending requests to S3.",[h]:T}]},f1=d1,h1=(e,t={})=>tp(f1,{endpointParams:e,logger:t.logger});Rr.aws=yu;const p1=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??Gs,base64Encoder:(e==null?void 0:e.base64Encoder)??Vs,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??h1,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??Ud,logger:(e==null?void 0:e.logger)??new qs,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??Vd,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??r1,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Tr,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ut,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ws}),y1=["in-region","cross-region","mobile","standard","legacy"],g1=({defaultsMode:e}={})=>iu(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(m1()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${y1.join(", ")}, got ${t}`)}}),m1=()=>{var r,n;const e=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?Tl.parse(window.navigator.userAgent):void 0,t=(n=e==null?void 0:e.platform)==null?void 0:n.type;return t==="tablet"||t==="mobile"},_1=e=>{const t=g1(e),r=()=>t().then(wf),n=p1(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??e1,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Jb({serviceId:n.serviceId,clientVersion:Cm.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??Gw,maxAttempts:(e==null?void 0:e.maxAttempts)??Or,md5:(e==null?void 0:e.md5)??Yw,region:(e==null?void 0:e.region)??Kw("Region is missing"),requestHandler:Ks.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await r()).retryMode||$p),sha1:(e==null?void 0:e.sha1)??cl.Sha1,sha256:(e==null?void 0:e.sha256)??bl.Sha256,streamCollector:(e==null?void 0:e.streamCollector)??Hc,streamHasher:(e==null?void 0:e.streamHasher)??Vw,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(hp)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(pp))}},b1=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},w1=e=>({region:e.region()}),Gn=e=>e,S1=(e,t)=>{const r={...Gn(b1(e)),...Gn(Af(e)),...Gn(_d(e))};return t.forEach(n=>n.configure(r)),{...e,...w1(r),...Cf(r),...bd(r)}};class x1 extends Nd{constructor(...[t]){const r=_1(t||{}),n=fy(r),i=yp(n),s=Np(i),o=sy(s),a=o,u=Ph(a),c=xh(u,{session:[()=>this,am]}),l=$h(c),d=gp(l),f=S1(d,(t==null?void 0:t.extensions)||[]);super(f),this.config=f,this.middlewareStack.use(ly(this.config)),this.middlewareStack.use(bp(this.config)),this.middlewareStack.use(Cd(this.config)),this.middlewareStack.use(Od(this.config)),this.middlewareStack.use(Md(this.config)),this.middlewareStack.use(Nh(this.config)),this.middlewareStack.use(Th(this.config)),this.middlewareStack.use(vd(this.config)),this.middlewareStack.use(Uf(this.config)),this.middlewareStack.use(Sh(this.config)),this.middlewareStack.use(fp(this.config))}destroy(){super.destroy()}}function v1(e){return t=>async r=>{const n={...r.input},i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const s of i){const o=n[s.target];if(o){let a;typeof o=="string"?A1(o,e)?a=e.base64Decoder(o):(a=e.utf8Decoder(o),n[s.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[s.target]=e.base64Encoder(a));const u=new e.md5;u.update(a),n[s.hash]=e.base64Encoder(await u.digest())}}return t({...r,input:n})}}const E1={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Ql=e=>({applyToStack:t=>{t.add(v1(e),E1)}});function A1(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}var ne;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(ne||(ne={}));var Ac;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Ac||(Ac={}));const C1=ne.MD5,R1=ne.CRC32,$s=[ne.CRC32,ne.CRC32C,ne.SHA1,ne.SHA256],T1=[ne.CRC32,ne.CRC32C,ne.SHA1,ne.SHA256],O1=(e,{requestChecksumRequired:t,requestAlgorithmMember:r},n)=>{const i=n?R1:C1;if(!r||!e[r])return t?i:void 0;const s=e[r];if(!$s.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${$s}.`);return s},Ui=e=>e===ne.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,P1=(e,t)=>{const r=e.toLowerCase();for(const n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},Li=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!ru(e);var Wn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fs=function(e,t){return Fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Fs(e,t)};function B1(e,t){Fs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ds=function(){return Ds=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ds.apply(this,arguments)};function k1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function I1(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function M1(e,t){return function(r,n){t(r,n,e)}}function N1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function $1(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(d){o(d)}}function u(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function F1(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function D1(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function U1(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Us(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function L1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jl(arguments[t]));return e}function j1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function or(e){return this instanceof or?(this.v=e,this):new or(e)}function H1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{u(n[f](p))}catch(g){d(s[0][3],g)}}function u(f){f.value instanceof or?Promise.resolve(f.value.v).then(c,l):d(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function z1(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:or(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function q1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Us=="function"?Us(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function G1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function W1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function V1(e){return e&&e.__esModule?e:{default:e}}function K1(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function X1(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Z1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ds},__asyncDelegator:z1,__asyncGenerator:H1,__asyncValues:q1,__await:or,__awaiter:$1,__classPrivateFieldGet:K1,__classPrivateFieldSet:X1,__createBinding:D1,__decorate:I1,__exportStar:U1,__extends:B1,__generator:F1,__importDefault:V1,__importStar:W1,__makeTemplateObject:G1,__metadata:N1,__param:M1,__read:Jl,__rest:k1,__spread:L1,__spreadArrays:j1,__values:Us},Symbol.toStringTag,{value:"Module"})),ed=je(Z1);var Lt={},Cc;function Y1(){if(Cc)return Lt;Cc=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.AwsCrc32c=void 0;var e=ed,t=et(),r=td(),n=function(){function i(){this.crc32c=new r.Crc32c}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32c.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32c.digest())]})})},i.prototype.reset=function(){this.crc32c=new r.Crc32c},i}();return Lt.AwsCrc32c=n,Lt}var Rc;function td(){return Rc||(Rc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32c=e.Crc32c=e.crc32c=void 0;var t=ed,r=et();function n(u){return new i().update(u).digest()}e.crc32c=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var l,d;try{for(var f=t.__values(c),p=f.next();!p.done;p=f.next()){var g=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^g)&255]}}catch(m){l={error:m}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(l)throw l.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32c=i;var s=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],o=(0,r.uint32ArrayFrom)(s),a=Y1();Object.defineProperty(e,"AwsCrc32c",{enumerable:!0,get:function(){return a.AwsCrc32c}})}(Wn)),Wn}var Q1=td();const rd=(e,t)=>({[ne.MD5]:t.md5,[ne.CRC32]:ki.AwsCrc32,[ne.CRC32C]:Q1.AwsCrc32c,[ne.SHA1]:t.sha1,[ne.SHA256]:t.sha256})[e],nd=(e,t)=>{const r=new e;return r.update(yt(t||"")),r.digest()},J1={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},eS=(e,t)=>(r,n)=>async i=>{if(!_e.isInstance(i.request))return r(i);const{request:s}=i,{body:o,headers:a}=s,{base64Encoder:u,streamHasher:c}=e,{input:l,requestChecksumRequired:d,requestAlgorithmMember:f}=t,p=O1(l,{requestChecksumRequired:d,requestAlgorithmMember:f},!!n.isS3ExpressBucket);let g=o,m=a;if(p){const E=Ui(p),O=rd(p,e);if(Li(o)){const{getAwsChunkedEncodingStream:$,bodyLengthChecker:q}=e;g=$(o,{base64Encoder:u,bodyLengthChecker:q,checksumLocationName:E,checksumAlgorithmFn:O,streamHasher:c}),m={...a,"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":E},delete m["content-length"]}else if(!P1(E,a)){const $=await nd(O,o);m={...a,[E]:u($)}}}return await r({...i,request:{...s,headers:m,body:g}})},sd=(e=[])=>{const t=[];for(const r of T1)!e.includes(r)||!$s.includes(r)||t.push(r);return t},tS=e=>{const t=e.lastIndexOf("-");if(t!==-1){const r=e.slice(t+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1};function Tc(e){return new Blob([e]).stream()}const rS=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{const i=Li(e)?t(r,e):nd(r,e);return n(await i)},nS=async(e,{config:t,responseAlgorithms:r})=>{const n=sd(r),{body:i,headers:s}=e;for(const o of n){const a=Ui(o),u=s[a];if(u){const c=rd(o,t),{streamHasher:l,base64Encoder:d}=t,f=await rS(i,{streamHasher:l,checksumAlgorithmFn:c,base64Encoder:d});if(f===u)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${u}" in response header "${a}".`)}}},sS={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},iS=(e,t)=>(r,n)=>async i=>{if(!_e.isInstance(i.request))return r(i);const s=i.input,o=await r(i),a=o.response;let u;const{requestValidationModeMember:c,responseAlgorithms:l}=t;if(c&&s[c]==="ENABLED"){const{clientName:d,commandName:f}=n;if(d==="S3Client"&&f==="GetObjectCommand"&&sd(l).every(m=>{const v=Ui(m),E=a.headers[v];return!E||tS(E)}))return o;const g=Li(a.body);g&&(u=await e.streamCollector(a.body),a.body=Tc(u)),await nS(o.response,{config:e,responseAlgorithms:l}),g&&u&&(a.body=Tc(u))}return o},id=(e,t)=>({applyToStack:r=>{r.add(eS(e,t),J1),r.addRelativeTo(iS(e,t),sS)}});class oS extends Fr.classBuilder().ep({...ni,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[ti(n,this.serialize,this.deserialize),ri(n,t.getEndpointParameterInstructions()),Ql(n),Hf(),id(n,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]})]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(gy,yy).ser(Lg).de(zg).build(){}class aS extends Fr.classBuilder().ep({...ni,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,i){return[ti(n,this.serialize,this.deserialize),ri(n,t.getEndpointParameterInstructions()),Mf(),Ql(n),id(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1})]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Dg,Fg).ser(jg).de(qg).build(){}var cS={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{AWS_REGION:uS,AWS_ACCESS_KEY_ID:lS,AWS_SECRET_ACCESS_KEY:dS,BUCKET_NAME:fS}=cS,Oc=new x1({region:uS,credentials:{accessKeyId:lS,secretAccessKey:dS}}),Pc=fS,Bc="data.json";async function kc(e,t){if(t){const a=new aS({Bucket:Pc,Key:Bc,Body:JSON.stringify(t)});await Oc.send(a);return}const r=new oS({Bucket:Pc,Key:Bc});let n;try{n=await Oc.send(r)}catch(a){if(a.constructor.name=="_NoSuchKey")return[];throw a}const s=await n.Body.getReader().read(),o=new TextDecoder("utf-8").decode(s.value);return JSON.parse(o)}class hS{constructor(t,r){this.key=t,this.todos=[],this.onChanges=[r],this.init()}async init(){this.todos=await kc(this.key),this.onChanges.forEach(t=>t())}async inform(){await kc(this.key,this.todos),this.onChanges.forEach(t=>t())}addTodo(t){this.todos=this.todos.concat({id:gd(),title:t,completed:!1}),this.inform()}toggleAll(t){this.todos=this.todos.map(r=>({...r,completed:t})),this.inform()}toggle(t){this.todos=this.todos.map(r=>r!==t?r:{...r,completed:!r.completed}),this.inform()}destroy(t){this.todos=this.todos.filter(r=>r!==t),this.inform()}save(t,r){this.todos=this.todos.map(n=>n!==t?n:{...n,title:r}),this.inform()}clearCompleted(){this.todos=this.todos.filter(t=>!t.completed),this.inform()}}var pS=0;function F(e,t,r,n,i,s){t||(t={});var o,a,u=t;if("ref"in u)for(a in u={},t)a=="ref"?o=t[a]:u[a]=t[a];var c={type:e,props:u,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--pS,__i:-1,__u:0,__source:i,__self:s};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)u[a]===void 0&&(u[a]=o[a]);return z.vnode&&z.vnode(c),c}class yS extends ot{render({nowShowing:t,count:r,completedCount:n,onClearCompleted:i}){return F("footer",{class:"footer",children:[F("span",{class:"todo-count",children:[F("strong",{children:r})," ",md(r,"item")," left"]}),F("ul",{class:"filters",children:[F("li",{children:F("a",{href:"#/",class:t=="all"&&"selected",children:"All"})})," ",F("li",{children:F("a",{href:"#/active",class:t=="active"&&"selected",children:"Active"})})," ",F("li",{children:F("a",{href:"#/completed",class:t=="completed"&&"selected",children:"Completed"})})]}),n>0&&F("button",{class:"clear-completed",onClick:i,children:"Clear completed"})]})}}var od={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(od);var gS=od.exports;const mS=by(gS),_S=27,bS=13;class wS extends ot{constructor(){super(...arguments);oe(this,"handleSubmit",()=>{let{onSave:r,onDestroy:n,todo:i}=this.props,s=this.state.editText.trim();s?(r(i,s),this.setState({editText:s})):n(i)});oe(this,"handleEdit",()=>{let{onEdit:r,todo:n}=this.props;r(n),this.setState({editText:n.title})});oe(this,"toggle",r=>{let{onToggle:n,todo:i}=this.props;n(i),r.preventDefault()});oe(this,"handleTextInput",r=>{this.setState({editText:r.target.value})});oe(this,"handleKeyDown",r=>{if(r.which===_S){let{todo:n}=this.props;this.setState({editText:n.title}),this.props.onCancel(n)}else r.which===bS&&this.handleSubmit()});oe(this,"handleDestroy",()=>{this.props.onDestroy(this.props.todo)})}componentDidUpdate(){let r=this.base&&this.base.querySelector(".edit");r&&r.focus()}render({todo:{title:r,completed:n},onToggle:i,onDestroy:s,editing:o},{editText:a}){return F("li",{class:mS({completed:n,editing:o}),children:[F("div",{class:"view",children:[F("input",{class:"toggle",type:"checkbox",checked:n,onChange:this.toggle}),F("label",{onDblClick:this.handleEdit,children:r}),F("button",{class:"destroy",onClick:this.handleDestroy})]}),o&&F("input",{class:"edit",value:a,onBlur:this.handleSubmit,onInput:this.handleTextInput,onKeyDown:this.handleKeyDown})]})}}const SS=13,Ic={all:e=>!0,active:e=>!e.completed,completed:e=>e.completed};class xS extends ot{constructor(){super();oe(this,"handleNewTodoKeyDown",r=>{if(r.keyCode!==SS)return;r.preventDefault();let n=this.state.newTodo.trim();n&&(this.model.addTodo(n),this.setState({newTodo:""}))});oe(this,"handleNewTodoInput",r=>{this.setState({newTodo:r.target.value})});oe(this,"toggleAll",r=>{let n=r.target.checked;this.model.toggleAll(n)});oe(this,"toggle",r=>{this.model.toggle(r)});oe(this,"destroy",r=>{this.model.destroy(r)});oe(this,"edit",r=>{this.setState({editing:r.id})});oe(this,"save",(r,n)=>{this.model.save(r,n),this.setState({editing:null})});oe(this,"cancel",()=>{this.setState({editing:null})});oe(this,"clearCompleted",()=>{this.model.clearCompleted()});this.model=new hS("preact-todos",()=>this.setState({})),addEventListener("hashchange",this.handleRoute.bind(this)),this.handleRoute()}handleRoute(){let r=String(location.hash||"").split("/").pop();Ic[r]||(r="all"),this.setState({nowShowing:r})}render({},{nowShowing:r=ALL_TODOS,newTodo:n,editing:i}){let{todos:s}=this.model,o=s.filter(Ic[r]),a=s.reduce((c,l)=>c+(l.completed?0:1),0),u=s.length-a;return F("div",{children:[F("header",{class:"header",children:[F("h1",{children:"todos"}),F("input",{class:"new-todo",placeholder:"What needs to be done?",value:n,onKeyDown:this.handleNewTodoKeyDown,onInput:this.handleNewTodoInput,autoFocus:!0})]}),s.length?F("section",{class:"main",children:[F("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",onChange:this.toggleAll,checked:a===0}),F("label",{for:"toggle-all",children:"Mark all as complete"}),F("ul",{class:"todo-list",children:o.map(c=>F(wS,{todo:c,onToggle:this.toggle,onDestroy:this.destroy,onEdit:this.edit,editing:i===c.id,onSave:this.save,onCancel:this.cancel}))})]}):null,a||u?F(yS,{count:a,completedCount:u,nowShowing:r,onClearCompleted:this.clearCompleted}):null]})}}yd(F(xS,{}),document.getElementById("app"));
