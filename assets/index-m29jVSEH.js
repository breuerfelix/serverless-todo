(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Cr,V,_a,rt,ii,Ca,va,Ra,Jn,Tn,Dn,Ht={},ka=[],Ud=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vr=Array.isArray;function ze(e,t){for(var r in t)e[r]=t[r];return e}function es(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function $d(e,t,r){var n,s,i,o={};for(i in t)i=="key"?n=t[i]:i=="ref"?s=t[i]:o[i]=t[i];if(arguments.length>2&&(o.children=arguments.length>3?Cr.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)o[i]===void 0&&(o[i]=e.defaultProps[i]);return ar(e,o,n,s,null)}function ar(e,t,r,n,s){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++_a,__i:-1,__u:0};return s==null&&V.vnode!=null&&V.vnode(i),i}function Rr(e){return e.children}function it(e,t){this.props=e,this.context=t}function xt(e,t){if(t==null)return e.__?xt(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?xt(e):null}function Ta(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Ta(e)}}function oi(e){(!e.__d&&(e.__d=!0)&&rt.push(e)&&!fr.__r++||ii!=V.debounceRendering)&&((ii=V.debounceRendering)||Ca)(fr)}function fr(){for(var e,t,r,n,s,i,o,a=1;rt.length;)rt.length>a&&rt.sort(va),e=rt.shift(),a=rt.length,e.__d&&(r=void 0,n=void 0,s=(n=(t=e).__v).__e,i=[],o=[],t.__P&&((r=ze({},n)).__v=n.__v+1,V.vnode&&V.vnode(r),ts(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[s]:null,i,s??xt(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,Ma(i,r,o),n.__e=n.__=null,r.__e!=s&&Ta(r)));fr.__r=0}function Da(e,t,r,n,s,i,o,a,d,c,h){var l,p,m,E,B,A,v,_=n&&n.__k||ka,j=t.length;for(d=Ld(r,t,_,d,j),l=0;l<j;l++)(m=r.__k[l])!=null&&(p=m.__i==-1?Ht:_[m.__i]||Ht,m.__i=l,A=ts(e,m,p,s,i,o,a,d,c,h),E=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&rs(p.ref,null,m),h.push(m.ref,m.__c||E,m)),B==null&&E!=null&&(B=E),(v=!!(4&m.__u))||p.__k===m.__k?d=Ba(m,d,e,v):typeof m.type=="function"&&A!==void 0?d=A:E&&(d=E.nextSibling),m.__u&=-7);return r.__e=B,d}function Ld(e,t,r,n,s){var i,o,a,d,c,h=r.length,l=h,p=0;for(e.__k=new Array(s),i=0;i<s;i++)(o=t[i])!=null&&typeof o!="boolean"&&typeof o!="function"?(d=i+p,(o=e.__k[i]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?ar(null,o,null,null,null):vr(o)?ar(Rr,{children:o},null,null,null):o.constructor==null&&o.__b>0?ar(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,a=null,(c=o.__i=Hd(o,r,d,l))!=-1&&(l--,(a=r[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(s>h?p--:s<h&&p++),typeof o.type!="function"&&(o.__u|=4)):c!=d&&(c==d-1?p--:c==d+1?p++:(c>d?p--:p++,o.__u|=4))):e.__k[i]=null;if(l)for(i=0;i<h;i++)(a=r[i])!=null&&(2&a.__u)==0&&(a.__e==n&&(n=xt(a)),Pa(a,a));return n}function Ba(e,t,r,n){var s,i;if(typeof e.type=="function"){for(s=e.__k,i=0;s&&i<s.length;i++)s[i]&&(s[i].__=e,t=Ba(s[i],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=xt(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Hd(e,t,r,n){var s,i,o,a=e.key,d=e.type,c=t[r],h=c!=null&&(2&c.__u)==0;if(c===null&&e.key==null||h&&a==c.key&&d==c.type)return r;if(n>(h?1:0)){for(s=r-1,i=r+1;s>=0||i<t.length;)if((c=t[o=s>=0?s--:i++])!=null&&(2&c.__u)==0&&a==c.key&&d==c.type)return o}return-1}function ai(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||Ud.test(t)?r:r+"px"}function er(e,t,r,n,s){var i,o;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||ai(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||ai(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(Ra,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n?r.u=n.u:(r.u=Jn,e.addEventListener(t,i?Dn:Tn,i)):e.removeEventListener(t,i?Dn:Tn,i);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function ci(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=Jn++;else if(t.t<r.u)return;return r(V.event?V.event(t):t)}}}function ts(e,t,r,n,s,i,o,a,d,c){var h,l,p,m,E,B,A,v,_,j,U,te,ce,Yt,Jt,Tt,$r,Ne=t.type;if(t.constructor!=null)return null;128&r.__u&&(d=!!(32&r.__u),i=[a=t.__e=r.__e]),(h=V.__b)&&h(t);e:if(typeof Ne=="function")try{if(v=t.props,_="prototype"in Ne&&Ne.prototype.render,j=(h=Ne.contextType)&&n[h.__c],U=h?j?j.props.value:h.__:n,r.__c?A=(l=t.__c=r.__c).__=l.__E:(_?t.__c=l=new Ne(v,U):(t.__c=l=new it(v,U),l.constructor=Ne,l.render=jd),j&&j.sub(l),l.props=v,l.state||(l.state={}),l.context=U,l.__n=n,p=l.__d=!0,l.__h=[],l._sb=[]),_&&l.__s==null&&(l.__s=l.state),_&&Ne.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=ze({},l.__s)),ze(l.__s,Ne.getDerivedStateFromProps(v,l.__s))),m=l.props,E=l.state,l.__v=t,p)_&&Ne.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),_&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(_&&Ne.getDerivedStateFromProps==null&&v!==m&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(v,U),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(v,l.__s,U)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(l.props=v,l.state=l.__s,l.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(ft){ft&&(ft.__=t)}),te=0;te<l._sb.length;te++)l.__h.push(l._sb[te]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(v,l.__s,U),_&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(m,E,B)})}if(l.context=U,l.props=v,l.__P=e,l.__e=!1,ce=V.__r,Yt=0,_){for(l.state=l.__s,l.__d=!1,ce&&ce(t),h=l.render(l.props,l.state,l.context),Jt=0;Jt<l._sb.length;Jt++)l.__h.push(l._sb[Jt]);l._sb=[]}else do l.__d=!1,ce&&ce(t),h=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++Yt<25);l.state=l.__s,l.getChildContext!=null&&(n=ze(ze({},n),l.getChildContext())),_&&!p&&l.getSnapshotBeforeUpdate!=null&&(B=l.getSnapshotBeforeUpdate(m,E)),Tt=h,h!=null&&h.type===Rr&&h.key==null&&(Tt=Ia(h.props.children)),a=Da(e,vr(Tt)?Tt:[Tt],t,r,n,s,i,o,a,d,c),l.base=t.__e,t.__u&=-161,l.__h.length&&o.push(l),A&&(l.__E=l.__=null)}catch(ft){if(t.__v=null,d||i!=null)if(ft.then){for(t.__u|=d?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,t.__e=a}else{for($r=i.length;$r--;)es(i[$r]);Bn(t)}else t.__e=r.__e,t.__k=r.__k,ft.then||Bn(t);V.__e(ft,t,r)}else i==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):a=t.__e=zd(r.__e,t,r,n,s,i,o,d,c);return(h=V.diffed)&&h(t),128&t.__u?void 0:a}function Bn(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Bn)}function Ma(e,t,r){for(var n=0;n<r.length;n++)rs(r[n],r[++n],r[++n]);V.__c&&V.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(i){i.call(s)})}catch(i){V.__e(i,s.__v)}})}function Ia(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:vr(e)?e.map(Ia):ze({},e)}function zd(e,t,r,n,s,i,o,a,d){var c,h,l,p,m,E,B,A=r.props,v=t.props,_=t.type;if(_=="svg"?s="http://www.w3.org/2000/svg":_=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),i!=null){for(c=0;c<i.length;c++)if((m=i[c])&&"setAttribute"in m==!!_&&(_?m.localName==_:m.nodeType==3)){e=m,i[c]=null;break}}if(e==null){if(_==null)return document.createTextNode(v);e=document.createElementNS(s,_,v.is&&v),a&&(V.__m&&V.__m(t,i),a=!1),i=null}if(_==null)A===v||a&&e.data==v||(e.data=v);else{if(i=i&&Cr.call(e.childNodes),A=r.props||Ht,!a&&i!=null)for(A={},c=0;c<e.attributes.length;c++)A[(m=e.attributes[c]).name]=m.value;for(c in A)if(m=A[c],c!="children"){if(c=="dangerouslySetInnerHTML")l=m;else if(!(c in v)){if(c=="value"&&"defaultValue"in v||c=="checked"&&"defaultChecked"in v)continue;er(e,c,null,m,s)}}for(c in v)m=v[c],c=="children"?p=m:c=="dangerouslySetInnerHTML"?h=m:c=="value"?E=m:c=="checked"?B=m:a&&typeof m!="function"||A[c]===m||er(e,c,m,A[c],s);if(h)a||l&&(h.__html==l.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(l&&(e.innerHTML=""),Da(t.type=="template"?e.content:e,vr(p)?p:[p],t,r,n,_=="foreignObject"?"http://www.w3.org/1999/xhtml":s,i,o,i?i[0]:r.__k&&xt(r,0),a,d),i!=null)for(c=i.length;c--;)es(i[c]);a||(c="value",_=="progress"&&E==null?e.removeAttribute("value"):E!=null&&(E!==e[c]||_=="progress"&&!E||_=="option"&&E!=A[c])&&er(e,c,E,A[c],s),c="checked",B!=null&&B!=e[c]&&er(e,c,B,A[c],s))}return e}function rs(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(s){V.__e(s,r)}}function Pa(e,t,r){var n,s;if(V.unmount&&V.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||rs(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){V.__e(i,t)}n.base=n.__P=null}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&Pa(n[s],t,r||typeof e.type!="function");r||es(e.__e),e.__c=e.__=e.__e=void 0}function jd(e,t,r){return this.constructor(e,r)}function qd(e,t,r){var n,s,i,o;t==document&&(t=document.documentElement),V.__&&V.__(e,t),s=(n=!1)?null:t.__k,i=[],o=[],ts(t,e=t.__k=$d(Rr,null,[e]),s||Ht,Ht,t.namespaceURI,s?null:t.firstChild?Cr.call(t.childNodes):null,i,s?s.__e:t.firstChild,n,o),Ma(i,e,o)}Cr=ka.slice,V={__e:function(e,t,r,n){for(var s,i,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(e)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,n||{}),o=s.__d),o)return s.__E=s}catch(a){e=a}throw e}},_a=0,it.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ze({},this.state),typeof e=="function"&&(e=e(ze({},r),this.props)),e&&ze(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),oi(this))},it.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),oi(this))},it.prototype.render=Rr,rt=[],Ca=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,va=function(e,t){return e.__v.__b-t.__v.__b},fr.__r=0,Ra=/(PointerCapture)$|Capture$/i,Jn=0,Tn=ci(!1),Dn=ci(!0);var Wd=0;function z(e,t,r,n,s,i){t||(t={});var o,a,d=t;if("ref"in d)for(a in d={},t)a=="ref"?o=t[a]:d[a]=t[a];var c={type:e,props:d,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Wd,__i:-1,__u:0,__source:s,__self:i};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)d[a]===void 0&&(d[a]=o[a]);return V.vnode&&V.vnode(c),c}function Kd(){let e="";for(let t=0;t<32;t++){const r=Math.random()*16|0;(t===8||t===12||t===16||t===20)&&(e+="-"),e+=(t===12?4:t===16?r&3|8:r).toString(16)}return e}function Gd(e,t){return e===1?t:`${t}s`}const Vd=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Zd=e=>({httpHandler:e.httpHandler()});var zt;(function(e){e.HTTP="http",e.HTTPS="https"})(zt||(zt={}));var hr;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(hr||(hr={}));const Mn="__smithy_context";class ae{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const r=new ae({...t,headers:{...t.headers}});return r.query&&(r.query=Xd(r.query)),r}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return ae.clone(this)}}function Xd(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class ct{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function Qd(e){return t=>async r=>{const{request:n}=r;return ae.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}const Yd={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Jd=e=>({applyToStack:t=>{t.add(Qd(e),Yd)}}),Et={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},eu=Et.WHEN_SUPPORTED,Lr={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},tu=Et.WHEN_SUPPORTED;var K;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(K||(K={}));var di;(function(e){e.HEADER="header",e.TRAILER="trailer"})(di||(di={}));const In=K.CRC32;function ru(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}function se(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}const ui=e=>ct.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,ns=e=>new Date(Date.now()+e),nu=(e,t)=>Math.abs(ns(t).getTime()-e)>=3e5,li=(e,t)=>{const r=Date.parse(e);return nu(r,t)?r-Date.now():t},Mt=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Fa=async e=>{const t=Mt("context",e.context),r=Mt("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await Mt("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,d=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:d}};class Oa{async sign(t,r,n){if(!ae.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await Fa(n),{config:i,signer:o}=s;let{signingRegion:a,signingName:d}=s;const c=n.context;if(c?.authSchemes?.length??!1){const[l,p]=c.authSchemes;l?.name==="sigv4a"&&p?.name==="sigv4"&&(a=p?.signingRegion??a,d=p?.signingName??d)}return await o.sign(t,{signingDate:ns(i.systemClockOffset),signingRegion:a,signingService:d})}errorHandler(t){return r=>{const n=r.ServerTime??ui(r.$response);if(n){const s=Mt("config",t.config),i=s.systemClockOffset;s.systemClockOffset=li(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){const n=ui(t);if(n){const s=Mt("config",r.config);s.systemClockOffset=li(n,s.systemClockOffset)}}}class su extends Oa{async sign(t,r,n){if(!ae.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:d}=await Fa(n),h=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:ns(s.systemClockOffset),signingRegion:h,signingService:d})}}const Rt=e=>e[Mn]||(e[Mn]={}),Oe=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},iu=(e,t)=>{if(!t||t.length===0)return e;const r=[];for(const n of t)for(const s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(const n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r};function ou(e){const t=new Map;for(const r of e)t.set(r.schemeId,r);return t}const au=(e,t)=>(r,n)=>async s=>{const i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=iu(i,o),d=ou(e.httpAuthSchemes),c=Rt(n),h=[];for(const l of a){const p=d.get(l.schemeId);if(!p){h.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}const m=p.identityProvider(await t.identityProviderConfigProvider(e));if(!m){h.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:E={},signingProperties:B={}}=l.propertiesExtractor?.(e,n)||{};l.identityProperties=Object.assign(l.identityProperties||{},E),l.signingProperties=Object.assign(l.signingProperties||{},B),c.selectedHttpAuthScheme={httpAuthOption:l,identity:await m(l.identityProperties),signer:p.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(h.join(`
`));return r(s)},cu={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},du=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(au(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),cu)}}),uu=(e,t)=>(r,n)=>async s=>{const{response:i}=await r(s);try{const o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(ct.isInstance(i)){const{headers:d={}}=i,c=Object.entries(d);o.$metadata={httpStatusCode:i.statusCode,requestId:Hr(/^x-[\w-]+-request-?id$/,c),extendedRequestId:Hr(/^x-[\w-]+-id-2$/,c),cfId:Hr(/^x-[\w-]+-cf-id$/,c)}}}catch{}}throw o}},Hr=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],lu=(e,t)=>(r,n)=>async s=>{const i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},fu={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Na={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ss(e,t,r){return{applyToStack:n=>{n.add(uu(e,r),fu),n.add(lu(e,t),Na)}}}const hu=e=>t=>{throw t},pu=(e,t)=>{},mu=e=>(t,r)=>async n=>{if(!ae.isInstance(n.request))return t(n);const i=Rt(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:d}=i,c=await t({...n,request:await d.sign(n.request,a,o)}).catch((d.errorHandler||hu)(o));return(d.successHandler||pu)(c.response,o),c},Ua={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},gu=e=>({applyToStack:t=>{t.addRelativeTo(mu(),Ua)}}),wt=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},Xe={},kt=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){const n=String.fromCharCode(e+t);Xe[n]=e,kt[e]=n}for(let e=0,t=97,r=122;e+t<=r;e++){const n=String.fromCharCode(e+t),s=e+26;Xe[n]=s,kt[s]=n}for(let e=0;e<10;e++){Xe[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;Xe[t]=r,kt[r]=t}Xe["+"]=62;kt[62]="+";Xe["/"]=63;kt[63]="/";const St=6,It=8,yu=63,is=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let s=0;s<e.length;s+=4){let i=0,o=0;for(let c=s,h=s+3;c<=h;c++)if(e[c]!=="="){if(!(e[c]in Xe))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);i|=Xe[e[c]]<<(h-c)*St,o+=St}else i>>=St;const a=s/4*3;i>>=o%It;const d=Math.floor(o/It);for(let c=0;c<d;c++){const h=(d-c-1)*It;n.setUint8(a+c,(i&255<<h)>>h)}}return new Uint8Array(r)},dt=e=>new TextEncoder().encode(e),At=e=>typeof e=="string"?dt(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),kr=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function Tr(e){let t;typeof e=="string"?t=dt(e):t=e;const r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let i=0;i<t.length;i+=3){let o=0,a=0;for(let c=i,h=Math.min(i+3,t.length);c<h;c++)o|=t[c]<<(h-c-1)*It,a+=It;const d=Math.ceil(a/St);o<<=d*St-a;for(let c=1;c<=d;c++){const h=(d-c)*St;s+=kt[(o&yu<<h)>>h]}s+="==".slice(0,4-d)}return s}function bu(e,t="utf-8"){return t==="base64"?Tr(e):kr(e)}function wu(e,t){return t==="base64"?ot.mutate(is(e)):ot.mutate(dt(e))}class ot extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return wu(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,ot.prototype),t}transformToString(t="utf-8"){return bu(this,t)}}const Su=typeof ReadableStream=="function"?ReadableStream:function(){};class xu extends Su{}const Pn=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),Eu=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!Pn(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);const i=s??Tr;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const o=new TransformStream({start(){},async transform(d,c){t.update(d),c.enqueue(d)},async flush(d){const c=await t.digest(),h=i(c);if(e!==h){const l=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);d.error(l)}else d.terminate()}});r.pipeThrough(o);const a=o.readable;return Object.setPrototypeOf(a,xu.prototype),a};class Au{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){const n=this.byteArrays[0];return this.reset(),n}const t=this.allocByteArray(this.byteLength);let r=0;for(let n=0;n<this.byteArrays.length;++n){const s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}}function _u(e,t,r){const n=e.getReader();let s=!1,i=0;const o=["",new Au(c=>new Uint8Array(c))];let a=-1;const d=async c=>{const{value:h,done:l}=await n.read(),p=h;if(l){if(a!==-1){const m=zr(o,a);Pt(m)>0&&c.enqueue(m)}c.close()}else{const m=Ru(p,!1);if(a!==m&&(a>=0&&c.enqueue(zr(o,a)),a=m),a===-1){c.enqueue(p);return}const E=Pt(p);i+=E;const B=Pt(o[a]);if(E>=t&&B===0)c.enqueue(p);else{const A=vu(o,a,p);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${E} is below threshold of ${t}, automatically buffering.`)),A>=t?c.enqueue(zr(o,a)):await d(c)}}};return new ReadableStream({pull:d})}const Cu=_u;function vu(e,t,r){switch(t){case 0:return e[0]+=r,Pt(e[0]);case 1:case 2:return e[t].push(r),Pt(e[t])}}function zr(e,t){switch(t){case 0:const r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Pt(e){return e?.byteLength??e?.length??0}function Ru(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}const ku=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,d=a?o(s,e):void 0,c=e.getReader();return new ReadableStream({async pull(h){const{value:l,done:p}=await c.read();if(p){if(h.enqueue(`0\r
`),a){const m=r(await d);h.enqueue(`${i}:${m}\r
`),h.enqueue(`\r
`)}h.close()}else h.enqueue(`${(n(l)||0).toString(16)}\r
${l}\r
`)}})};async function Tu(e,t){let r=0;const n=[],s=e.getReader();let i=!1;for(;!i;){const{done:d,value:c}=await s.read();if(c&&(n.push(c),r+=c?.byteLength??0),r>=t)break;i=d}s.releaseLock();const o=new Uint8Array(Math.min(t,r));let a=0;for(const d of n){if(d.byteLength>o.byteLength-a){o.set(d.subarray(0,o.byteLength-a),a);break}else o.set(d,a);a+=d.length}return o}const at=e=>encodeURIComponent(e).replace(/[!'()*]/g,Du),Du=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Bu(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=at(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${at(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${at(n)}`),t.push(s)}}return t.join("&")}function fi(e,t){return new Request(e,t)}function Mu(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const jr={supported:void 0};class os{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new os(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),jr.supported===void 0&&(jr.supported=typeof Request<"u"&&"keepalive"in fi("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);const s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){const _=new Error("Request aborted");return _.name="AbortError",Promise.reject(_)}let a=t.path;const d=Bu(t.query||{});d&&(a+=`?${d}`),t.fragment&&(a+=`#${t.fragment}`);let c="";if(t.username!=null||t.password!=null){const _=t.username??"",j=t.password??"";c=`${_}:${j}@`}const{port:h,method:l}=t,p=`${t.protocol}//${c}${t.hostname}${h?`:${h}`:""}${a}`,m=l==="GET"||l==="HEAD"?void 0:t.body,E={body:m,headers:new Headers(t.headers),method:l,credentials:o};this.config?.cache&&(E.cache=this.config.cache),m&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=r),jr.supported&&(E.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(t));let B=()=>{};const A=fi(p,E),v=[fetch(A).then(_=>{const j=_.headers,U={};for(const ce of j.entries())U[ce[0]]=ce[1];return _.body!=null?{response:new ct({headers:U,reason:_.statusText,statusCode:_.status,body:_.body})}:_.blob().then(ce=>({response:new ct({headers:U,reason:_.statusText,statusCode:_.status,body:ce})}))}),Mu(s)];return r&&v.push(new Promise((_,j)=>{const U=()=>{const te=new Error("Request aborted");te.name="AbortError",j(te)};if(typeof r.addEventListener=="function"){const te=r;te.addEventListener("abort",U,{once:!0}),B=()=>te.removeEventListener("abort",U)}else r.onabort=U})),Promise.race(v).finally(B)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const $a=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Iu(e):Pu(e);async function Iu(e){const t=await Fu(e),r=is(t);return new Uint8Array(r)}async function Pu(e){const t=[],r=e.getReader();let n=!1,s=0;for(;!n;){const{done:a,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=a}const i=new Uint8Array(s);let o=0;for(const a of t)i.set(a,o),o+=a.length;return i}function Fu(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const La={},Fn={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),La[e]=t,Fn[t]=e}function Ha(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in Fn)t[r/2]=Fn[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function Re(e){let t="";for(let r=0;r<e.byteLength;r++)t+=La[e[r]];return t}const hi="The stream has already been transformed.",Ou=e=>{if(!pi(e)&&!Pn(e)){const s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1;const r=async()=>{if(t)throw new Error(hi);return t=!0,await $a(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{const i=await r();if(s==="base64")return Tr(i);if(s==="hex")return Re(i);if(s===void 0||s==="utf8"||s==="utf-8")return kr(i);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(hi);if(t=!0,pi(e))return n(e);if(Pn(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},pi=e=>typeof Blob=="function"&&e instanceof Blob;async function Nu(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}const za=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return ot.mutate(e);if(!e)return ot.mutate(new Uint8Array);const r=t.streamCollector(e);return ot.mutate(await r)};function mi(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const tr=e=>typeof e=="function"?e():e;class yt{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return yt.registries.has(t)||yt.registries.set(t,new yt(t)),yt.registries.get(t)}register(t,r){const n=this.normalizeShapeId(t);this.schemas.set(n,r)}getSchema(t){const r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){this.exceptions.set(t,r)}getErrorCtor(t){return this.exceptions.get(t)}getBaseException(){for(const[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}}class _t{name;namespace;traits;static assign(t,r){const n=Object.assign(t,r);return yt.for(n.namespace).register(n.name,n),n}static[Symbol.hasInstance](t){const r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}class as extends _t{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=as.symbol}class cs extends _t{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=cs.symbol}class ds extends _t{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=ds.symbol}const re={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128};class us extends _t{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=us.symbol}class ve{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=ve.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;const n=[];let s=t,i=t;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],i=tr(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){const a=n[o];Object.assign(this.memberTraits,ve.translateTraits(a))}}else this.memberTraits=0;if(i instanceof ve){const o=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},o,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=tr(i),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof _t?this.schema.getName?.():void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){return _t[Symbol.hasInstance].bind(this)(t)}static of(t){if(t instanceof ve)return t;if(Array.isArray(t)){const[r,n]=t;if(r instanceof ve)return Object.assign(r.getMergedTraits(),ve.translateTraits(n)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new ve(t)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;const r={};let n=0;for(const s of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>n++&1)===1&&(r[s]=1);return r}getSchema(){return this.schema instanceof ve?(Object.assign(this,{schema:this.schema.getSchema()}),this.schema):this.schema instanceof us?tr(this.schema.schemaRef):tr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){const t=this.getSchema();return typeof t=="number"?t>=re.LIST_MODIFIER&&t<re.MAP_MODIFIER:t instanceof as}isMapSchema(){const t=this.getSchema();return typeof t=="number"?t>=re.MAP_MODIFIER&&t<=255:t instanceof cs}isStructSchema(){const t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof ds}isBlobSchema(){return this.getSchema()===re.BLOB||this.getSchema()===re.STREAMING_BLOB}isTimestampSchema(){const t=this.getSchema();return typeof t=="number"&&t>=re.TIMESTAMP_DEFAULT&&t<=re.TIMESTAMP_EPOCH_SECONDS}isDocumentSchema(){return this.getSchema()===re.DOCUMENT}isStringSchema(){return this.getSchema()===re.STRING}isBooleanSchema(){return this.getSchema()===re.BOOLEAN}isNumericSchema(){return this.getSchema()===re.NUMERIC}isBigIntegerSchema(){return this.getSchema()===re.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===re.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===re.STREAMING_BLOB}isIdempotencyToken(){if(this.normalizedTraits)return!!this.normalizedTraits.idempotencyToken;for(const t of[this.traits,this.memberTraits])if(typeof t=="number"){if((t&4)===4)return!0}else if(typeof t=="object"&&t.idempotencyToken)return!0;return!1}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return ve.translateTraits(this.memberTraits)}getOwnTraits(){return ve.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return this.memberFrom([re.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);const t=this.getSchema();return typeof t=="number"?this.memberFrom([63&t,0],"key"):this.memberFrom([t.keySchema,0],"key")}getValueSchema(){const t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return this.memberFrom([63&t,0],"value");if(this.isListSchema())return this.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`may not getValueSchema() on structure ${this.getName(!0)}`);const r=t;if("valueSchema"in r){if(this.isMapSchema())return this.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return this.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return this.memberFrom([re.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}hasMemberSchema(t){return this.isStructSchema()?this.getSchema().memberNames.includes(t):!1}getMemberSchema(t){if(this.isStructSchema()){const r=this.getSchema();if(!r.memberNames.includes(t))throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no member=${t}.`);const n=r.memberNames.indexOf(t),s=r.memberList[n];return this.memberFrom(Array.isArray(s)?s:[s,0],t)}if(this.isDocumentSchema())return this.memberFrom([re.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no members.`)}getMemberSchemas(){const t={};try{for(const[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(const[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");const t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],this.memberFrom([t.memberList[r],0],t.memberNames[r])]}memberFrom(t,r){return t instanceof ve?Object.assign(t,{memberName:r,_isMemberSchema:!0}):new ve(t,r)}getSchemaName(){const t=this.getSchema();if(typeof t=="number"){const r=63&t,n=192&t,s=Object.entries(re).find(([,i])=>i===r)?.[0]??"Unknown";switch(n){case re.MAP_MODIFIER:return`${s}Map`;case re.LIST_MODIFIER:return`${s}List`;case 0:return s}}return"Unknown"}}const pr=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Uu=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Wa.warn(qa(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},$u=Math.ceil(2**127*(2-2**-23)),gi=e=>{const t=Uu(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>$u)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},On=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},yi=e=>ls(e,32),bi=e=>ls(e,16),wi=e=>ls(e,8),ls=(e,t)=>{const r=On(e);if(r!==void 0&&Lu(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Lu=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Ft=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Hu=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Ot=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Wa.warn(qa(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},zu=e=>gi(typeof e=="string"?Gt(e):e),ju=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Gt=e=>{const t=e.match(ju);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},ja=e=>On(typeof e=="string"?Gt(e):e),qr=e=>yi(typeof e=="string"?Gt(e):e),mr=e=>bi(typeof e=="string"?Gt(e):e),qu=e=>wi(typeof e=="string"?Gt(e):e),qa=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Wa={warn:console.warn},Wu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function cr(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),d=s<10?`0${s}`:`${s}`,c=i<10?`0${i}`:`${i}`,h=o<10?`0${o}`:`${o}`,l=a<10?`0${a}`:`${a}`;return`${Wu[n]}, ${d} ${fs[r]} ${t} ${c}:${h}:${l} GMT`}const Ku=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ka=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=Ku.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,s,i,o,a,d,c,h]=t,l=mr(jt(n)),p=Ve(s,"month",1,12),m=Ve(i,"day",1,31),E=dr(l,p,m,{hours:o,minutes:a,seconds:d,fractionalMilliseconds:c});return h.toUpperCase()!="Z"&&E.setTime(E.getTime()-nl(h)),E},Gu=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Vu=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Zu=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Nn=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Gu.exec(e);if(t){const[r,n,s,i,o,a,d,c]=t;return dr(mr(jt(i)),Wr(s),Ve(n,"day",1,31),{hours:o,minutes:a,seconds:d,fractionalMilliseconds:c})}if(t=Vu.exec(e),t){const[r,n,s,i,o,a,d,c]=t;return Yu(dr(Xu(i),Wr(s),Ve(n,"day",1,31),{hours:o,minutes:a,seconds:d,fractionalMilliseconds:c}))}if(t=Zu.exec(e),t){const[r,n,s,i,o,a,d,c]=t;return dr(mr(jt(c)),Wr(n),Ve(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")},dr=(e,t,r,n)=>{const s=t-1;return el(e,s,r),new Date(Date.UTC(e,s,r,Ve(n.hours,"hour",0,23),Ve(n.minutes,"minute",0,59),Ve(n.seconds,"seconds",0,60),rl(n.fractionalMilliseconds)))},Xu=e=>{const t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+mr(jt(e));return r<t?r+100:r},Qu=50*365*24*60*60*1e3,Yu=e=>e.getTime()-new Date().getTime()>Qu?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Wr=e=>{const t=fs.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},Ju=[31,28,31,30,31,30,31,31,30,31,30,31],el=(e,t,r)=>{let n=Ju[t];if(t===1&&tl(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${fs[t]} in ${e}: ${r}`)},tl=e=>e%4===0&&(e%100!==0||e%400===0),Ve=(e,t,r,n)=>{const s=qu(jt(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},rl=e=>e==null?0:zu("0."+e)*1e3,nl=e=>{const t=e[0];let r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},jt=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},Si=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ge=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),sl=()=>{if(Si)return Si();const e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,ge[e[0]]+ge[e[1]]+ge[e[2]]+ge[e[3]]+"-"+ge[e[4]]+ge[e[5]]+"-"+ge[e[6]]+ge[e[7]]+"-"+ge[e[8]]+ge[e[9]]+"-"+ge[e[10]]+ge[e[11]]+ge[e[12]]+ge[e[13]]+ge[e[14]]+ge[e[15]]},il=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>mi(a)).join("/"):mi(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};function hs(e,t){return new ol(e,t)}class ol{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){const{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(const i of this.resolvePathStack)i(this.path);return new ae({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=il(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}function al(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}class cl{authSchemes=new Map;constructor(t){for(const[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}const dl=e=>function(r){return Ga(r)&&r.expiration.getTime()-Date.now()<e},ul=3e5,ll=dl(ul),Ga=e=>e.expiration!==void 0,fl=(e,t,r)=>{if(e===void 0)return;const n=typeof e!="function"?async()=>Promise.resolve(e):e;let s,i,o,a=!1;const d=async c=>{i||(i=n(c));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async c=>((!o||c?.forceRefresh)&&(s=await d(c)),s):async c=>((!o||c?.forceRefresh)&&(s=await d(c)),a?s:r(s)?(t(s)&&await d(c),s):(a=!0,s))},hl=(e,t,r)=>{let n,s,i,o=!1;const a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return async d=>((!i||d?.forceRefresh)&&(n=await a()),n)},pl=e=>(e.sigv4aSigningRegionSet=wt(e.sigv4aSigningRegionSet),e),ml="X-Amz-Algorithm",gl="X-Amz-Credential",Va="X-Amz-Date",yl="X-Amz-SignedHeaders",bl="X-Amz-Expires",Za="X-Amz-Signature",Xa="X-Amz-Security-Token",Qa="authorization",Ya=Va.toLowerCase(),wl="date",Sl=[Qa,Ya,wl],xl=Za.toLowerCase(),Un="x-amz-content-sha256",El=Xa.toLowerCase(),Al={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},_l=/^proxy-/,Cl=/^sec-/,Kr="AWS4-HMAC-SHA256",vl="AWS4-HMAC-SHA256-PAYLOAD",Rl="UNSIGNED-PAYLOAD",kl=50,Ja="aws4_request",Tl=60*60*24*7,rr={},Gr=[],Vr=(e,t,r)=>`${e}/${t}/${r}/${Ja}`,Dl=async(e,t,r,n,s)=>{const i=await xi(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${Re(i)}:${t.sessionToken}`;if(o in rr)return rr[o];for(Gr.push(o);Gr.length>kl;)delete rr[Gr.shift()];let a=`AWS4${t.secretAccessKey}`;for(const d of[r,n,s,Ja])a=await xi(e,a,d);return rr[o]=a},xi=(e,t,r)=>{const n=new e(t);return n.update(At(r)),n.digest()},Ei=({headers:e},t,r)=>{const n={};for(const s of Object.keys(e).sort()){if(e[s]==null)continue;const i=s.toLowerCase();(i in Al||t?.has(i)||_l.test(i)||Cl.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},ec=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Zr=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===Un)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||ec(t)){const n=new r;return n.update(At(t)),Re(await n.digest())}return Rl};class Bl{format(t){const r=[];for(const i of Object.keys(t)){const o=dt(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":const a=dt(t.value),d=new DataView(new ArrayBuffer(3+a.byteLength));d.setUint8(0,7),d.setUint16(1,a.byteLength,!1);const c=new Uint8Array(d.buffer);return c.set(a,3),c;case"timestamp":const h=new Uint8Array(9);return h[0]=8,h.set(Il.fromNumber(t.value.valueOf()).bytes,1),h;case"uuid":if(!Ml.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const l=new Uint8Array(17);return l[0]=9,l.set(Ha(t.value.replace(/\-/g,"")),1),l}}}var Ai;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Ai||(Ai={}));const Ml=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Il=class tc{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&_i(r),new tc(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&_i(t),parseInt(Re(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function _i(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}const Pl=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},Fl=(e,t={})=>{const{headers:r,query:n={}}=ae.clone(e);for(const s of Object.keys(r)){const i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},Ci=e=>{e=ae.clone(e);for(const t of Object.keys(e.headers))Sl.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},Ol=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e)){if(n.toLowerCase()===xl)continue;const s=at(n);t.push(s);const i=e[n];typeof i=="string"?r[s]=`${s}=${at(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${at(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},Nl=e=>Ul(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Ul=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class $l{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Oe(n),this.credentialProvider=Oe(r)}createCanonicalRequest(t,r,n){const s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Ol(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){const i=new this.sha256;i.update(At(n));const o=await i.digest();return`${s}
${t}
${r}
${Re(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));const n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return at(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){const r=Nl(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}}class $n extends $l{headerFormatter=new Bl;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o})}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:d,signingRegion:c,signingService:h}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const p=c??await this.regionProvider(),{longDate:m,shortDate:E}=this.formatDate(n);if(s>Tl)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const B=Vr(E,p,h??this.service),A=Fl(Ci(t),{unhoistableHeaders:o,hoistableHeaders:d});l.sessionToken&&(A.query[Xa]=l.sessionToken),A.query[ml]=Kr,A.query[gl]=`${l.accessKeyId}/${B}`,A.query[Va]=m,A.query[bl]=s.toString(10);const v=Ei(A,i,a);return A.query[yl]=this.getCanonicalHeaderList(v),A.query[Za]=await this.getSignature(m,B,this.getSigningKey(l,p,E,h),this.createCanonicalRequest(A,v,await Zr(t,this.sha256))),A}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:d,longDate:c}=this.formatDate(n),h=Vr(d,a,o??this.service),l=await Zr({headers:{},body:r},this.sha256),p=new this.sha256;p.update(t);const m=Re(await p.digest()),E=[vl,c,h,s,m,l].join(`
`);return this.signString(E,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),d=new this.sha256(await this.getSigningKey(i,o,a,s));return d.update(At(t)),Re(await d.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const d=i??await this.regionProvider(),c=Ci(t),{longDate:h,shortDate:l}=this.formatDate(r),p=Vr(l,d,o??this.service);c.headers[Ya]=h,a.sessionToken&&(c.headers[El]=a.sessionToken);const m=await Zr(c,this.sha256);!Pl(Un,c.headers)&&this.applyChecksum&&(c.headers[Un]=m);const E=Ei(c,s,n),B=await this.getSignature(h,p,this.getSigningKey(a,d,l,o),this.createCanonicalRequest(c,E,m));return c.headers[Qa]=`${Kr} Credential=${a.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${B}`,c}async getSignature(t,r,n,s){const i=await this.createStringToSign(t,r,s,Kr),o=new this.sha256(await n);return o.update(At(i)),Re(await o.digest())}getSigningKey(t,r,n,s){return Dl(this.sha256,t,n,r,s||this.service)}}const Ll=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(c){c&&c!==t&&c!==n&&(r=!0),t=c;const h=Hl(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),l=zl(e,h);r&&!l.attributed?(n=async p=>l(p).then(m=>ru(m,"CREDENTIALS_CODE","e")),n.memoized=l.memoized,n.configBound=l.configBound,n.attributed=!0):n=l},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;const{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e;let a;return e.signer?a=wt(e.signer):e.regionInfoProvider?a=()=>wt(e.region)().then(async c=>[await e.regionInfoProvider(c,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},c]).then(([c,h])=>{const{signingRegion:l,signingService:p}=c;e.signingRegion=e.signingRegion||l||h,e.signingName=e.signingName||p||e.serviceId;const m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},E=e.signerConstructor||$n;return new E(m)}):a=async c=>{c=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await wt(e.region)(),properties:{}},c);const h=c.signingRegion,l=c.signingName;e.signingRegion=e.signingRegion||h,e.signingName=e.signingName||l||e.serviceId;const p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},m=e.signerConstructor||$n;return new m(p)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})};function Hl(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=fl(t,ll,Ga):r?n=wt(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function zl(e,t){if(t.configBound)return t;const r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}const vi=typeof TextEncoder=="function"?new TextEncoder:null,jl=e=>{if(typeof e=="string"){if(vi)return vi.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},et=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},je=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,gr=()=>{let e=[],t=[],r=!1;const n=new Set,s=l=>l.sort((p,m)=>Ri[m.step]-Ri[p.step]||ki[m.priority||"normal"]-ki[p.priority||"normal"]),i=l=>{let p=!1;const m=E=>{const B=et(E.name,E.aliases);if(B.includes(l)){p=!0;for(const A of B)n.delete(A);return!1}return!0};return e=e.filter(m),t=t.filter(m),p},o=l=>{let p=!1;const m=E=>{if(E.middleware===l){p=!0;for(const B of et(E.name,E.aliases))n.delete(B);return!1}return!0};return e=e.filter(m),t=t.filter(m),p},a=l=>(e.forEach(p=>{l.add(p.middleware,{...p})}),t.forEach(p=>{l.addRelativeTo(p.middleware,{...p})}),l.identifyOnResolve?.(h.identifyOnResolve()),l),d=l=>{const p=[];return l.before.forEach(m=>{m.before.length===0&&m.after.length===0?p.push(m):p.push(...d(m))}),p.push(l),l.after.reverse().forEach(m=>{m.before.length===0&&m.after.length===0?p.push(m):p.push(...d(m))}),p},c=(l=!1)=>{const p=[],m=[],E={};return e.forEach(A=>{const v={...A,before:[],after:[]};for(const _ of et(v.name,v.aliases))E[_]=v;p.push(v)}),t.forEach(A=>{const v={...A,before:[],after:[]};for(const _ of et(v.name,v.aliases))E[_]=v;m.push(v)}),m.forEach(A=>{if(A.toMiddleware){const v=E[A.toMiddleware];if(v===void 0){if(l)return;throw new Error(`${A.toMiddleware} is not found when adding ${je(A.name,A.aliases)} middleware ${A.relation} ${A.toMiddleware}`)}A.relation==="after"&&v.after.push(A),A.relation==="before"&&v.before.push(A)}}),s(p).map(d).reduce((A,v)=>(A.push(...v),A),[])},h={add:(l,p={})=>{const{name:m,override:E,aliases:B}=p,A={step:"initialize",priority:"normal",middleware:l,...p},v=et(m,B);if(v.length>0){if(v.some(_=>n.has(_))){if(!E)throw new Error(`Duplicate middleware name '${je(m,B)}'`);for(const _ of v){const j=e.findIndex(te=>te.name===_||te.aliases?.some(ce=>ce===_));if(j===-1)continue;const U=e[j];if(U.step!==A.step||A.priority!==U.priority)throw new Error(`"${je(U.name,U.aliases)}" middleware with ${U.priority} priority in ${U.step} step cannot be overridden by "${je(m,B)}" middleware with ${A.priority} priority in ${A.step} step.`);e.splice(j,1)}}for(const _ of v)n.add(_)}e.push(A)},addRelativeTo:(l,p)=>{const{name:m,override:E,aliases:B}=p,A={middleware:l,...p},v=et(m,B);if(v.length>0){if(v.some(_=>n.has(_))){if(!E)throw new Error(`Duplicate middleware name '${je(m,B)}'`);for(const _ of v){const j=t.findIndex(te=>te.name===_||te.aliases?.some(ce=>ce===_));if(j===-1)continue;const U=t[j];if(U.toMiddleware!==A.toMiddleware||U.relation!==A.relation)throw new Error(`"${je(U.name,U.aliases)}" middleware ${U.relation} "${U.toMiddleware}" middleware cannot be overridden by "${je(m,B)}" middleware ${A.relation} "${A.toMiddleware}" middleware.`);t.splice(j,1)}}for(const _ of v)n.add(_)}t.push(A)},clone:()=>a(gr()),use:l=>{l.applyToStack(h)},remove:l=>typeof l=="string"?i(l):o(l),removeByTag:l=>{let p=!1;const m=E=>{const{tags:B,name:A,aliases:v}=E;if(B&&B.includes(l)){const _=et(A,v);for(const j of _)n.delete(j);return p=!0,!1}return!0};return e=e.filter(m),t=t.filter(m),p},concat:l=>{const p=a(gr());return p.use(l),p.identifyOnResolve(r||p.identifyOnResolve()||(l.identifyOnResolve?.()??!1)),p},applyToStack:a,identify:()=>c(!0).map(l=>{const p=l.step??l.relation+" "+l.toMiddleware;return je(l.name,l.aliases)+" - "+p}),identifyOnResolve(l){return typeof l=="boolean"&&(r=l),r},resolve:(l,p)=>{for(const m of c().map(E=>E.middleware).reverse())l=m(l,p);return r&&console.log(h.identify()),l}};return h},Ri={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ki={high:3,normal:2,low:1};class ql{config;middlewareStack=gr();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){const s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=s===void 0&&this.config.cacheMiddleware===!0;let a;if(o){this.handlers||(this.handlers=new WeakMap);const d=this.handlers;d.has(t.constructor)?a=d.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),d.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(t).then(d=>i(null,d.output),d=>i(d)).catch(()=>{});else return a(t).then(d=>d.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}const Xr="***SensitiveInformation***";function Ln(e,t){if(t==null)return t;const r=ve.of(e);if(r.getMergedTraits().sensitive)return Xr;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Xr}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Xr}else if(r.isStructSchema()&&typeof t=="object"){const n=t,s={};for(const[i,o]of r.structIterator())n[i]!=null&&(s[i]=Ln(o,n[i]));return s}return t}class Dr{middlewareStack=gr();schema;static classBuilder(){return new Wl}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,smithyContext:c,additionalContext:h,CommandCtor:l}){for(const A of s.bind(this)(l,t,r,n))this.middlewareStack.use(A);const p=t.concat(this.middlewareStack),{logger:m}=r,E={logger:m,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,[Mn]:{commandInstance:this,...c},...h},{requestHandler:B}=r;return p.resolve(A=>B.handle(A.request,n||{}),E)}}class Wl{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){const t=this;let r;return r=class extends Dr{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,i){return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(t._operationSchema?Ln.bind(null,t._operationSchema.input):o=>o),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(t._operationSchema?Ln.bind(null,t._operationSchema.output):o=>o),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}}const De="***SensitiveInformation***";class bt extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;const r=t;return bt.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;const r=t;return this===bt?bt.isInstance(t):bt.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}}const Ce=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},Kl=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const s=Vl(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw Ce(o,t)},Gl=e=>({output:t,parsedBody:r,errorCode:n})=>{Kl({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},Vl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Zl=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Xl=e=>{const t=[];for(const r in hr){const n=hr[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},Ql=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Yl=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),Jl=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},ef=e=>Object.assign(Xl(e),Yl(e)),tf=e=>Object.assign(Ql(e),Jl(e)),rc=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=rc(e[r]));return e},Fe=e=>e!=null;class ps{trace(){}debug(){}info(){}warn(){}error(){}}function Z(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,rf(n,s,i);i=t}for(const o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}nf(n,null,i,o)}return n}const rf=(e,t,r)=>Z(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),nf=(e,t,r,n)=>{let[s,i]=r[n];if(typeof i=="function"){let o;const a=s===void 0&&(o=i())!=null,d=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:d&&(e[n]=i())}else{const o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},sf=e=>e.toISOString().replace(".000Z","Z"),of=(e,t)=>za(e,t).then(r=>(t?.utf8Encoder??kr)(r)),af=new DOMParser;function cf(e){const t=af.parseFromString(e,"application/xml");if(t.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const r=n=>{if(n.nodeType===Node.TEXT_NODE&&n.textContent?.trim())return n.textContent;if(n.nodeType===Node.ELEMENT_NODE){const s=n;if(s.attributes.length===0&&s.childNodes.length===0)return"";const i={},o=Array.from(s.attributes);for(const d of o)i[`${d.name}`]=d.value;const a=Array.from(s.childNodes);for(const d of a){const c=r(d);if(c!=null){const h=d.nodeName;if(a.length===1&&o.length===0&&h==="#text")return c;i[h]?Array.isArray(i[h])?i[h].push(c):i[h]=[i[h],c]:i[h]=c}else if(a.length===1&&o.length===0)return s.textContent}return i}return null};return{[t.documentElement.nodeName]:r(t.documentElement)}}const nc=(e,t)=>of(e,t).then(r=>{if(r.length){let n;try{n=cf(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}const s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),rc(o)}return{}}),df=async(e,t)=>{const r=await nc(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},uf=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},Hn=[K.CRC32,K.CRC32C,K.CRC64NVME,K.SHA1,K.SHA256],lf=[K.SHA256,K.SHA1,K.CRC32,K.CRC32C,K.CRC64NVME],ff=(e,{requestChecksumRequired:t,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===Et.WHEN_SUPPORTED||t?In:void 0;if(!e[r])return;const s=e[r];if(!Hn.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${Hn}.`);return s},ms=e=>e===K.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,hf=(e,t)=>{const r=e.toLowerCase();for(const n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},pf=(e,t)=>{const r=e.toLowerCase();for(const n of Object.keys(t))if(n.toLowerCase().startsWith(r))return!0;return!1},sc=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!ec(e);function gs(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(l){o(l)}}function d(h){try{c(n.throw(h))}catch(l){o(l)}}function c(h){h.done?i(h.value):s(h.value).then(a,d)}c((n=n.apply(e,t||[])).next())})}function ys(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ic(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}const mf=e=>new TextEncoder().encode(e);var gf=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:mf;function Qe(e){return e instanceof Uint8Array?e:typeof e=="string"?gf(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function qt(e){return typeof e=="string"?e.length===0:e.byteLength===0}function oc(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}function ac(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}var yf=function(){function e(){this.crc32c=new Ti}return e.prototype.update=function(t){qt(t)||this.crc32c.update(Qe(t))},e.prototype.digest=function(){return gs(this,void 0,void 0,function(){return ys(this,function(t){return[2,oc(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Ti},e}(),Ti=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=ic(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^wf[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),bf=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],wf=ac(bf),Sf=function(){function e(){this.crc32=new yr}return e.prototype.update=function(t){qt(t)||this.crc32.update(Qe(t))},e.prototype.digest=function(){return gs(this,void 0,void 0,function(){return ys(this,function(t){return[2,oc(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new yr},e}(),yr=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=ic(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^Ef[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),xf=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Ef=ac(xf);const Af=()=>Sf,cc=(e,t)=>{switch(e){case K.MD5:return t.md5;case K.CRC32:return Af();case K.CRC32C:return yf;case K.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case K.SHA1:return t.sha1;case K.SHA256:return t.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},dc=(e,t)=>{const r=new e;return r.update(At(t||"")),r.digest()},_f={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Cf=(e,t)=>(r,n)=>async s=>{if(!ae.isInstance(s.request)||pf("x-amz-checksum-",s.request.headers))return r(s);const{request:i,input:o}=s,{body:a,headers:d}=i,{base64Encoder:c,streamHasher:h}=e,{requestChecksumRequired:l,requestAlgorithmMember:p}=t,m=await e.requestChecksumCalculation(),E=p?.name,B=p?.httpHeader;E&&!o[E]&&(m===Et.WHEN_SUPPORTED||l)&&(o[E]=In,B&&(d[B]=In));const A=ff(o,{requestChecksumRequired:l,requestAlgorithmMember:p?.name,requestChecksumCalculation:m});let v=a,_=d;if(A){switch(A){case K.CRC32:se(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case K.CRC32C:se(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case K.CRC64NVME:se(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case K.SHA1:se(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case K.SHA256:se(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const U=ms(A),te=cc(A,e);if(sc(a)){const{getAwsChunkedEncodingStream:ce,bodyLengthChecker:Yt}=e;v=ce(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?Cu(a,e.requestStreamBufferSize,n.logger):a,{base64Encoder:c,bodyLengthChecker:Yt,checksumLocationName:U,checksumAlgorithmFn:te,streamHasher:h}),_={...d,"content-encoding":d["content-encoding"]?`${d["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":d["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":U},delete _["content-length"]}else if(!hf(U,d)){const ce=await dc(te,a);_={...d,[U]:c(ce)}}}return await r({...s,request:{...i,headers:_,body:v}})},vf={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},Rf=(e,t)=>(r,n)=>async s=>{const i=s.input,{requestValidationModeMember:o}=t,a=await e.requestChecksumCalculation(),d=await e.responseChecksumValidation();switch(a){case Et.WHEN_REQUIRED:se(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case Et.WHEN_SUPPORTED:se(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(d){case Lr.WHEN_REQUIRED:se(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Lr.WHEN_SUPPORTED:se(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return o&&!i[o]&&d===Lr.WHEN_SUPPORTED&&(i[o]="ENABLED"),r(s)},uc=(e=[])=>{const t=[];for(const r of lf)!e.includes(r)||!Hn.includes(r)||t.push(r);return t},kf=e=>{const t=e.lastIndexOf("-");if(t!==-1){const r=e.slice(t+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},Tf=async(e,{checksumAlgorithmFn:t,base64Encoder:r})=>r(await dc(t,e)),Df=async(e,{config:t,responseAlgorithms:r,logger:n})=>{const s=uc(r),{body:i,headers:o}=e;for(const a of s){const d=ms(a),c=o[d];if(c){let h;try{h=cc(a,t)}catch(m){if(a===K.CRC64NVME){n?.warn(`Skipping ${K.CRC64NVME} checksum validation: ${m.message}`);continue}throw m}const{base64Encoder:l}=t;if(sc(i)){e.body=Eu({expectedChecksum:c,checksumSourceLocation:d,checksum:new h,source:i,base64Encoder:l});return}const p=await Tf(i,{checksumAlgorithmFn:h,base64Encoder:l});if(p===c)break;throw new Error(`Checksum mismatch: expected "${p}" but received "${c}" in response header "${d}".`)}}},Bf={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},Mf=(e,t)=>(r,n)=>async s=>{if(!ae.isInstance(s.request))return r(s);const i=s.input,o=await r(s),a=o.response,{requestValidationModeMember:d,responseAlgorithms:c}=t;if(d&&i[d]==="ENABLED"){const{clientName:h,commandName:l}=n;if(h==="S3Client"&&l==="GetObjectCommand"&&uc(c).every(m=>{const E=ms(m),B=a.headers[E];return!B||kf(B)}))return o;await Df(a,{config:e,responseAlgorithms:c,logger:n.logger})}return o},lc=(e,t)=>({applyToStack:r=>{r.add(Cf(e,t),_f),r.addRelativeTo(Rf(e,t),vf),r.addRelativeTo(Mf(e,t),Bf)}}),If=e=>{const{requestChecksumCalculation:t,responseChecksumValidation:r,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:Oe(t??eu),responseChecksumValidation:Oe(r??tu),requestStreamBufferSize:Number(n??0)})};const Pf=e=>t=>async r=>{if(!ae.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},Ff={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Of=e=>({applyToStack:t=>{t.add(Pf(e),Ff)}}),Nf=()=>(e,t)=>async r=>{try{const n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:c}=a,h=d??t.inputFilterSensitiveLog,l=c??t.outputFilterSensitiveLog,{$metadata:p,...m}=n.output;return o?.info?.({clientName:s,commandName:i,input:h(r.input),output:l(m),metadata:p}),n}catch(n){const{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:d}=a,c=d??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:c(r.input),error:n,metadata:n.$metadata}),n}},Uf={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},$f=e=>({applyToStack:t=>{t.add(Nf(),Uf)}}),Lf={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Hf=()=>e=>async t=>e(t),zf=e=>({applyToStack:t=>{t.add(Hf(),Lf)}}),jf="content-length",qf="x-amz-decoded-content-length";function Wf(){return(e,t)=>async r=>{const{request:n}=r;if(ae.isInstance(n)&&!(jf in n.headers)&&!(qf in n.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof t?.logger?.warn=="function"&&!(t.logger instanceof ps)?t.logger.warn(s):console.warn(s)}return e({...r})}}const Kf={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Gf=e=>({applyToStack:t=>{t.add(Wf(),Kf)}}),Vf=e=>(t,r)=>async n=>{const s=await e.region(),i=e.region;let o=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),o=()=>Object.defineProperty(e,"region",{writable:!0,value:i}));try{const a=await t(n);if(r.__s3RegionRedirect){o();const d=await e.region();if(s!==d)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},Zf={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Xf(e){return(t,r)=>async n=>{try{return await t(n)}catch(s){if(e.followRegionRedirects){const i=s?.$metadata?.httpStatusCode,o=r.commandName==="HeadBucketCommand",a=s?.$response?.headers?.["x-amz-bucket-region"];if(a&&(i===301||i===400&&(s?.name==="IllegalLocationConstraintException"||o))){try{const d=a;r.logger?.debug(`Redirecting from ${await e.region()} to ${d}`),r.__s3RegionRedirect=d}catch(d){throw new Error("Region redirect failed: "+d)}return t(n)}}throw s}}}const Qf={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Yf=e=>({applyToStack:t=>{t.add(Xf(e),Qf),t.addRelativeTo(Vf(e),Zf)}}),Jf=e=>(t,r)=>async n=>{const s=await t(n),{response:i}=s;if(ct.isInstance(i)&&i.headers.expires){i.headers.expiresstring=i.headers.expires;try{Nn(i.headers.expires)}catch(o){r.logger?.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${i.headers.expires}): ${o}`),delete i.headers.expires}}return s},eh={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},th=e=>({applyToStack:t=>{t.addRelativeTo(Jf(),eh)}});class bs{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(t={}){this.data=t}get(t){const r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){const t=Date.now();if(!(this.lastPurgeTime+bs.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const s=await n.identity;s.expiration&&s.expiration.getTime()<t&&delete this.data[r]}}}}class Qr{_identity;isRefreshing;accessed;constructor(t,r=!1,n=Date.now()){this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}class ws{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(t,r=new bs){this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){const n=r.Bucket,{cache:s}=this,i=s.get(n);return i?i.identity.then(o=>(o.expiration?.getTime()??0)<Date.now()?s.set(n,new Qr(this.getIdentity(n))).identity:((o.expiration?.getTime()??0)<Date.now()+ws.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(n).then(c=>{s.set(n,new Qr(Promise.resolve(c)))})),o)):s.set(n,new Qr(this.getIdentity(n))).identity}async getIdentity(t){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});const r=await this.createSessionFn(t);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}}const rh="Directory",nh="S3Express",sh="sigv4-s3express",zn="X-Amz-S3session-Token",jn=zn.toLowerCase();class ih extends $n{async signWithCredentials(t,r,n){const s=Di(r);t.headers[jn]=r.sessionToken;const i=this;return Bi(i,s),i.signRequest(t,n??{})}async presignWithCredentials(t,r,n){const s=Di(r);return delete t.headers[jn],t.headers[zn]=r.sessionToken,t.query=t.query??{},t.query[zn]=r.sessionToken,Bi(this,s),this.presign(t,n)}}function Di(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function Bi(e,t){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t));e.credentialProvider=s}const oh=e=>(t,r)=>async n=>{if(r.endpointV2){const s=r.endpointV2,i=s.properties?.authSchemes?.[0]?.name===sh;if((s.properties?.backend===nh||s.properties?.bucketType===rh)&&(se(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),i){const a=n.input.Bucket;if(a){const d=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:a});r.s3ExpressIdentity=d,ae.isInstance(n.request)&&d.sessionToken&&(n.request.headers[jn]=d.sessionToken)}}}return t(n)},ah={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},ch=e=>({applyToStack:t=>{t.add(oh(e),ah)}}),dh=async(e,t,r,n)=>{const s=await n.signWithCredentials(r,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},uh=e=>t=>{throw t},lh=(e,t)=>{},fh=e=>(t,r)=>async n=>{if(!ae.isInstance(n.request))return t(n);const i=Rt(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:d}=i;let c;r.s3ExpressIdentity?c=await dh(r.s3ExpressIdentity,o,n.request,await e.signer()):c=await d.sign(n.request,a,o);const h=await t({...n,request:c}).catch((d.errorHandler||uh)(o));return(d.successHandler||lh)(h.response,o),h},hh=e=>({applyToStack:t=>{t.addRelativeTo(fh(e),Ua)}}),ph=(e,{session:t})=>{const[r,n]=t,{forcePathStyle:s,useAccelerateEndpoint:i,disableMultiregionAccessPoints:o,followRegionRedirects:a,s3ExpressIdentityProvider:d,bucketEndpoint:c}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:i??!1,disableMultiregionAccessPoints:o??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:d??new ws(async h=>r().send(new n({Bucket:h}))),bucketEndpoint:c??!1})},mh={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},gh=3e3,yh=e=>(t,r)=>async n=>{const s=await t(n),{response:i}=s;if(!ct.isInstance(i))return s;const{statusCode:o,body:a}=i;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return s;let c=a,h=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([c,h]=await Nu(a)),i.body=h;const l=await bh(c,{streamCollector:async m=>Tu(m,gh)});typeof c?.destroy=="function"&&c.destroy();const p=e.utf8Encoder(l.subarray(l.length-16));if(l.length===0&&mh[r.commandName]){const m=new Error("S3 aborted request");throw m.name="InternalError",m}return p&&p.endsWith("</Error>")&&(i.statusCode=400),s},bh=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),wh={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},fc=e=>({applyToStack:t=>{t.addRelativeTo(yh(e),wh)}}),Sh=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function xh(e){return(t,r)=>async n=>{if(e.bucketEndpoint){const s=r.endpointV2;if(s){const i=n.input.Bucket;if(typeof i=="string")try{const o=new URL(i);r.endpointV2={...s,url:o}}catch(o){const a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${i} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a),o}}}return t(n)}}const Eh={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function Ah({bucketEndpoint:e}){return t=>async r=>{const{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!Sh(n)&&n.indexOf("/")>=0){const s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return t({...r})}}const _h={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Ch=e=>({applyToStack:t=>{t.add(Ah(e),_h),t.addRelativeTo(xh(e),Eh)}}),vh=void 0;function Rh(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function kh(e){const t=wt(e.userAgentAppId??vh),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{const n=await t();if(!Rh(n)){const s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}class Th{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){const n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const s=this.data.keys();let i=0;for(;;){const{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="";const{parameters:n}=this;if(n.length===0)return!1;for(const s of n){const i=String(t[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}}const Dh=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hc=e=>Dh.test(e)||e.startsWith("[")&&e.endsWith("]"),Bh=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ss=(e,t=!1)=>{if(!t)return Bh.test(e);const r=e.split(".");for(const n of r)if(!Ss(n))return!1;return!0},br={},Wt="endpoints";function Ye(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ye(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ye).join(", ")})`:JSON.stringify(e,null,2)}class Be extends Error{constructor(t){super(t),this.name="EndpointError"}}const Mh=(e,t)=>e===t,Ih=e=>{const t=e.split("."),r=[];for(const n of t){const s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Be(`Path: '${e}' does not end with ']'`);const i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Be(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},pc=(e,t)=>Ih(t).reduce((r,n)=>{if(typeof r!="object")throw new Be(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),Ph=e=>e!=null,Fh=e=>!e,Yr={[zt.HTTP]:80,[zt.HTTPS]:443},Oh=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:p,port:m,protocol:E="",path:B="",query:A={}}=e,v=new URL(`${E}//${p}${m?`:${m}`:""}${B}`);return v.search=Object.entries(A).map(([_,j])=>`${_}=${j}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;const d=o.slice(0,-1);if(!Object.values(zt).includes(d))return null;const c=hc(s),h=r.includes(`${n}:${Yr[d]}`)||typeof e=="string"&&e.includes(`${n}:${Yr[d]}`),l=`${n}${h?`:${Yr[d]}`:""}`;return{scheme:d,authority:l,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:c}},Nh=(e,t)=>e===t,Uh=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),$h=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Lh={booleanEquals:Mh,getAttr:pc,isSet:Ph,isValidHostLabel:Ss,not:Fh,parseURL:Oh,stringEquals:Nh,substring:Uh,uriEncode:$h},mc=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let s=0;for(;s<e.length;){const i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));const o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);const a=e.substring(i+1,o);if(a.includes("#")){const[d,c]=a.split("#");r.push(pc(n[d],c))}else r.push(n[a]);s=o+1}return r.join("")},Hh=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Br=(e,t,r)=>{if(typeof e=="string")return mc(e,r);if(e.fn)return gc(e,r);if(e.ref)return Hh(e,r);throw new Be(`'${t}': ${String(e)} is not a string, function or reference.`)},gc=({fn:e,argv:t},r)=>{const n=t.map(i=>["boolean","number"].includes(typeof i)?i:Br(i,"arg",r)),s=e.split(".");return s[0]in br&&s[1]!=null?br[s[0]][s[1]](...n):Lh[e](...n)},zh=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Be(`'${e}' is already defined in Reference Record.`);const n=gc(t,r);return r.logger?.debug?.(`${Wt} evaluateCondition: ${Ye(t)} = ${Ye(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},xs=(e=[],t)=>{const r={};for(const n of e){const{result:s,toAssign:i}=zh(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${Wt} assign: ${i.name} := ${Ye(i.value)}`))}return{result:!0,referenceRecord:r}},jh=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{const o=Br(i,"Header value entry",t);if(typeof o!="string")throw new Be(`Header '${n}' value '${o}' is not a string`);return o})}),{}),yc=(e,t)=>{if(Array.isArray(e))return e.map(r=>yc(r,t));switch(typeof e){case"string":return mc(e,t);case"object":if(e===null)throw new Be(`Unexpected endpoint property: ${e}`);return bc(e,t);case"boolean":return e;default:throw new Be(`Unexpected endpoint property type: ${typeof e}`)}},bc=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:yc(s,t)}),{}),qh=(e,t)=>{const r=Br(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Be(`Endpoint URL must be a string, got ${typeof r}`)},Wh=(e,t)=>{const{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=xs(r,t);if(!s)return;const o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:d,headers:c}=n;return t.logger?.debug?.(`${Wt} Resolving endpoint from template: ${Ye(n)}`),{...c!=null&&{headers:jh(c,o)},...d!=null&&{properties:bc(d,o)},url:qh(a,o)}},Kh=(e,t)=>{const{conditions:r,error:n}=e,{result:s,referenceRecord:i}=xs(r,t);if(s)throw new Be(Br(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},Gh=(e,t)=>{const{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=xs(r,t);if(s)return wc(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},wc=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=Wh(r,t);if(n)return n}else if(r.type==="error")Kh(r,t);else if(r.type==="tree"){const n=Gh(r,t);if(n)return n}else throw new Be(`Unknown endpoint rule: ${r}`);throw new Be("Rules evaluation failed")},Vh=(e,t)=>{const{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${Wt} Initial EndpointParams: ${Ye(r)}`);const o=Object.entries(s).filter(([,c])=>c.default!=null).map(([c,h])=>[c,h.default]);if(o.length>0)for(const[c,h]of o)r[c]=r[c]??h;const a=Object.entries(s).filter(([,c])=>c.required).map(([c])=>c);for(const c of a)if(r[c]==null)throw new Be(`Missing required parameter: '${c}'`);const d=wc(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${Wt} Resolved endpoint: ${Ye(d)}`),d},Sc=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!Sc(r))return!1;return!0}return!(!Ss(e)||e.length<3||e.length>63||e!==e.toLowerCase()||hc(e))},Mi=":",Zh="/",Xh=e=>{const t=e.split(Mi);if(t.length<6)return null;const[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(Mi)==="")return null;const d=a.map(c=>c.split(Zh)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:d}},Qh=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Yh={partitions:Qh};let Jh=Yh;const ep=e=>{const{partitions:t}=Jh;for(const n of t){const{regions:s,outputs:i}=n;for(const[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(const n of t){const{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},xc={isVirtualHostableS3Bucket:Sc,parseArn:Xh,partition:ep};br.aws=xc;function tp(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}const wr=e=>{if(typeof e=="string")return wr(new URL(e));const{hostname:t,pathname:r,port:n,protocol:s,search:i}=e;let o;return i&&(o=tp(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},rp=/\d{12}\.ddb/;async function np(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&se(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){const i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?se(e,"RETRY_MODE_ADAPTIVE","F"):se(e,"RETRY_MODE_STANDARD","E"):se(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){const i=e.endpointV2;switch(String(i?.url?.hostname).match(rp)&&se(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":se(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":se(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":se(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){const i=s;i.accountId&&se(e,"RESOLVED_ACCOUNT_ID","T");for(const[o,a]of Object.entries(i.$source??{}))se(e,o,a)}}const Ii="user-agent",Jr="x-amz-user-agent",Pi=" ",en="/",sp=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ip=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Fi="-",op=1024;function ap(e){let t="";for(const r in e){const n=e[r];if(t.length+n.length+1<=op){t.length?t+=","+n:t+=n;continue}break}return t}const cp=e=>(t,r)=>async n=>{const{request:s}=n;if(!ae.isInstance(s))return t(n);const{headers:i}=s,o=r?.userAgent?.map(nr)||[],a=(await e.defaultUserAgentProvider()).map(nr);await np(r,e,n);const d=r;a.push(`m/${ap(Object.assign({},r.__smithy_context?.features,d.__aws_sdk_context?.features))}`);const c=e?.customUserAgent?.map(nr)||[],h=await e.userAgentAppId();h&&a.push(nr([`app/${h}`]));const l=[].concat([...a,...o,...c]).join(Pi),p=[...a.filter(m=>m.startsWith("aws-sdk-")),...c].join(Pi);return e.runtime!=="browser"?(p&&(i[Jr]=i[Jr]?`${i[Ii]} ${p}`:p),i[Ii]=l):i[Jr]=l,t({...n,request:s})},nr=e=>{const t=e[0].split(en).map(o=>o.replace(sp,Fi)).join(en),r=e[1]?.replace(ip,Fi),n=t.indexOf(en),s=t.substring(0,n);let i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,d)=>{switch(d){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},dp={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},up=e=>({applyToStack:t=>{t.add(cp(e),dp)}}),lp=!1,fp=!1,Ec=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Oi=e=>Ec(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,hp=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return Oi(t);const n=await t();return Oi(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return Ec(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},pp=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),Ni="content-length";function mp(e){return t=>async r=>{const n=r.request;if(ae.isInstance(n)){const{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(Ni)===-1)try{const o=e(s);n.headers={...n.headers,[Ni]:String(o)}}catch{}}return t({...r,request:n})}}const gp={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},yp=e=>({applyToStack:t=>{t.add(mp(e.bodyLengthChecker),gp)}}),bp=async e=>{const t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Ap(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Ep(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},wp=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Sp=/(\d+\.){3}\d+/,xp=/\.\./,Ep=e=>wp.test(e)&&!Sp.test(e)&&!xp.test(e),Ap=e=>{const[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},_p=(e,t,r)=>{const n=async()=>{const s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;const s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:d}=s;return`${i}//${o}${a?":"+a:""}${d}`}}return s}:n},Ac=async e=>{},_c=e=>typeof e=="object"?"url"in e?wr(e.url):e:wr(e),Cp=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await Ac(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(_c(o)),r.isCustomEndpoint=!0)}const s=await Cc(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},Cc=async(e,t,r)=>{const n={},s=t?.getEndpointParameterInstructions?.()||{};for(const[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await _p(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await bp(n),n},vp=({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&al(n,"ENDPOINT_OVERRIDE","N");const i=await Cp(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;const o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const d=Rt(n)?.selectedHttpAuthScheme?.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},Rp={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Na.name},Es=(e,t)=>({applyToStack:r=>{r.addRelativeTo(vp({config:e,instructions:t}),Rp)}}),kp=e=>{const t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>_c(await Oe(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Oe(n??!1),useFipsEndpoint:Oe(s??!1)});let d;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!d&&(d=Ac(e.serviceId)),d),a};var Ct;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ct||(Ct={}));const Sr=3,Tp=Ct.STANDARD,Dp=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Bp=["TimeoutError","RequestTimeout","RequestTimeoutException"],Mp=[500,502,503,504],Ip=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Pp=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Fp=e=>e?.$retryable!==void 0,Op=e=>e.$metadata?.clockSkewCorrected,Np=e=>{const t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},vc=e=>e.$metadata?.httpStatusCode===429||Dp.includes(e.name)||e.$retryable?.throttling==!0,As=(e,t=0)=>Fp(e)||Op(e)||Bp.includes(e.name)||Ip.includes(e?.code||"")||Pp.includes(e?.code||"")||Mp.includes(e.$metadata?.httpStatusCode||0)||Np(e)||e.cause!==void 0&&t<=10&&As(e.cause,t+1),Up=e=>{if(e.$metadata?.httpStatusCode!==void 0){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!As(e)}return!1};class _s{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>_s.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),vc(t)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}const qn=100,Rc=20*1e3,$p=500,Ui=500,Lp=5,Hp=10,zp=1,jp="amz-sdk-invocation-id",qp="amz-sdk-request",Wp=()=>{let e=qn;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Rc,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},$i=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Rc,e),getRetryCost:()=>r});class kc{maxAttempts;mode=Ct.STANDARD;capacity=Ui;retryBackoffStrategy=Wp();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return $i({retryDelay:qn,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?$p:qn);const i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,$i({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ui,this.capacity+(t.getRetryCost()??zp))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Sr}`),Sr}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Hp:Lp}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class Kp{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ct.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;const{rateLimiter:n}=r??{};this.rateLimiter=n??new _s,this.standardRetryStrategy=new kc(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}const Gp=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Vp=e=>{const{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=Oe(n??Sr);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await Oe(r)()===Ct.ADAPTIVE?new Kp(s):new kc(s))})},Zp=e=>e?.body instanceof ReadableStream,Xp=e=>(t,r)=>async n=>{let s=await e.retryStrategy();const i=await e.maxAttempts();if(Qp(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,d=0,c=0;const{request:h}=n,l=ae.isInstance(h);for(l&&(h.headers[jp]=sl());;)try{l&&(h.headers[qp]=`attempt=${d+1}; max=${i}`);const{response:p,output:m}=await t(n);return s.recordSuccess(o),m.$metadata.attempts=d+1,m.$metadata.totalRetryDelay=c,{response:p,output:m}}catch(p){const m=Yp(p);if(a=Gp(p),l&&Zp(h))throw(r.logger instanceof ps?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=d+1,a.$metadata.totalRetryDelay=c,a}d=o.getRetryCount();const E=o.getRetryDelay();c+=E,await new Promise(B=>setTimeout(B,E))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},Qp=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Yp=e=>{const t={error:e,errorType:Jp(e)},r=rm(e.$response);return r&&(t.retryAfterHint=r),t},Jp=e=>vc(e)?"THROTTLING":As(e)?"TRANSIENT":Up(e)?"SERVER_ERROR":"CLIENT_ERROR",em={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},tm=e=>({applyToStack:t=>{t.add(Xp(e),em)}}),rm=e=>{if(!ct.isInstance(e))return;const t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};class Tc{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"none"}constructor(t){this.sigv4Signer=new ih(t),this.signerOptions=t}async sign(t,r={}){return r.signingRegion==="*"?this.getSigv4aSigner().sign(t,r):this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const Cs="required",u="type",b="rules",f="conditions",g="fn",y="argv",D="ref",P="assign",R="url",k="properties",st="backend",xe="authSchemes",fe="disableDoubleEncoding",he="signingName",_e="signingRegion",T="headers",vs="signingRegionSet",nm=6,sm=!1,Ue=!0,Te="isSet",ee="booleanEquals",C="error",xr="aws.partition",L="stringEquals",Q="getAttr",J="name",W="substring",Li="bucketSuffix",Rs="parseURL",x="endpoint",w="tree",Er="aws.isVirtualHostableS3Bucket",Ar="{url#scheme}://{Bucket}.{url#authority}{url#path}",He="not",Hi="accessPointSuffix",ur="{url#scheme}://{url#authority}{url#path}",Dc="hardwareType",Bc="regionPrefix",zi="bucketAliasSuffix",Wn="outpostId",lt="isValidHostLabel",ks="sigv4a",Kt="s3-outposts",vt="s3",Mc="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Ic="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",ji="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Pc="aws.parseArn",Fc="bucketArn",Oc="arnType",_r="",Ts="s3-object-lambda",Nc="accesspoint",Ds="accessPointName",qi="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Wi="mrapPartition",Ki="outpostType",Gi="arnPrefix",Uc="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Vi="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Zi="https://s3.{partitionResult#dnsSuffix}",ht={[Cs]:!1,[u]:"String"},pt={[Cs]:!0,default:!1,[u]:"Boolean"},Dt={[Cs]:!1,[u]:"Boolean"},Ie={[g]:ee,[y]:[{[D]:"Accelerate"},!0]},G={[g]:ee,[y]:[{[D]:"UseFIPS"},!0]},q={[g]:ee,[y]:[{[D]:"UseDualStack"},!0]},Y={[g]:Te,[y]:[{[D]:"Endpoint"}]},$c={[g]:xr,[y]:[{[D]:"Region"}],[P]:"partitionResult"},Xi={[g]:L,[y]:[{[g]:Q,[y]:[{[D]:"partitionResult"},J]},"aws-cn"]},Nt={[g]:Te,[y]:[{[D]:"Bucket"}]},$={[D]:"Bucket"},Qi={[f]:[q],[C]:"S3Express does not support Dual-stack.",[u]:C},Yi={[f]:[Ie],[C]:"S3Express does not support S3 Accelerate.",[u]:C},Ji={[f]:[Y,{[g]:Rs,[y]:[{[D]:"Endpoint"}],[P]:"url"}],[b]:[{[f]:[{[g]:Te,[y]:[{[D]:"DisableS3ExpressSessionAuth"}]},{[g]:ee,[y]:[{[D]:"DisableS3ExpressSessionAuth"},!0]}],[b]:[{[f]:[{[g]:ee,[y]:[{[g]:Q,[y]:[{[D]:"url"},"isIp"]},!0]}],[b]:[{[f]:[{[g]:"uriEncode",[y]:[$],[P]:"uri_encoded_bucket"}],[b]:[{[x]:{[R]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[k]:{[st]:"S3Express",[xe]:[{[fe]:!0,[J]:"sigv4",[he]:"s3express",[_e]:"{Region}"}]},[T]:{}},[u]:x}],[u]:w}],[u]:w},{[f]:[{[g]:Er,[y]:[$,!1]}],[b]:[{[x]:{[R]:Ar,[k]:{[st]:"S3Express",[xe]:[{[fe]:!0,[J]:"sigv4",[he]:"s3express",[_e]:"{Region}"}]},[T]:{}},[u]:x}],[u]:w},{[C]:"S3Express bucket name is not a valid virtual hostable name.",[u]:C}],[u]:w},{[f]:[{[g]:ee,[y]:[{[g]:Q,[y]:[{[D]:"url"},"isIp"]},!0]}],[b]:[{[f]:[{[g]:"uriEncode",[y]:[$],[P]:"uri_encoded_bucket"}],[b]:[{[x]:{[R]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[k]:{[st]:"S3Express",[xe]:[{[fe]:!0,[J]:"sigv4-s3express",[he]:"s3express",[_e]:"{Region}"}]},[T]:{}},[u]:x}],[u]:w}],[u]:w},{[f]:[{[g]:Er,[y]:[$,!1]}],[b]:[{[x]:{[R]:Ar,[k]:{[st]:"S3Express",[xe]:[{[fe]:!0,[J]:"sigv4-s3express",[he]:"s3express",[_e]:"{Region}"}]},[T]:{}},[u]:x}],[u]:w},{[C]:"S3Express bucket name is not a valid virtual hostable name.",[u]:C}],[u]:w},Ee={[g]:Rs,[y]:[{[D]:"Endpoint"}],[P]:"url"},tn={[g]:ee,[y]:[{[g]:Q,[y]:[{[D]:"url"},"isIp"]},!0]},Lc={[D]:"url"},Hc={[g]:"uriEncode",[y]:[$],[P]:"uri_encoded_bucket"},nt={[st]:"S3Express",[xe]:[{[fe]:!0,[J]:"sigv4",[he]:"s3express",[_e]:"{Region}"}]},M={},zc={[g]:Er,[y]:[$,!1]},eo={[C]:"S3Express bucket name is not a valid virtual hostable name.",[u]:C},to={[g]:Te,[y]:[{[D]:"UseS3ExpressControlEndpoint"}]},ro={[g]:ee,[y]:[{[D]:"UseS3ExpressControlEndpoint"},!0]},I={[g]:He,[y]:[Y]},sr={[C]:"Unrecognized S3Express bucket name format.",[u]:C},no={[g]:He,[y]:[Nt]},so={[D]:Dc},io={[f]:[I],[C]:"Expected a endpoint to be specified but no endpoint was found",[u]:C},ir={[xe]:[{[fe]:!0,[J]:ks,[he]:Kt,[vs]:["*"]},{[fe]:!0,[J]:"sigv4",[he]:Kt,[_e]:"{Region}"}]},rn={[g]:ee,[y]:[{[D]:"ForcePathStyle"},!1]},im={[D]:"ForcePathStyle"},ne={[g]:ee,[y]:[{[D]:"Accelerate"},!1]},oe={[g]:L,[y]:[{[D]:"Region"},"aws-global"]},de={[xe]:[{[fe]:!0,[J]:"sigv4",[he]:vt,[_e]:"us-east-1"}]},N={[g]:He,[y]:[oe]},ue={[g]:ee,[y]:[{[D]:"UseGlobalEndpoint"},!0]},oo={[R]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[k]:{[xe]:[{[fe]:!0,[J]:"sigv4",[he]:vt,[_e]:"{Region}"}]},[T]:{}},ie={[xe]:[{[fe]:!0,[J]:"sigv4",[he]:vt,[_e]:"{Region}"}]},le={[g]:ee,[y]:[{[D]:"UseGlobalEndpoint"},!1]},O={[g]:ee,[y]:[{[D]:"UseDualStack"},!1]},ao={[R]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[k]:ie,[T]:{}},F={[g]:ee,[y]:[{[D]:"UseFIPS"},!1]},co={[R]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[k]:ie,[T]:{}},uo={[R]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[k]:ie,[T]:{}},nn={[g]:ee,[y]:[{[g]:Q,[y]:[Lc,"isIp"]},!1]},sn={[R]:Mc,[k]:ie,[T]:{}},Kn={[R]:Ar,[k]:ie,[T]:{}},lo={[x]:Kn,[u]:x},on={[R]:Ic,[k]:ie,[T]:{}},fo={[R]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[k]:ie,[T]:{}},or={[C]:"Invalid region: region was not a valid DNS name.",[u]:C},ke={[D]:Fc},jc={[D]:Oc},an={[g]:Q,[y]:[ke,"service"]},Bs={[D]:Ds},ho={[f]:[q],[C]:"S3 Object Lambda does not support Dual-stack",[u]:C},po={[f]:[Ie],[C]:"S3 Object Lambda does not support S3 Accelerate",[u]:C},mo={[f]:[{[g]:Te,[y]:[{[D]:"DisableAccessPoints"}]},{[g]:ee,[y]:[{[D]:"DisableAccessPoints"},!0]}],[C]:"Access points are not supported for this operation",[u]:C},cn={[f]:[{[g]:Te,[y]:[{[D]:"UseArnRegion"}]},{[g]:ee,[y]:[{[D]:"UseArnRegion"},!1]},{[g]:He,[y]:[{[g]:L,[y]:[{[g]:Q,[y]:[ke,"region"]},"{Region}"]}]}],[C]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[u]:C},qc={[g]:Q,[y]:[{[D]:"bucketPartition"},J]},Wc={[g]:Q,[y]:[ke,"accountId"]},dn={[xe]:[{[fe]:!0,[J]:"sigv4",[he]:Ts,[_e]:"{bucketArn#region}"}]},go={[C]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[u]:C},un={[C]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[u]:C},ln={[C]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[u]:C},fn={[C]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[u]:C},yo={[C]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[u]:C},bo={[C]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[u]:C},Bt={[xe]:[{[fe]:!0,[J]:"sigv4",[he]:vt,[_e]:"{bucketArn#region}"}]},wo={[xe]:[{[fe]:!0,[J]:ks,[he]:Kt,[vs]:["*"]},{[fe]:!0,[J]:"sigv4",[he]:Kt,[_e]:"{bucketArn#region}"}]},So={[g]:Pc,[y]:[$]},xo={[R]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:ie,[T]:{}},Eo={[R]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:ie,[T]:{}},Ao={[R]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:ie,[T]:{}},hn={[R]:Uc,[k]:ie,[T]:{}},_o={[R]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:ie,[T]:{}},Co={[D]:"UseObjectLambdaEndpoint"},pn={[xe]:[{[fe]:!0,[J]:"sigv4",[he]:Ts,[_e]:"{Region}"}]},vo={[R]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[k]:ie,[T]:{}},Ro={[R]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[k]:ie,[T]:{}},ko={[R]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[k]:ie,[T]:{}},mn={[R]:ur,[k]:ie,[T]:{}},To={[R]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[k]:ie,[T]:{}},gn=[{[D]:"Region"}],om=[{[D]:"Endpoint"}],am=[$],Do=[q],yn=[Ie],mt=[Y,Ee],Bo=[{[g]:Te,[y]:[{[D]:"DisableS3ExpressSessionAuth"}]},{[g]:ee,[y]:[{[D]:"DisableS3ExpressSessionAuth"},!0]}],cm=[Hc],Mo=[zc],Me=[$c],gt=[G],Io=[{[g]:W,[y]:[$,6,14,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,14,16,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],$e=[{[f]:[G],[x]:{[R]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[k]:nt,[T]:{}},[u]:x},{[x]:{[R]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[k]:nt,[T]:{}},[u]:x}],Po=[{[g]:W,[y]:[$,6,15,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,15,17,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],Fo=[{[g]:W,[y]:[$,6,19,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,19,21,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],Oo=[{[g]:W,[y]:[$,6,20,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,20,22,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],No=[{[g]:W,[y]:[$,6,26,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,26,28,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],Le=[{[f]:[G],[x]:{[R]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[k]:{[st]:"S3Express",[xe]:[{[fe]:!0,[J]:"sigv4-s3express",[he]:"s3express",[_e]:"{Region}"}]},[T]:{}},[u]:x},{[x]:{[R]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[k]:{[st]:"S3Express",[xe]:[{[fe]:!0,[J]:"sigv4-s3express",[he]:"s3express",[_e]:"{Region}"}]},[T]:{}},[u]:x}],Uo=[$,0,7,!0],$o=[{[g]:W,[y]:[$,7,15,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,15,17,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],Lo=[{[g]:W,[y]:[$,7,16,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,16,18,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],Ho=[{[g]:W,[y]:[$,7,20,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,20,22,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],zo=[{[g]:W,[y]:[$,7,21,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,21,23,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],jo=[{[g]:W,[y]:[$,7,27,!0],[P]:"s3expressAvailabilityZoneId"},{[g]:W,[y]:[$,27,29,!0],[P]:"s3expressAvailabilityZoneDelim"},{[g]:L,[y]:[{[D]:"s3expressAvailabilityZoneDelim"},"--"]}],dm=[Nt],qo=[{[g]:lt,[y]:[{[D]:Wn},!1]}],Wo=[{[g]:L,[y]:[{[D]:Bc},"beta"]}],um=["*"],Ko=[{[g]:lt,[y]:[{[D]:"Region"},!1]}],qe=[{[g]:L,[y]:[{[D]:"Region"},"us-east-1"]}],bn=[{[g]:L,[y]:[jc,Nc]}],Go=[{[g]:Q,[y]:[ke,"resourceId[1]"],[P]:Ds},{[g]:He,[y]:[{[g]:L,[y]:[Bs,_r]}]}],lm=[ke,"resourceId[1]"],wn=[{[g]:He,[y]:[{[g]:L,[y]:[{[g]:Q,[y]:[ke,"region"]},_r]}]}],Vo=[{[g]:He,[y]:[{[g]:Te,[y]:[{[g]:Q,[y]:[ke,"resourceId[2]"]}]}]}],fm=[ke,"resourceId[2]"],Sn=[{[g]:xr,[y]:[{[g]:Q,[y]:[ke,"region"]}],[P]:"bucketPartition"}],Zo=[{[g]:L,[y]:[qc,{[g]:Q,[y]:[{[D]:"partitionResult"},J]}]}],xn=[{[g]:lt,[y]:[{[g]:Q,[y]:[ke,"region"]},!0]}],En=[{[g]:lt,[y]:[Wc,!1]}],Xo=[{[g]:lt,[y]:[Bs,!1]}],Qo=[{[g]:lt,[y]:[{[D]:"Region"},!0]}],hm={parameters:{Bucket:ht,Region:ht,UseFIPS:pt,UseDualStack:pt,Endpoint:ht,ForcePathStyle:pt,Accelerate:pt,UseGlobalEndpoint:pt,UseObjectLambdaEndpoint:Dt,Key:ht,Prefix:ht,CopySource:ht,DisableAccessPoints:Dt,DisableMultiRegionAccessPoints:pt,UseArnRegion:Dt,UseS3ExpressControlEndpoint:Dt,DisableS3ExpressSessionAuth:Dt},[b]:[{[f]:[{[g]:Te,[y]:gn}],[b]:[{[f]:[Ie,G],error:"Accelerate cannot be used with FIPS",[u]:C},{[f]:[q,Y],error:"Cannot set dual-stack in combination with a custom endpoint.",[u]:C},{[f]:[Y,G],error:"A custom endpoint cannot be combined with FIPS",[u]:C},{[f]:[Y,Ie],error:"A custom endpoint cannot be combined with S3 Accelerate",[u]:C},{[f]:[G,$c,Xi],error:"Partition does not support FIPS",[u]:C},{[f]:[Nt,{[g]:W,[y]:[$,0,nm,Ue],[P]:Li},{[g]:L,[y]:[{[D]:Li},"--x-s3"]}],[b]:[Qi,Yi,Ji,{[f]:[to,ro],[b]:[{[f]:Me,[b]:[{[f]:[Hc,I],[b]:[{[f]:gt,endpoint:{[R]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:nt,[T]:M},[u]:x},{endpoint:{[R]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:nt,[T]:M},[u]:x}],[u]:w}],[u]:w}],[u]:w},{[f]:Mo,[b]:[{[f]:Me,[b]:[{[f]:Bo,[b]:[{[f]:Io,[b]:$e,[u]:w},{[f]:Po,[b]:$e,[u]:w},{[f]:Fo,[b]:$e,[u]:w},{[f]:Oo,[b]:$e,[u]:w},{[f]:No,[b]:$e,[u]:w},sr],[u]:w},{[f]:Io,[b]:Le,[u]:w},{[f]:Po,[b]:Le,[u]:w},{[f]:Fo,[b]:Le,[u]:w},{[f]:Oo,[b]:Le,[u]:w},{[f]:No,[b]:Le,[u]:w},sr],[u]:w}],[u]:w},eo],[u]:w},{[f]:[Nt,{[g]:W,[y]:Uo,[P]:Hi},{[g]:L,[y]:[{[D]:Hi},"--xa-s3"]}],[b]:[Qi,Yi,Ji,{[f]:Mo,[b]:[{[f]:Me,[b]:[{[f]:Bo,[b]:[{[f]:$o,[b]:$e,[u]:w},{[f]:Lo,[b]:$e,[u]:w},{[f]:Ho,[b]:$e,[u]:w},{[f]:zo,[b]:$e,[u]:w},{[f]:jo,[b]:$e,[u]:w},sr],[u]:w},{[f]:$o,[b]:Le,[u]:w},{[f]:Lo,[b]:Le,[u]:w},{[f]:Ho,[b]:Le,[u]:w},{[f]:zo,[b]:Le,[u]:w},{[f]:jo,[b]:Le,[u]:w},sr],[u]:w}],[u]:w},eo],[u]:w},{[f]:[no,to,ro],[b]:[{[f]:Me,[b]:[{[f]:mt,endpoint:{[R]:ur,[k]:nt,[T]:M},[u]:x},{[f]:gt,endpoint:{[R]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[k]:nt,[T]:M},[u]:x},{endpoint:{[R]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[k]:nt,[T]:M},[u]:x}],[u]:w}],[u]:w},{[f]:[Nt,{[g]:W,[y]:[$,49,50,Ue],[P]:Dc},{[g]:W,[y]:[$,8,12,Ue],[P]:Bc},{[g]:W,[y]:Uo,[P]:zi},{[g]:W,[y]:[$,32,49,Ue],[P]:Wn},{[g]:xr,[y]:gn,[P]:"regionPartition"},{[g]:L,[y]:[{[D]:zi},"--op-s3"]}],[b]:[{[f]:qo,[b]:[{[f]:[{[g]:L,[y]:[so,"e"]}],[b]:[{[f]:Wo,[b]:[io,{[f]:mt,endpoint:{[R]:"https://{Bucket}.ec2.{url#authority}",[k]:ir,[T]:M},[u]:x}],[u]:w},{endpoint:{[R]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[k]:ir,[T]:M},[u]:x}],[u]:w},{[f]:[{[g]:L,[y]:[so,"o"]}],[b]:[{[f]:Wo,[b]:[io,{[f]:mt,endpoint:{[R]:"https://{Bucket}.op-{outpostId}.{url#authority}",[k]:ir,[T]:M},[u]:x}],[u]:w},{endpoint:{[R]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[k]:ir,[T]:M},[u]:x}],[u]:w},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[u]:C}],[u]:w},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[u]:C}],[u]:w},{[f]:dm,[b]:[{[f]:[Y,{[g]:He,[y]:[{[g]:Te,[y]:[{[g]:Rs,[y]:om}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[u]:C},{[f]:[rn,zc],[b]:[{[f]:Me,[b]:[{[f]:Ko,[b]:[{[f]:[Ie,Xi],error:"S3 Accelerate cannot be used in this region",[u]:C},{[f]:[q,G,ne,I,oe],endpoint:{[R]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[k]:de,[T]:M},[u]:x},{[f]:[q,G,ne,I,N,ue],[b]:[{endpoint:oo,[u]:x}],[u]:w},{[f]:[q,G,ne,I,N,le],endpoint:oo,[u]:x},{[f]:[O,G,ne,I,oe],endpoint:{[R]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[k]:de,[T]:M},[u]:x},{[f]:[O,G,ne,I,N,ue],[b]:[{endpoint:ao,[u]:x}],[u]:w},{[f]:[O,G,ne,I,N,le],endpoint:ao,[u]:x},{[f]:[q,F,Ie,I,oe],endpoint:{[R]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[k]:de,[T]:M},[u]:x},{[f]:[q,F,Ie,I,N,ue],[b]:[{endpoint:co,[u]:x}],[u]:w},{[f]:[q,F,Ie,I,N,le],endpoint:co,[u]:x},{[f]:[q,F,ne,I,oe],endpoint:{[R]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[k]:de,[T]:M},[u]:x},{[f]:[q,F,ne,I,N,ue],[b]:[{endpoint:uo,[u]:x}],[u]:w},{[f]:[q,F,ne,I,N,le],endpoint:uo,[u]:x},{[f]:[O,F,ne,Y,Ee,tn,oe],endpoint:{[R]:Mc,[k]:de,[T]:M},[u]:x},{[f]:[O,F,ne,Y,Ee,nn,oe],endpoint:{[R]:Ar,[k]:de,[T]:M},[u]:x},{[f]:[O,F,ne,Y,Ee,tn,N,ue],[b]:[{[f]:qe,endpoint:sn,[u]:x},{endpoint:sn,[u]:x}],[u]:w},{[f]:[O,F,ne,Y,Ee,nn,N,ue],[b]:[{[f]:qe,endpoint:Kn,[u]:x},lo],[u]:w},{[f]:[O,F,ne,Y,Ee,tn,N,le],endpoint:sn,[u]:x},{[f]:[O,F,ne,Y,Ee,nn,N,le],endpoint:Kn,[u]:x},{[f]:[O,F,Ie,I,oe],endpoint:{[R]:Ic,[k]:de,[T]:M},[u]:x},{[f]:[O,F,Ie,I,N,ue],[b]:[{[f]:qe,endpoint:on,[u]:x},{endpoint:on,[u]:x}],[u]:w},{[f]:[O,F,Ie,I,N,le],endpoint:on,[u]:x},{[f]:[O,F,ne,I,oe],endpoint:{[R]:ji,[k]:de,[T]:M},[u]:x},{[f]:[O,F,ne,I,N,ue],[b]:[{[f]:qe,endpoint:{[R]:ji,[k]:ie,[T]:M},[u]:x},{endpoint:fo,[u]:x}],[u]:w},{[f]:[O,F,ne,I,N,le],endpoint:fo,[u]:x}],[u]:w},or],[u]:w}],[u]:w},{[f]:[Y,Ee,{[g]:L,[y]:[{[g]:Q,[y]:[Lc,"scheme"]},"http"]},{[g]:Er,[y]:[$,Ue]},rn,F,O,ne],[b]:[{[f]:Me,[b]:[{[f]:Ko,[b]:[lo],[u]:w},or],[u]:w}],[u]:w},{[f]:[rn,{[g]:Pc,[y]:am,[P]:Fc}],[b]:[{[f]:[{[g]:Q,[y]:[ke,"resourceId[0]"],[P]:Oc},{[g]:He,[y]:[{[g]:L,[y]:[jc,_r]}]}],[b]:[{[f]:[{[g]:L,[y]:[an,Ts]}],[b]:[{[f]:bn,[b]:[{[f]:Go,[b]:[ho,po,{[f]:wn,[b]:[mo,{[f]:Vo,[b]:[cn,{[f]:Sn,[b]:[{[f]:Me,[b]:[{[f]:Zo,[b]:[{[f]:xn,[b]:[{[f]:[{[g]:L,[y]:[Wc,_r]}],error:"Invalid ARN: Missing account id",[u]:C},{[f]:En,[b]:[{[f]:Xo,[b]:[{[f]:mt,endpoint:{[R]:qi,[k]:dn,[T]:M},[u]:x},{[f]:gt,endpoint:{[R]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[k]:dn,[T]:M},[u]:x},{endpoint:{[R]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[k]:dn,[T]:M},[u]:x}],[u]:w},go],[u]:w},un],[u]:w},ln],[u]:w},fn],[u]:w}],[u]:w}],[u]:w},yo],[u]:w},{error:"Invalid ARN: bucket ARN is missing a region",[u]:C}],[u]:w},bo],[u]:w},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[u]:C}],[u]:w},{[f]:bn,[b]:[{[f]:Go,[b]:[{[f]:wn,[b]:[{[f]:bn,[b]:[{[f]:wn,[b]:[mo,{[f]:Vo,[b]:[cn,{[f]:Sn,[b]:[{[f]:Me,[b]:[{[f]:[{[g]:L,[y]:[qc,"{partitionResult#name}"]}],[b]:[{[f]:xn,[b]:[{[f]:[{[g]:L,[y]:[an,vt]}],[b]:[{[f]:En,[b]:[{[f]:Xo,[b]:[{[f]:yn,error:"Access Points do not support S3 Accelerate",[u]:C},{[f]:[G,q],endpoint:{[R]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[k]:Bt,[T]:M},[u]:x},{[f]:[G,O],endpoint:{[R]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[k]:Bt,[T]:M},[u]:x},{[f]:[F,q],endpoint:{[R]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[k]:Bt,[T]:M},[u]:x},{[f]:[F,O,Y,Ee],endpoint:{[R]:qi,[k]:Bt,[T]:M},[u]:x},{[f]:[F,O],endpoint:{[R]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[k]:Bt,[T]:M},[u]:x}],[u]:w},go],[u]:w},un],[u]:w},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[u]:C}],[u]:w},ln],[u]:w},fn],[u]:w}],[u]:w}],[u]:w},yo],[u]:w}],[u]:w}],[u]:w},{[f]:[{[g]:lt,[y]:[Bs,Ue]}],[b]:[{[f]:Do,error:"S3 MRAP does not support dual-stack",[u]:C},{[f]:gt,error:"S3 MRAP does not support FIPS",[u]:C},{[f]:yn,error:"S3 MRAP does not support S3 Accelerate",[u]:C},{[f]:[{[g]:ee,[y]:[{[D]:"DisableMultiRegionAccessPoints"},Ue]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[u]:C},{[f]:[{[g]:xr,[y]:gn,[P]:Wi}],[b]:[{[f]:[{[g]:L,[y]:[{[g]:Q,[y]:[{[D]:Wi},J]},{[g]:Q,[y]:[ke,"partition"]}]}],[b]:[{endpoint:{[R]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[k]:{[xe]:[{[fe]:Ue,name:ks,[he]:vt,[vs]:um}]},[T]:M},[u]:x}],[u]:w},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[u]:C}],[u]:w}],[u]:w},{error:"Invalid Access Point Name",[u]:C}],[u]:w},bo],[u]:w},{[f]:[{[g]:L,[y]:[an,Kt]}],[b]:[{[f]:Do,error:"S3 Outposts does not support Dual-stack",[u]:C},{[f]:gt,error:"S3 Outposts does not support FIPS",[u]:C},{[f]:yn,error:"S3 Outposts does not support S3 Accelerate",[u]:C},{[f]:[{[g]:Te,[y]:[{[g]:Q,[y]:[ke,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[u]:C},{[f]:[{[g]:Q,[y]:lm,[P]:Wn}],[b]:[{[f]:qo,[b]:[cn,{[f]:Sn,[b]:[{[f]:Me,[b]:[{[f]:Zo,[b]:[{[f]:xn,[b]:[{[f]:En,[b]:[{[f]:[{[g]:Q,[y]:fm,[P]:Ki}],[b]:[{[f]:[{[g]:Q,[y]:[ke,"resourceId[3]"],[P]:Ds}],[b]:[{[f]:[{[g]:L,[y]:[{[D]:Ki},Nc]}],[b]:[{[f]:mt,endpoint:{[R]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[k]:wo,[T]:M},[u]:x},{endpoint:{[R]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[k]:wo,[T]:M},[u]:x}],[u]:w},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[u]:C}],[u]:w},{error:"Invalid ARN: expected an access point name",[u]:C}],[u]:w},{error:"Invalid ARN: Expected a 4-component resource",[u]:C}],[u]:w},un],[u]:w},ln],[u]:w},fn],[u]:w}],[u]:w}],[u]:w},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[u]:C}],[u]:w},{error:"Invalid ARN: The Outpost Id was not set",[u]:C}],[u]:w},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[u]:C}],[u]:w},{error:"Invalid ARN: No ARN type specified",[u]:C}],[u]:w},{[f]:[{[g]:W,[y]:[$,0,4,sm],[P]:Gi},{[g]:L,[y]:[{[D]:Gi},"arn:"]},{[g]:He,[y]:[{[g]:Te,[y]:[So]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[u]:C},{[f]:[{[g]:ee,[y]:[im,Ue]},So],error:"Path-style addressing cannot be used with ARN buckets",[u]:C},{[f]:cm,[b]:[{[f]:Me,[b]:[{[f]:[ne],[b]:[{[f]:[q,I,G,oe],endpoint:{[R]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:de,[T]:M},[u]:x},{[f]:[q,I,G,N,ue],[b]:[{endpoint:xo,[u]:x}],[u]:w},{[f]:[q,I,G,N,le],endpoint:xo,[u]:x},{[f]:[O,I,G,oe],endpoint:{[R]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:de,[T]:M},[u]:x},{[f]:[O,I,G,N,ue],[b]:[{endpoint:Eo,[u]:x}],[u]:w},{[f]:[O,I,G,N,le],endpoint:Eo,[u]:x},{[f]:[q,I,F,oe],endpoint:{[R]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[k]:de,[T]:M},[u]:x},{[f]:[q,I,F,N,ue],[b]:[{endpoint:Ao,[u]:x}],[u]:w},{[f]:[q,I,F,N,le],endpoint:Ao,[u]:x},{[f]:[O,Y,Ee,F,oe],endpoint:{[R]:Uc,[k]:de,[T]:M},[u]:x},{[f]:[O,Y,Ee,F,N,ue],[b]:[{[f]:qe,endpoint:hn,[u]:x},{endpoint:hn,[u]:x}],[u]:w},{[f]:[O,Y,Ee,F,N,le],endpoint:hn,[u]:x},{[f]:[O,I,F,oe],endpoint:{[R]:Vi,[k]:de,[T]:M},[u]:x},{[f]:[O,I,F,N,ue],[b]:[{[f]:qe,endpoint:{[R]:Vi,[k]:ie,[T]:M},[u]:x},{endpoint:_o,[u]:x}],[u]:w},{[f]:[O,I,F,N,le],endpoint:_o,[u]:x}],[u]:w},{error:"Path-style addressing cannot be used with S3 Accelerate",[u]:C}],[u]:w}],[u]:w}],[u]:w},{[f]:[{[g]:Te,[y]:[Co]},{[g]:ee,[y]:[Co,Ue]}],[b]:[{[f]:Me,[b]:[{[f]:Qo,[b]:[ho,po,{[f]:mt,endpoint:{[R]:ur,[k]:pn,[T]:M},[u]:x},{[f]:gt,endpoint:{[R]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[k]:pn,[T]:M},[u]:x},{endpoint:{[R]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[k]:pn,[T]:M},[u]:x}],[u]:w},or],[u]:w}],[u]:w},{[f]:[no],[b]:[{[f]:Me,[b]:[{[f]:Qo,[b]:[{[f]:[G,q,I,oe],endpoint:{[R]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[k]:de,[T]:M},[u]:x},{[f]:[G,q,I,N,ue],[b]:[{endpoint:vo,[u]:x}],[u]:w},{[f]:[G,q,I,N,le],endpoint:vo,[u]:x},{[f]:[G,O,I,oe],endpoint:{[R]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[k]:de,[T]:M},[u]:x},{[f]:[G,O,I,N,ue],[b]:[{endpoint:Ro,[u]:x}],[u]:w},{[f]:[G,O,I,N,le],endpoint:Ro,[u]:x},{[f]:[F,q,I,oe],endpoint:{[R]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[k]:de,[T]:M},[u]:x},{[f]:[F,q,I,N,ue],[b]:[{endpoint:ko,[u]:x}],[u]:w},{[f]:[F,q,I,N,le],endpoint:ko,[u]:x},{[f]:[F,O,Y,Ee,oe],endpoint:{[R]:ur,[k]:de,[T]:M},[u]:x},{[f]:[F,O,Y,Ee,N,ue],[b]:[{[f]:qe,endpoint:mn,[u]:x},{endpoint:mn,[u]:x}],[u]:w},{[f]:[F,O,Y,Ee,N,le],endpoint:mn,[u]:x},{[f]:[F,O,I,oe],endpoint:{[R]:Zi,[k]:de,[T]:M},[u]:x},{[f]:[F,O,I,N,ue],[b]:[{[f]:qe,endpoint:{[R]:Zi,[k]:ie,[T]:M},[u]:x},{endpoint:To,[u]:x}],[u]:w},{[f]:[F,O,I,N,le],endpoint:To,[u]:x}],[u]:w},or],[u]:w}],[u]:w}],[u]:w},{error:"A region must be set when sending requests to S3.",[u]:C}]},pm=hm,mm=new Th({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Kc=(e,t={})=>mm.get(e,()=>Vh(pm,{endpointParams:e,logger:t.logger}));br.aws=xc;const gm=e=>async(t,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const s=await e(t,r,n),i=Rt(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);const o=await Cc(n,{getEndpointParameterInstructions:i},t);return Object.assign(s,o)},ym=async(e,t,r)=>({operation:Rt(t).operation,region:await Oe(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),bm=gm(ym);function Gc(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Vc(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}const wm=(e,t,r)=>s=>{const o=e(s).properties?.authSchemes;if(!o)return t(s);const a=[];for(const d of o){const{name:c,properties:h={},...l}=d,p=c.toLowerCase();c!==p&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${c}\` to \`${p}\``);let m;if(p==="sigv4a"){m="aws.auth#sigv4a";const A=o.find(v=>{const _=v.name.toLowerCase();return _!=="sigv4a"&&_.startsWith("sigv4")});if(Tc.sigv4aDependency()==="none"&&A)continue}else if(p.startsWith("sigv4"))m="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${p}\``);const E=r[m];if(!E)throw new Error(`Could not find HttpAuthOption create function for \`${m}\``);const B=E(s);B.schemeId=m,B.signingProperties={...B.signingProperties||{},...l,...h},a.push(B)}return a},Sm=e=>{const t=[];switch(e.operation){default:t.push(Gc(e)),t.push(Vc(e))}return t},xm=wm(Kc,Sm,{"aws.auth#sigv4":Gc,"aws.auth#sigv4a":Vc}),Em=e=>{const t=Ll(e),r=pl(t);return Object.assign(r,{authSchemePreference:Oe(e.authSchemePreference??[])})},Am=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),Ms={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class pe extends bt{constructor(t){super(t),Object.setPrototypeOf(this,pe.prototype)}}class Is extends pe{name="NoSuchUpload";$fault="client";constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),Object.setPrototypeOf(this,Is.prototype)}}class Ps extends pe{name="ObjectNotInActiveTierError";$fault="client";constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,Ps.prototype)}}class Fs extends pe{name="BucketAlreadyExists";$fault="client";constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,Fs.prototype)}}class Os extends pe{name="BucketAlreadyOwnedByYou";$fault="client";constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),Object.setPrototypeOf(this,Os.prototype)}}class Ns extends pe{name="NoSuchBucket";$fault="client";constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),Object.setPrototypeOf(this,Ns.prototype)}}var Yo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Yo||(Yo={}));var Jo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Jo||(Jo={}));class Us extends pe{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),Object.setPrototypeOf(this,Us.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class $s extends pe{name="NoSuchKey";$fault="client";constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),Object.setPrototypeOf(this,$s.prototype)}}class Ls extends pe{name="NotFound";$fault="client";constructor(t){super({name:"NotFound",$fault:"client",...t}),Object.setPrototypeOf(this,Ls.prototype)}}const _m=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:De},...e.SessionToken&&{SessionToken:De}}),Cm=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:De},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:De},...e.Credentials&&{Credentials:_m(e.Credentials)}}),vm=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:De},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:De}}),Rm=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:De}}),km=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:De}});class Hs extends pe{name="EncryptionTypeMismatch";$fault="client";constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,Hs.prototype)}}class zs extends pe{name="InvalidRequest";$fault="client";constructor(t){super({name:"InvalidRequest",$fault:"client",...t}),Object.setPrototypeOf(this,zs.prototype)}}class js extends pe{name="InvalidWriteOffset";$fault="client";constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t}),Object.setPrototypeOf(this,js.prototype)}}class qs extends pe{name="TooManyParts";$fault="client";constructor(t){super({name:"TooManyParts",$fault:"client",...t}),Object.setPrototypeOf(this,qs.prototype)}}class Ws extends pe{name="IdempotencyParameterMismatch";$fault="client";constructor(t){super({name:"IdempotencyParameterMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,Ws.prototype)}}class Ks extends pe{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,Ks.prototype)}}var ea;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(ea||(ea={}));const Tm=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:De},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:De}}),Dm=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:De},...e.SSEKMSKeyId&&{SSEKMSKeyId:De},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:De}}),Bm=async(e,t)=>{const r=hs(e,t),n=Z({},Fe,{[Kg]:e[_g],[Xt]:e[Vt],[Qt]:e[Zt],[Fr]:e[Pr],[Je]:[()=>Fe(e[ut]),()=>e[ut].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const s=Z({[zg]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},Mm=async(e,t)=>{const r=hs(e,t),n=Z({},Fe,{[yd]:e[nd],[Mg]:[()=>Fe(e[ta]),()=>cr(e[ta]).toString()],[bd]:e[sd],[Ig]:[()=>Fe(e[ra]),()=>cr(e[ra]).toString()],[Fg]:e[mg],[Or]:e[Mr],[Rd]:e[dd],[Nr]:e[Ir],[Cd]:e[cd],[xd]:e[td],[Wg]:e[rg]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);const s=Z({[Dd]:[,"GetObject"],[Og]:[,e[gg]],[Ng]:[,e[yg]],[Ug]:[,e[bg]],[$g]:[,e[wg]],[Lg]:[,e[Sg]],[Hg]:[()=>e.ResponseExpires!==void 0,()=>cr(e[xg]).toString()],[jg]:[,e[Js]],[Pg]:[()=>e.PartNumber!==void 0,()=>e[pg].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},Im=async(e,t)=>{const r=hs(e,t),n=Z({},Fe,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,d)=>(a[`x-amz-meta-${d.toLowerCase()}`]=e.Metadata[d],a),{}),[md]:e[ed]||"application/octet-stream",[qg]:e[Jm],[ld]:e[Zc],[fd]:e[Xc],[hd]:e[Qc],[pd]:e[Yc],[Xn]:[()=>Fe(e[Gn]),()=>e[Gn].toString()],[Tg]:e[ng],[Jg]:e[tg],[ei]:e[Vs],[ti]:e[Zs],[ri]:e[Xs],[ni]:e[Qs],[si]:e[Ys],[Qn]:[()=>Fe(e[Vn]),()=>cr(e[Vn]).toString()],[yd]:e[nd],[bd]:e[sd],[Gg]:e[ag],[Vg]:e[cg],[Zg]:e[dg],[Xg]:e[ug],[ty]:[()=>Fe(e[na]),()=>e[na].toString()],[Xt]:e[Vt],[vd]:e[$t],[Td]:e[ud],[Or]:e[Mr],[Rd]:e[dd],[Nr]:e[Ir],[Qt]:e[Zt],[Fr]:e[Pr],[Je]:[()=>Fe(e[ut]),()=>e[ut].toString()],[Cd]:e[cd],[ey]:e[vg],[Ad]:e[od],[Yn]:[()=>Fe(e[Zn]),()=>sf(e[Zn]).toString()],[Ed]:e[id],[xd]:e[td]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);const s=Z({[Dd]:[,"PutObject"]});let i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},Pm=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gs(e,t);const r=Z({$metadata:me(e),[Vt]:[,e.headers[Xt]],[Zt]:[,e.headers[Qt]],[Pr]:[,e.headers[Fr]],[ut]:[()=>e.headers[Je]!==void 0,()=>pr(e.headers[Je])]}),n=Ft(Hu(await nc(e.body,t)),"body");return n[Cn]!=null&&(r[Cn]=Ym(n[Cn])),r},Fm=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gs(e,t);const r=Z({$metadata:me(e),[ig]:[()=>e.headers[ia]!==void 0,()=>pr(e.headers[ia])],[eg]:[,e.headers[kg]],[Ut]:[,e.headers[Sd]],[Ag]:[,e.headers[Qg]],[lg]:[()=>e.headers[sa]!==void 0,()=>Ft(Nn(e.headers[sa]))],[Gn]:[()=>e.headers[Xn]!==void 0,()=>ja(e.headers[Xn])],[rd]:[,e.headers[gd]],[Vs]:[,e.headers[ei]],[Zs]:[,e.headers[ti]],[Xs]:[,e.headers[ri]],[Qs]:[,e.headers[ni]],[Ys]:[,e.headers[si]],[Jc]:[,e.headers[wd]],[fg]:[()=>e.headers[oa]!==void 0,()=>qr(e.headers[oa])],[Js]:[,e.headers[kd]],[Zc]:[,e.headers[ld]],[Xc]:[,e.headers[fd]],[Qc]:[,e.headers[hd]],[Yc]:[,e.headers[pd]],[sg]:[,e.headers[Dg]],[ed]:[,e.headers[md]],[Vn]:[()=>e.headers[Qn]!==void 0,()=>Ft(Nn(e.headers[Qn]))],[og]:[,e.headers[Bg]],[ud]:[,e.headers[Td]],[Vt]:[,e.headers[Xt]],[Mr]:[,e.headers[Or]],[Ir]:[,e.headers[Nr]],[Zt]:[,e.headers[Qt]],[ut]:[()=>e.headers[Je]!==void 0,()=>pr(e.headers[Je])],[$t]:[,e.headers[vd]],[ad]:[,e.headers[_d]],[Eg]:[,e.headers[Yg]],[hg]:[()=>e.headers[aa]!==void 0,()=>qr(e.headers[aa])],[Rg]:[()=>e.headers[da]!==void 0,()=>qr(e.headers[da])],[od]:[,e.headers[Ad]],[Zn]:[()=>e.headers[Yn]!==void 0,()=>Ft(Ka(e.headers[Yn]))],[id]:[,e.headers[Ed]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,i)=>(s[i.substring(11)]=e.headers[i],s),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},Om=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gs(e,t);const r=Z({$metadata:me(e),[Ut]:[,e.headers[Sd]],[rd]:[,e.headers[gd]],[Vs]:[,e.headers[ei]],[Zs]:[,e.headers[ti]],[Xs]:[,e.headers[ri]],[Qs]:[,e.headers[ni]],[Ys]:[,e.headers[si]],[Jc]:[,e.headers[wd]],[Vt]:[,e.headers[Xt]],[Js]:[,e.headers[kd]],[Mr]:[,e.headers[Or]],[Ir]:[,e.headers[Nr]],[Zt]:[,e.headers[Qt]],[Pr]:[,e.headers[Fr]],[ut]:[()=>e.headers[Je]!==void 0,()=>pr(e.headers[Je])],[Cg]:[()=>e.headers[ca]!==void 0,()=>ja(e.headers[ca])],[ad]:[,e.headers[_d]]});return await za(e.body,t),r},Gs=async(e,t)=>{const r={...e,body:await df(e.body,t)},n=uf(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Gm(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Xm(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await Um(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await $m(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Wm(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await zm(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Km(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Vm(r);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await Lm(r);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await jm(r);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await qm(r);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await Qm(r);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await Hm(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Zm(r);default:const s=r.body;return Nm({output:e,parsedBody:s,errorCode:n})}},Nm=Gl(pe),Um=async(e,t)=>{const r=Z({});e.body;const n=new Fs({$metadata:me(e),...r});return Ce(n,e.body)},$m=async(e,t)=>{const r=Z({});e.body;const n=new Os({$metadata:me(e),...r});return Ce(n,e.body)},Lm=async(e,t)=>{const r=Z({});e.body;const n=new Hs({$metadata:me(e),...r});return Ce(n,e.body)},Hm=async(e,t)=>{const r=Z({});e.body;const n=new Ws({$metadata:me(e),...r});return Ce(n,e.body)},zm=async(e,t)=>{const r=Z({}),n=e.body;n[_n]!=null&&(r[_n]=Ot(n[_n])),n[$t]!=null&&(r[$t]=Ot(n[$t]));const s=new Us({$metadata:me(e),...r});return Ce(s,e.body)},jm=async(e,t)=>{const r=Z({});e.body;const n=new zs({$metadata:me(e),...r});return Ce(n,e.body)},qm=async(e,t)=>{const r=Z({});e.body;const n=new js({$metadata:me(e),...r});return Ce(n,e.body)},Wm=async(e,t)=>{const r=Z({});e.body;const n=new Ns({$metadata:me(e),...r});return Ce(n,e.body)},Km=async(e,t)=>{const r=Z({});e.body;const n=new $s({$metadata:me(e),...r});return Ce(n,e.body)},Gm=async(e,t)=>{const r=Z({});e.body;const n=new Is({$metadata:me(e),...r});return Ce(n,e.body)},Vm=async(e,t)=>{const r=Z({});e.body;const n=new Ls({$metadata:me(e),...r});return Ce(n,e.body)},Zm=async(e,t)=>{const r=Z({});e.body;const n=new Ks({$metadata:me(e),...r});return Ce(n,e.body)},Xm=async(e,t)=>{const r=Z({});e.body;const n=new Ps({$metadata:me(e),...r});return Ce(n,e.body)},Qm=async(e,t)=>{const r=Z({});e.body;const n=new qs({$metadata:me(e),...r});return Ce(n,e.body)},Ym=(e,t)=>{const r={};return e[An]!=null&&(r[An]=Ot(e[An])),e[vn]!=null&&(r[vn]=Ot(e[vn])),e[Rn]!=null&&(r[Rn]=Ot(e[Rn])),e[Ut]!=null&&(r[Ut]=Ft(Ka(e[Ut]))),r},me=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Jm="ACL",An="AccessKeyId",eg="AcceptRanges",_n="AccessTier",ut="BucketKeyEnabled",Cn="Credentials",tg="ChecksumAlgorithm",Zc="CacheControl",Vs="ChecksumCRC32",Zs="ChecksumCRC32C",Xs="ChecksumCRC64NVME",Xc="ContentDisposition",Qc="ContentEncoding",Yc="ContentLanguage",Gn="ContentLength",rg="ChecksumMode",ng="ContentMD5",sg="ContentRange",Qs="ChecksumSHA1",Ys="ChecksumSHA256",Jc="ChecksumType",ed="ContentType",ig="DeleteMarker",Vn="Expires",td="ExpectedBucketOwner",og="ExpiresString",rd="ETag",Ut="Expiration",ag="GrantFullControl",cg="GrantRead",dg="GrantReadACP",ug="GrantWriteACP",nd="IfMatch",ta="IfModifiedSince",sd="IfNoneMatch",ra="IfUnmodifiedSince",lg="LastModified",fg="MissingMeta",id="ObjectLockLegalHoldStatus",od="ObjectLockMode",Zn="ObjectLockRetainUntilDate",hg="PartsCount",pg="PartNumber",mg="Range",ad="RequestCharged",gg="ResponseCacheControl",yg="ResponseContentDisposition",bg="ResponseContentEncoding",wg="ResponseContentLanguage",Sg="ResponseContentType",xg="ResponseExpires",cd="RequestPayer",Eg="ReplicationStatus",Ag="Restore",vn="SecretAccessKey",$t="StorageClass",_g="SessionMode",Vt="ServerSideEncryption",Mr="SSECustomerAlgorithm",dd="SSECustomerKey",Ir="SSECustomerKeyMD5",Pr="SSEKMSEncryptionContext",Zt="SSEKMSKeyId",Rn="SessionToken",Cg="Size",vg="Tagging",Rg="TagCount",Js="VersionId",na="WriteOffsetBytes",ud="WebsiteRedirectLocation",kg="accept-ranges",ld="cache-control",fd="content-disposition",hd="content-encoding",pd="content-language",Xn="content-length",Tg="content-md5",Dg="content-range",md="content-type",Qn="expires",gd="etag",Bg="expiresstring",yd="if-match",Mg="if-modified-since",bd="if-none-match",Ig="if-unmodified-since",sa="last-modified",Pg="partNumber",Fg="range",Og="response-cache-control",Ng="response-content-disposition",Ug="response-content-encoding",$g="response-content-language",Lg="response-content-type",Hg="response-expires",zg="session",jg="versionId",qg="x-amz-acl",ei="x-amz-checksum-crc32",ti="x-amz-checksum-crc32c",ri="x-amz-checksum-crc64nvme",Wg="x-amz-checksum-mode",ni="x-amz-checksum-sha1",si="x-amz-checksum-sha256",Kg="x-amz-create-session-mode",wd="x-amz-checksum-type",ia="x-amz-delete-marker",Sd="x-amz-expiration",xd="x-amz-expected-bucket-owner",Gg="x-amz-grant-full-control",Vg="x-amz-grant-read",Zg="x-amz-grant-read-acp",Xg="x-amz-grant-write-acp",oa="x-amz-missing-meta",aa="x-amz-mp-parts-count",Ed="x-amz-object-lock-legal-hold",Ad="x-amz-object-lock-mode",Yn="x-amz-object-lock-retain-until-date",ca="x-amz-object-size",Qg="x-amz-restore",_d="x-amz-request-charged",Cd="x-amz-request-payer",Yg="x-amz-replication-status",vd="x-amz-storage-class",Jg="x-amz-sdk-checksum-algorithm",Xt="x-amz-server-side-encryption",Qt="x-amz-server-side-encryption-aws-kms-key-id",Je="x-amz-server-side-encryption-bucket-key-enabled",Fr="x-amz-server-side-encryption-context",Or="x-amz-server-side-encryption-customer-algorithm",Rd="x-amz-server-side-encryption-customer-key",Nr="x-amz-server-side-encryption-customer-key-md5",ey="x-amz-tagging",da="x-amz-tagging-count",kd="x-amz-version-id",ty="x-amz-write-offset-bytes",Td="x-amz-website-redirect-location",Dd="x-id";class ry extends Dr.classBuilder().ep({...Ms,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[ss(n,this.serialize,this.deserialize),Es(n,t.getEndpointParameterInstructions()),fc(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(vm,Cm).ser(Bm).de(Pm).build(){}const ny="3.906.0",sy={version:ny},iy=e=>new TextEncoder().encode(e);function ua(e){return typeof e=="string"?e.length===0:e.byteLength===0}var Bd={name:"SHA-1"},la={name:"HMAC",hash:Bd},oy=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const ay={};function Ze(){return typeof window<"u"?window:typeof self<"u"?self:ay}var cy=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(r,n){Ze().crypto.subtle.importKey("raw",fa(t),la,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!ua(t)){var r=fa(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return Ze().crypto.subtle.sign(la,r,t.toHash).then(function(n){return new Uint8Array(n)})}):ua(this.toHash)?Promise.resolve(oy):Promise.resolve().then(function(){return Ze().crypto.subtle.digest(Bd,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function fa(e){return typeof e=="string"?iy(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var dy=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Md(e){if(uy(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return ly(t)}return!1}function uy(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}function ly(e){return e&&dy.every(function(t){return typeof e[t]=="function"})}var fy=function(){function e(t){if(Md(Ze()))this.hash=new cy(t);else throw new Error("SHA1 not supported")}return e.prototype.update=function(t,r){this.hash.update(Qe(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),Id={name:"SHA-256"},ha={name:"HMAC",hash:Id},hy=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),py=function(){function e(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return e.prototype.update=function(t){if(!qt(t)){var r=Qe(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return Ze().crypto.subtle.sign(ha,r,t.toHash).then(function(n){return new Uint8Array(n)})}):qt(this.toHash)?Promise.resolve(hy):Promise.resolve().then(function(){return Ze().crypto.subtle.digest(Id,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){Ze().crypto.subtle.importKey("raw",Qe(t.secret),ha,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},e}(),Pe=64,my=32,gy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yy=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],by=Math.pow(2,53)-1,lr=function(){function e(){this.state=Int32Array.from(yy),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>by)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===Pe&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%Pe>=Pe-8){for(var s=this.bufferLength;s<Pe;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<Pe-8;s++)r.setUint8(s,0);r.setUint32(Pe-8,Math.floor(t/4294967296),!0),r.setUint32(Pe-4,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(my),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,s=n[0],i=n[1],o=n[2],a=n[3],d=n[4],c=n[5],h=n[6],l=n[7],p=0;p<Pe;p++){if(p<16)this.temp[p]=(r[p*4]&255)<<24|(r[p*4+1]&255)<<16|(r[p*4+2]&255)<<8|r[p*4+3]&255;else{var m=this.temp[p-2],E=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[p-15];var B=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[p]=(E+this.temp[p-7]|0)+(B+this.temp[p-16]|0)}var A=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&c^~d&h)|0)+(l+(gy[p]+this.temp[p]|0)|0)|0,v=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;l=h,h=c,c=d,d=a+A|0,a=o,o=i,i=s,s=A+v|0}n[0]+=s,n[1]+=i,n[2]+=o,n[3]+=a,n[4]+=d,n[5]+=c,n[6]+=h,n[7]+=l},e}(),wy=function(){function e(t){this.secret=t,this.hash=new lr,this.reset()}return e.prototype.update=function(t){if(!(qt(t)||this.error))try{this.hash.update(Qe(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return gs(this,void 0,void 0,function(){return ys(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new lr,this.secret){this.outer=new lr;var t=Sy(this.secret),r=new Uint8Array(Pe);r.set(t);for(var n=0;n<Pe;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e}();function Sy(e){var t=Qe(e);if(t.byteLength>Pe){var r=new lr;r.update(t),t=r.digest()}var n=new Uint8Array(Pe);return n.set(t),n}var xy=function(){function e(t){Md(Ze())?this.hash=new py(t):this.hash=new wy(t)}return e.prototype.update=function(t,r){this.hash.update(Qe(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const Ey={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Pd={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},X={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},Ae={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ke={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class S{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const s=S.getVersionPrecision(t),i=S.getVersionPrecision(r);let o=Math.max(s,i),a=0;const d=S.map([t,r],c=>{const h=o-S.getVersionPrecision(c),l=c+new Array(h+1).join(".0");return S.map(l.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(n&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(d[0][o]>d[1][o])return 1;if(d[0][o]===d[1][o]){if(o===a)return 0;o-=1}else if(d[0][o]<d[1][o])return-1}}static map(t,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(s=0;s<t.length;s+=1)n.push(r(t[s]));return n}static find(t,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,s=t.length;n<s;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let s,i;if(Object.assign)return Object.assign(t,...r);for(s=0,i=r.length;s<i;s+=1){const o=r[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(d=>{n[d]=o[d]})}return t}static getBrowserAlias(t){return Ey[t]}static getBrowserTypeByAlias(t){return Pd[t]||""}}const H=/version\/(\d+(\.?_?\d+)+)/i,Ay=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=S.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=S.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/PaleMoon/i],describe(e){const t={name:"Pale Moon"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=S.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=S.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=S.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=S.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=S.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=S.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=S.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=S.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=S.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=S.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=S.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=S.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=S.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=S.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=S.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=S.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=S.getFirstMatch(H,e)||S.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=S.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=S.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=S.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=S.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=S.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=S.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=S.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=S.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=S.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=S.getFirstMatch(H,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=e.search("\\(")!==-1?r:t;return{name:S.getFirstMatch(s,e),version:S.getSecondMatch(s,e)}}}],_y=[{test:[/Roku\/DVP/],describe(e){const t=S.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Ae.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=S.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Ae.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=S.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=S.getWindowsVersionName(t);return{name:Ae.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Ae.iOS},r=S.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=S.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=S.getMacOSVersionName(t),n={name:Ae.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=S.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Ae.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=S.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=S.getAndroidVersionName(t),n={name:Ae.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=S.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:Ae.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=S.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||S.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||S.getFirstMatch(/\bbb(\d+)/i,e);return{name:Ae.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=S.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Ae.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=S.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Ae.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:Ae.Linux}}},{test:[/CrOS/],describe(){return{name:Ae.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=S.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Ae.PlayStation4,version:t}}}],Cy=[{test:[/googlebot/i],describe(){return{type:X.bot,vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=S.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:X.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:X.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:X.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:X.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:X.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:X.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:X.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=S.getFirstMatch(/(ipod|iphone)/i,e);return{type:X.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:X.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe(e){const t=S.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,e),r={type:X.mobile,vendor:"Nokia"};return t&&(r.model=t),r}},{test:[/[^-]mobi/i],describe(){return{type:X.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:X.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:X.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:X.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:X.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:X.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:X.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:X.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:X.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:X.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:X.tv}}}],vy=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:Ke.Blink};const r=S.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Ke.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:Ke.Trident},r=S.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:Ke.Presto},r=S.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Ke.Gecko},r=S.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Ke.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:Ke.WebKit},r=S.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class pa{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=S.find(Ay,r=>{if(typeof r.test=="function")return r.test(this);if(Array.isArray(r.test))return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=S.find(_y,r=>{if(typeof r.test=="function")return r.test(this);if(Array.isArray(r.test))return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=S.find(Cy,r=>{if(typeof r.test=="function")return r.test(this);if(Array.isArray(r.test))return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=S.find(vy,r=>{if(typeof r.test=="function")return r.test(this);if(Array.isArray(r.test))return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return S.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const s={};let i=0;if(Object.keys(t).forEach(a=>{const d=t[a];typeof d=="string"?(s[a]=d,i+=1):typeof d=="object"&&(r[a]=d,n+=1)}),n>0){const a=Object.keys(r),d=S.find(a,h=>this.isOS(h));if(d){const h=this.satisfies(r[d]);if(h!==void 0)return h}const c=S.find(a,h=>this.isPlatform(h));if(c){const h=this.satisfies(r[c]);if(h!==void 0)return h}}if(i>0){const a=Object.keys(s),d=S.find(a,c=>this.isBrowser(c,!0));if(d!==void 0)return this.compareVersion(s[d])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=S.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(t){let r=[0],n=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(s=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(s=!0,n=t.substr(1)),r.indexOf(S.compareVersions(i,n,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Fd{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new pa(t,r)}static parse(t){return new pa(t).getResult()}static get BROWSER_MAP(){return Pd}static get ENGINE_MAP(){return Ke}static get OS_MAP(){return Ae}static get PLATFORMS_MAP(){return X}}const Ry=({serviceId:e,clientVersion:t})=>async r=>{const n=typeof window<"u"&&window?.navigator?.userAgent?Fd.parse(window.navigator.userAgent):void 0,s=[["aws-sdk-js",t],["ua","2.1"],[`os/${n?.os?.name||"other"}`,n?.os?.version],["lang/js"],["md/browser",`${n?.browser?.name??"unknown"}_${n?.browser?.version??"unknown"}`]];e&&s.push([`api/${e}`,t]);const i=await r?.userAgentAppId?.();return i&&s.push([`app/${i}`]),s};class Lt{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&ma(r),new Lt(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&ma(t),parseInt(Re(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function ma(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class ky{toUtf8;fromUtf8;constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){const r=[];for(const i of Object.keys(t)){const o=this.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":const a=this.fromUtf8(t.value),d=new DataView(new ArrayBuffer(3+a.byteLength));d.setUint8(0,7),d.setUint16(1,a.byteLength,!1);const c=new Uint8Array(d.buffer);return c.set(a,3),c;case"timestamp":const h=new Uint8Array(9);return h[0]=8,h.set(Lt.fromNumber(t.value.valueOf()).bytes,1),h;case"uuid":if(!Ny.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const l=new Uint8Array(17);return l[0]=9,l.set(Ha(t.value.replace(/\-/g,"")),1),l}}parse(t){const r={};let n=0;for(;n<t.byteLength;){const s=t.getUint8(n++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s));switch(n+=s,t.getUint8(n++)){case 0:r[i]={type:ya,value:!0};break;case 1:r[i]={type:ya,value:!1};break;case 2:r[i]={type:Ty,value:t.getInt8(n++)};break;case 3:r[i]={type:Dy,value:t.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:By,value:t.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:My,value:new Lt(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:const o=t.getUint16(n,!1);n+=2,r[i]={type:Iy,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:const a=t.getUint16(n,!1);n+=2,r[i]={type:Py,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[i]={type:Fy,value:new Date(new Lt(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const d=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[i]={type:Oy,value:`${Re(d.subarray(0,4))}-${Re(d.subarray(4,6))}-${Re(d.subarray(6,8))}-${Re(d.subarray(8,10))}-${Re(d.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var ga;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(ga||(ga={}));const ya="boolean",Ty="byte",Dy="short",By="integer",My="long",Iy="binary",Py="string",Fy="timestamp",Oy="uuid",Ny=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Od=4,Ge=Od*2,tt=4,Uy=Ge+tt*2;function $y({byteLength:e,byteOffset:t,buffer:r}){if(e<Uy)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");const i=n.getUint32(Od,!1),o=n.getUint32(Ge,!1),a=n.getUint32(e-tt,!1),d=new yr().update(new Uint8Array(r,t,Ge));if(o!==d.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${d.digest()})`);if(d.update(new Uint8Array(r,t+Ge,e-(Ge+tt))),a!==d.digest())throw new Error(`The message checksum (${d.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+Ge+tt,i),body:new Uint8Array(r,t+Ge+tt+i,s-i-(Ge+tt+tt))}}class Ly{headerMarshaller;messageBuffer;isEndOfStream;constructor(t,r){this.headerMarshaller=new ky(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){const n=this.headerMarshaller.format(t),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new yr;return o.setUint32(0,s,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),o.setUint32(s-4,a.update(i.subarray(8,s-4)).digest(),!1),i}decode(t){const{headers:r,body:n}=$y(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}}class Hy{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class zy{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class jy{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const r=await this.options.deserializer(t);r!==void 0&&(yield r)}}}class qy{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}function Wy(e){let t=0,r=0,n=null,s=null;const i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:d,done:c}=await a.next();if(c){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}const h=d.length;let l=0;for(;l<h;){if(!n){const m=h-l;s||(s=new Uint8Array(4));const E=Math.min(4-r,m);if(s.set(d.slice(l,l+E),r),r+=E,l+=E,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}const p=Math.min(t-r,h-l);n.set(d.slice(l,l+p),r),r+=p,l+=p,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function Ky(e,t){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){const s=r.headers[":exception-type"].value,i={[s]:r},o=await e(i);if(o.$unknown){const a=new Error(t(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){const s={[r.headers[":event-type"].value]:r},i=await e(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let Gy=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Ly(t,r),this.utfEncoder=t}deserialize(t,r){const n=Wy(t);return new jy({messageStream:new Hy({inputStream:n,decoder:this.eventStreamCodec}),deserializer:Ky(r,this.utfEncoder)})}serialize(t,r){return new zy({messageStream:new qy({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const Vy=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}}),Zy=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:s}=await t.next();if(n)return r.close();r.enqueue(s)}})};class Xy{universalMarshaller;constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Gy({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){const n=Qy(t)?Vy(t):t;return this.universalMarshaller.deserialize(n,r)}serialize(t,r){const n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?Zy(n):n}}const Qy=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,Yy=e=>new Xy(e);async function Jy(e,t,r=1024*1024){const n=e.size;let s=0;for(;s<n;){const i=e.slice(s,Math.min(n,s+r));t(new Uint8Array(await i.arrayBuffer())),s+=i.size}}const e0=async function(t,r){const n=new t;return await Jy(r,s=>{n.update(s)}),n.digest()},t0=e=>()=>Promise.reject(e),We=64,r0=16,n0=[1732584193,4023233417,2562383102,271733878];class s0{state;buffer;bufferLength;bytesHashed;finished;constructor(){this.reset()}update(t){if(i0(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=o0(t);let n=0,{byteLength:s}=r;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),s--,this.bufferLength===We&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:s}=this,i=s*8;if(r.setUint8(this.bufferLength++,128),n%We>=We-8){for(let o=this.bufferLength;o<We;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<We-8;o++)r.setUint8(o,0);r.setUint32(We-8,i>>>0,!0),r.setUint32(We-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(r0));for(let r=0;r<4;r++)t.setUint32(r*4,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:r}=this;let n=r[0],s=r[1],i=r[2],o=r[3];n=ye(n,s,i,o,t.getUint32(0,!0),7,3614090360),o=ye(o,n,s,i,t.getUint32(4,!0),12,3905402710),i=ye(i,o,n,s,t.getUint32(8,!0),17,606105819),s=ye(s,i,o,n,t.getUint32(12,!0),22,3250441966),n=ye(n,s,i,o,t.getUint32(16,!0),7,4118548399),o=ye(o,n,s,i,t.getUint32(20,!0),12,1200080426),i=ye(i,o,n,s,t.getUint32(24,!0),17,2821735955),s=ye(s,i,o,n,t.getUint32(28,!0),22,4249261313),n=ye(n,s,i,o,t.getUint32(32,!0),7,1770035416),o=ye(o,n,s,i,t.getUint32(36,!0),12,2336552879),i=ye(i,o,n,s,t.getUint32(40,!0),17,4294925233),s=ye(s,i,o,n,t.getUint32(44,!0),22,2304563134),n=ye(n,s,i,o,t.getUint32(48,!0),7,1804603682),o=ye(o,n,s,i,t.getUint32(52,!0),12,4254626195),i=ye(i,o,n,s,t.getUint32(56,!0),17,2792965006),s=ye(s,i,o,n,t.getUint32(60,!0),22,1236535329),n=be(n,s,i,o,t.getUint32(4,!0),5,4129170786),o=be(o,n,s,i,t.getUint32(24,!0),9,3225465664),i=be(i,o,n,s,t.getUint32(44,!0),14,643717713),s=be(s,i,o,n,t.getUint32(0,!0),20,3921069994),n=be(n,s,i,o,t.getUint32(20,!0),5,3593408605),o=be(o,n,s,i,t.getUint32(40,!0),9,38016083),i=be(i,o,n,s,t.getUint32(60,!0),14,3634488961),s=be(s,i,o,n,t.getUint32(16,!0),20,3889429448),n=be(n,s,i,o,t.getUint32(36,!0),5,568446438),o=be(o,n,s,i,t.getUint32(56,!0),9,3275163606),i=be(i,o,n,s,t.getUint32(12,!0),14,4107603335),s=be(s,i,o,n,t.getUint32(32,!0),20,1163531501),n=be(n,s,i,o,t.getUint32(52,!0),5,2850285829),o=be(o,n,s,i,t.getUint32(8,!0),9,4243563512),i=be(i,o,n,s,t.getUint32(28,!0),14,1735328473),s=be(s,i,o,n,t.getUint32(48,!0),20,2368359562),n=we(n,s,i,o,t.getUint32(20,!0),4,4294588738),o=we(o,n,s,i,t.getUint32(32,!0),11,2272392833),i=we(i,o,n,s,t.getUint32(44,!0),16,1839030562),s=we(s,i,o,n,t.getUint32(56,!0),23,4259657740),n=we(n,s,i,o,t.getUint32(4,!0),4,2763975236),o=we(o,n,s,i,t.getUint32(16,!0),11,1272893353),i=we(i,o,n,s,t.getUint32(28,!0),16,4139469664),s=we(s,i,o,n,t.getUint32(40,!0),23,3200236656),n=we(n,s,i,o,t.getUint32(52,!0),4,681279174),o=we(o,n,s,i,t.getUint32(0,!0),11,3936430074),i=we(i,o,n,s,t.getUint32(12,!0),16,3572445317),s=we(s,i,o,n,t.getUint32(24,!0),23,76029189),n=we(n,s,i,o,t.getUint32(36,!0),4,3654602809),o=we(o,n,s,i,t.getUint32(48,!0),11,3873151461),i=we(i,o,n,s,t.getUint32(60,!0),16,530742520),s=we(s,i,o,n,t.getUint32(8,!0),23,3299628645),n=Se(n,s,i,o,t.getUint32(0,!0),6,4096336452),o=Se(o,n,s,i,t.getUint32(28,!0),10,1126891415),i=Se(i,o,n,s,t.getUint32(56,!0),15,2878612391),s=Se(s,i,o,n,t.getUint32(20,!0),21,4237533241),n=Se(n,s,i,o,t.getUint32(48,!0),6,1700485571),o=Se(o,n,s,i,t.getUint32(12,!0),10,2399980690),i=Se(i,o,n,s,t.getUint32(40,!0),15,4293915773),s=Se(s,i,o,n,t.getUint32(4,!0),21,2240044497),n=Se(n,s,i,o,t.getUint32(32,!0),6,1873313359),o=Se(o,n,s,i,t.getUint32(60,!0),10,4264355552),i=Se(i,o,n,s,t.getUint32(24,!0),15,2734768916),s=Se(s,i,o,n,t.getUint32(52,!0),21,1309151649),n=Se(n,s,i,o,t.getUint32(16,!0),6,4149444226),o=Se(o,n,s,i,t.getUint32(44,!0),10,3174756917),i=Se(i,o,n,s,t.getUint32(8,!0),15,718787259),s=Se(s,i,o,n,t.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=s+r[1]&4294967295,r[2]=i+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(n0),this.buffer=new DataView(new ArrayBuffer(We)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Ur(e,t,r,n,s,i){return t=(t+e&4294967295)+(n+i&4294967295)&4294967295,(t<<s|t>>>32-s)+r&4294967295}function ye(e,t,r,n,s,i,o){return Ur(t&r|~t&n,e,t,s,i,o)}function be(e,t,r,n,s,i,o){return Ur(t&n|r&~n,e,t,s,i,o)}function we(e,t,r,n,s,i,o){return Ur(t^r^n,e,t,s,i,o)}function Se(e,t,r,n,s,i,o){return Ur(r^(t|~n),e,t,s,i,o)}function i0(e){return typeof e=="string"?e.length===0:e.byteLength===0}function o0(e){return typeof e=="string"?dt(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const a0=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??is,base64Encoder:e?.base64Encoder??Tr,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Kc,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??ku,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??xm,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Oa},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new su}],logger:e?.logger??new ps,sdkStreamMixin:e?.sdkStreamMixin??Ou,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??Tc,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??wr,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??dt,utf8Encoder:e?.utf8Encoder??kr}),c0=["in-region","cross-region","mobile","standard","legacy"],d0=({defaultsMode:e}={})=>hl(async()=>{const t=typeof e=="function"?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(u0()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${c0.join(", ")}, got ${t}`)}}),u0=()=>{const t=(typeof window<"u"&&window?.navigator?.userAgent?Fd.parse(window.navigator.userAgent):void 0)?.platform?.type;return t==="tablet"||t==="mobile"},l0=e=>{const t=d0(e),r=()=>t().then(Zl),n=a0(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??jl,credentialDefaultProvider:e?.credentialDefaultProvider??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??Ry({serviceId:n.serviceId,clientVersion:sy.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??Yy,maxAttempts:e?.maxAttempts??Sr,md5:e?.md5??s0,region:e?.region??t0("Region is missing"),requestHandler:os.create(e?.requestHandler??r),retryMode:e?.retryMode??(async()=>(await r()).retryMode||Tp),sha1:e?.sha1??fy,sha256:e?.sha256??xy,streamCollector:e?.streamCollector??$a,streamHasher:e?.streamHasher??e0,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(lp)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(fp))}},f0=e=>({setRegion(t){e.region=t},region(){return e.region}}),h0=e=>({region:e.region()}),p0=e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){const i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},m0=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),g0=(e,t)=>{const r=Object.assign(f0(e),ef(e),Vd(e),p0(e));return t.forEach(n=>n.configure(r)),Object.assign(e,h0(r),tf(r),Zd(r),m0(r))};class y0 extends ql{config;constructor(...[t]){const r=l0(t||{});super(r),this.initConfig=r;const n=Am(r),s=kh(n),i=If(s),o=Vp(i),a=hp(o),d=a,c=kp(d),h=pp(c),l=Em(h),p=ph(l,{session:[()=>this,ry]}),m=g0(p,t?.extensions||[]);this.config=m,this.middlewareStack.use(up(this.config)),this.middlewareStack.use(tm(this.config)),this.middlewareStack.use(yp(this.config)),this.middlewareStack.use(Of(this.config)),this.middlewareStack.use($f(this.config)),this.middlewareStack.use(zf(this.config)),this.middlewareStack.use(du(this.config,{httpAuthSchemeParametersProvider:bm,identityProviderConfigProvider:async E=>new cl({"aws.auth#sigv4":E.credentials,"aws.auth#sigv4a":E.credentials})})),this.middlewareStack.use(gu(this.config)),this.middlewareStack.use(Ch(this.config)),this.middlewareStack.use(Jd(this.config)),this.middlewareStack.use(Yf(this.config)),this.middlewareStack.use(ch(this.config)),this.middlewareStack.use(hh(this.config))}destroy(){super.destroy()}}function b0(e){return t=>async r=>{const n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const i of s){const o=n[i.target];if(o){let a;typeof o=="string"?S0(o,e)?a=e.base64Decoder(o):(a=e.utf8Decoder(o),n[i.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[i.target]=e.base64Encoder(a));const d=new e.md5;d.update(a),n[i.hash]=e.base64Encoder(await d.digest())}}return t({...r,input:n})}}const w0={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Nd=e=>({applyToStack:t=>{t.add(b0(e),w0)}});function S0(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}class x0 extends Dr.classBuilder().ep({...Ms,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ss(n,this.serialize,this.deserialize),Es(n,t.getEndpointParameterInstructions()),lc(n,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),Nd(n),th()]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(km,Rm).ser(Mm).de(Fm).build(){}class E0 extends Dr.classBuilder().ep({...Ms,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[ss(n,this.serialize,this.deserialize),Es(n,t.getEndpointParameterInstructions()),lc(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Gf(),fc(n),Nd(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Dm,Tm).ser(Im).de(Om).build(){}const A0={},{AWS_REGION:_0,AWS_ACCESS_KEY_ID:C0,AWS_SECRET_ACCESS_KEY:v0,BUCKET_NAME:R0}=A0,ba=new y0({region:_0,credentials:{accessKeyId:C0,secretAccessKey:v0}}),wa=R0,Sa="data.json";async function xa(e,t){if(t){const a=new E0({Bucket:wa,Key:Sa,Body:JSON.stringify(t)});await ba.send(a);return}const r=new x0({Bucket:wa,Key:Sa});let n;try{n=await ba.send(r)}catch(a){if(a.constructor.name=="_NoSuchKey")return[];throw a}const i=await n.Body.getReader().read(),o=new TextDecoder("utf-8").decode(i.value);return JSON.parse(o)}class k0{constructor(t,r){this.key=t,this.todos=[],this.onChanges=[r],this.init()}async init(){this.todos=await xa(this.key),this.onChanges.forEach(t=>t())}async inform(){await xa(this.key,this.todos),this.onChanges.forEach(t=>t())}addTodo(t){this.todos=this.todos.concat({id:Kd(),title:t,completed:!1}),this.inform()}toggleAll(t){this.todos=this.todos.map(r=>({...r,completed:t})),this.inform()}toggle(t){this.todos=this.todos.map(r=>r!==t?r:{...r,completed:!r.completed}),this.inform()}destroy(t){this.todos=this.todos.filter(r=>r!==t),this.inform()}save(t,r){this.todos=this.todos.map(n=>n!==t?n:{...n,title:r}),this.inform()}clearCompleted(){this.todos=this.todos.filter(t=>!t.completed),this.inform()}}class T0 extends it{render({nowShowing:t,count:r,completedCount:n,onClearCompleted:s}){return z("footer",{class:"footer",children:[z("span",{class:"todo-count",children:[z("strong",{children:r})," ",Gd(r,"item")," left"]}),z("ul",{class:"filters",children:[z("li",{children:z("a",{href:"#/",class:t=="all"&&"selected",children:"All"})})," ",z("li",{children:z("a",{href:"#/active",class:t=="active"&&"selected",children:"Active"})})," ",z("li",{children:z("a",{href:"#/completed",class:t=="completed"&&"selected",children:"Completed"})})]}),n>0&&z("button",{class:"clear-completed",onClick:s,children:"Clear completed"})]})}}function D0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kn={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ea;function B0(){return Ea||(Ea=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,n(a)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)t.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(kn)),kn.exports}var M0=B0();const I0=D0(M0),P0=27,F0=13;class O0 extends it{handleSubmit=()=>{let{onSave:t,onDestroy:r,todo:n}=this.props,s=this.state.editText.trim();s?(t(n,s),this.setState({editText:s})):r(n)};handleEdit=()=>{let{onEdit:t,todo:r}=this.props;t(r),this.setState({editText:r.title})};toggle=t=>{let{onToggle:r,todo:n}=this.props;r(n),t.preventDefault()};handleTextInput=t=>{this.setState({editText:t.target.value})};handleKeyDown=t=>{if(t.which===P0){let{todo:r}=this.props;this.setState({editText:r.title}),this.props.onCancel(r)}else t.which===F0&&this.handleSubmit()};handleDestroy=()=>{this.props.onDestroy(this.props.todo)};componentDidUpdate(){let t=this.base&&this.base.querySelector(".edit");t&&t.focus()}render({todo:{title:t,completed:r},onToggle:n,onDestroy:s,editing:i},{editText:o}){return z("li",{class:I0({completed:r,editing:i}),children:[z("div",{class:"view",children:[z("input",{class:"toggle",type:"checkbox",checked:r,onChange:this.toggle}),z("label",{onDblClick:this.handleEdit,children:t}),z("button",{class:"destroy",onClick:this.handleDestroy})]}),i&&z("input",{class:"edit",value:o,onBlur:this.handleSubmit,onInput:this.handleTextInput,onKeyDown:this.handleKeyDown})]})}}const N0=13,Aa={all:e=>!0,active:e=>!e.completed,completed:e=>e.completed};class U0 extends it{constructor(){super(),this.model=new k0("preact-todos",()=>this.setState({})),addEventListener("hashchange",this.handleRoute.bind(this)),this.handleRoute()}handleRoute(){let t=String(location.hash||"").split("/").pop();Aa[t]||(t="all"),this.setState({nowShowing:t})}handleNewTodoKeyDown=t=>{if(t.keyCode!==N0)return;t.preventDefault();let r=this.state.newTodo.trim();r&&(this.model.addTodo(r),this.setState({newTodo:""}))};handleNewTodoInput=t=>{this.setState({newTodo:t.target.value})};toggleAll=t=>{let r=t.target.checked;this.model.toggleAll(r)};toggle=t=>{this.model.toggle(t)};destroy=t=>{this.model.destroy(t)};edit=t=>{this.setState({editing:t.id})};save=(t,r)=>{this.model.save(t,r),this.setState({editing:null})};cancel=()=>{this.setState({editing:null})};clearCompleted=()=>{this.model.clearCompleted()};render({},{nowShowing:t=ALL_TODOS,newTodo:r,editing:n}){let{todos:s}=this.model,i=s.filter(Aa[t]),o=s.reduce((d,c)=>d+(c.completed?0:1),0),a=s.length-o;return z("div",{children:[z("header",{class:"header",children:[z("h1",{children:"todos"}),z("input",{class:"new-todo",placeholder:"What needs to be done?",value:r,onKeyDown:this.handleNewTodoKeyDown,onInput:this.handleNewTodoInput,autoFocus:!0})]}),s.length?z("section",{class:"main",children:[z("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",onChange:this.toggleAll,checked:o===0}),z("label",{for:"toggle-all",children:"Mark all as complete"}),z("ul",{class:"todo-list",children:i.map(d=>z(O0,{todo:d,onToggle:this.toggle,onDestroy:this.destroy,onEdit:this.edit,editing:n===d.id,onSave:this.save,onCancel:this.cancel}))})]}):null,o||a?z(T0,{count:o,completedCount:a,nowShowing:t,onClearCompleted:this.clearCompleted}):null]})}}qd(z(U0,{}),document.getElementById("app"));
